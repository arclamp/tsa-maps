!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){!function(e,i){t.exports=i(function(){try{return n(5)}catch(t){}}(),function(){try{return n(2)}catch(t){}}())}("undefined"!=typeof self&&self,function(t,e){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist/built",n(n.s=131)}([function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var i=n(2),r={dom:{}},o={},a={},s={},l={},u={},c={},h={},p={},d={registerFileReader:function(t,e){c[t]=e},createFileReader:function(t,e){return c.hasOwnProperty(t)?c[t](e):null},registerRenderer:function(t,e){s[t]=e},createRenderer:function(t,e,n,i){if(s.hasOwnProperty(t)){var r=s[t]({layer:e,canvas:n,options:i});return r._init(),r}return null},checkRenderer:function(t,e){if(null===t)return t;if(s.hasOwnProperty(t)){var n=s[t];if(!n.supported||n.supported())return t;if(!n.fallback||e)return!1;var i=d.checkRenderer(n.fallback(),!0);return!1!==i&&console.warn(t+" renderer is unavailable, using "+i+" renderer instead"),i}return!1},rendererForFeatures:function(t){var e,n,i,r,o,a,s=["vgl","canvas","d3",null];for(n=0;n<s.length;n+=1)if(e=s[n],!1!==d.checkRenderer(e,!0)){if(!t)return e;if(l[e]){for(a=!0,r=0;r<t.length;r+=1){if(o=null,(i=t[r]).indexOf(".")>=0&&(o=i,i=i.substr(0,i.indexOf("."))),void 0===l[e][i]){a=!1;break}if(o&&u[e][i]&&!u[e][i][o]){a=!1;break}}if(a)return e}}return console.warn('There is no renderer available for the feature list "'+(t||[]).join(", ")+'".'),!1},registerFeature:function(t,e,n,i){t in l||(l[t]={},u[t]={});var r=l[t][e];return r&&console.warn("The "+t+"."+e+" feature is already registered"),l[t][e]=n,u[t][e]=i,r},createFeature:function(t,e,n,r){var o=n.api(),a={layer:e,renderer:n};if(o in l&&t in l[o]){void 0!==r&&i.extend(!0,a,r);var s=l[o][t](a);return void 0===e.gcs&&(e.gcs=function(){return e.map().gcs()}),s}return null},registerLayerAdjustment:function(t,e,n){t in h||(h[t]={});var i=h[t][e];return i&&console.warn("The "+t+"."+e+" layer adjustment is already registered"),h[t][e]=n,i},adjustLayerForRenderer:function(t,e){var n=e.rendererName();n&&h&&h[n]&&h[n][t]&&h[n][t].apply(e)},registerLayer:function(t,e,n){o[t]=e,a[t]=n},createLayer:function(t,e,n){var r={map:e},s=null;return t in o?(n.renderer||n.features||!a||(r.features=a[t]),void 0!==n&&i.extend(!0,r,n),(s=o[t](r)).layerName=t,s._init(),s):null},registerWidget:function(t,e,n){t in r||(r[t]={});var i=r[t][e];return i&&console.warn("The "+t+"."+e+" widget is already registered"),r[t][e]=n,i},createWidget:function(t,e,n){var o={layer:e};if(t in r.dom)return void 0!==n&&i.extend(!0,o,n),r.dom[t](o);throw new Error("Cannot create unknown widget "+t)},registerAnnotation:function(t,e,n){var i=p[t];return i&&console.warn("The "+t+" annotation is already registered"),p[t]={func:e,features:n||{}},i},createAnnotation:function(t,e){if(p[t])return p[t].func(e);console.warn("The "+t+" annotation is not registered")},listAnnotations:function(){return Object.keys(p)},featuresForAnnotations:function(t){var e=[];return(Array.isArray(t)?t:Object.keys(t)).forEach(function(n){p[n]&&Object.keys(p[n].features).forEach(function(r){Array.isArray(t)||!0===t[n]||!Array.isArray(p[n].features[r])?e.push(r):t[n].forEach(function(t){i.inArray(t,p[n].features[r])>=0&&e.push(r)})})}),e},rendererForAnnotations:function(t){return d.rendererForFeatures(d.featuresForAnnotations(t))}};d.registries={annotations:p,features:l,featureCapabilities:u,fileReaders:c,layers:o,renderers:s},t.exports=d},function(t,e,n){var i;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,l=o.slice,u=o.concat,c=o.push,h=o.indexOf,p={},d=p.toString,f=p.hasOwnProperty,v=f.toString,g=v.call(Object),m={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},x=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function A(t,e,n){var i,r=(e=e||a).createElement("script");if(r.text=t,n)for(i in _)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?p[d.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)},O=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,n=b(t);return!y(t)&&!x(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},w.extend=w.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(i=t[e])&&(u&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[e]=w.extend(u,o,i)):void 0!==i&&(a[e]=i));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=s(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&v.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){A(t)},each:function(t,e){var n,i=0;if(S(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(O,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?w.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(S(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return u.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=o[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()});var M=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,n,i,r,o,a,s,l,u,c,h,p,d,f,v,g,m,y,x,_="sizzle"+1*new Date,A=t.document,b=0,w=0,O=at(),S=at(),M=at(),T=function(t,e){return t===e&&(h=!0),0},D={}.hasOwnProperty,C=[],F=C.pop,E=C.push,P=C.push,L=C.slice,R=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",G="\\["+I+"*("+N+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+I+"*\\]",j=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+G+")*)|.*)\\)|)",V=new RegExp(I+"+","g"),z=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),B=new RegExp("^"+I+"*,"+I+"*"),U=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),H=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),q=new RegExp(j),X=new RegExp("^"+N+"$"),W={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+G),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){p()},rt=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{P.apply(C=L.call(A.childNodes),A.childNodes),C[A.childNodes.length].nodeType}catch(t){P={apply:C.length?function(t,e){E.apply(t,L.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,s,u,c,h,f,m,y=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!r&&((e?e.ownerDocument||e:A)!==d&&p(e),e=e||d,v)){if(11!==b&&(h=Z.exec(t)))if(o=h[1]){if(9===b){if(!(u=e.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&x(e,u)&&u.id===o)return i.push(u),i}else{if(h[2])return P.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!M[t+" "]&&(!g||!g.test(t))){if(1!==b)y=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=_),s=(f=a(t)).length;s--;)f[s]="#"+c+" "+mt(f[s]);m=f.join(","),y=J.test(t)&&vt(e.parentNode)||e}if(m)try{return P.apply(i,y.querySelectorAll(m)),i}catch(t){}finally{c===_&&e.removeAttribute("id")}}}return l(t.replace(z,"$1"),e,i,r)}function at(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[_]=!0,t}function lt(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return st(function(e){return e=+e,st(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},p=ot.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:A;return a!==d&&9===a.nodeType&&a.documentElement?(f=(d=a).documentElement,v=!o(d),A!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=lt(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=lt(function(t){return f.appendChild(t).id=_,!d.getElementsByName||!d.getElementsByName(_).length}),n.getById?(i.filter.ID=function(t){var e=t.replace($,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace($,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&v)return e.getElementsByClassName(t)},m=[],g=[],(n.qsa=Q.test(d.querySelectorAll))&&(lt(function(t){f.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+I+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+I+"*(?:value|"+k+")"),t.querySelectorAll("[id~="+_+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+I+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&lt(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),m.push("!=",j)}),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),e=Q.test(f.compareDocumentPosition),x=e||Q.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===d||t.ownerDocument===A&&x(A,t)?-1:e===d||e.ownerDocument===A&&x(A,e)?1:c?R(c,t)-R(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===d?-1:e===d?1:r?-1:o?1:c?R(c,t)-R(c,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ct(a[i],s[i]):a[i]===A?-1:s[i]===A?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&p(t),e=e.replace(H,"='$1']"),n.matchesSelector&&v&&!M[e+" "]&&(!m||!m.test(e))&&(!g||!g.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&p(t),x(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&p(t);var r=i.attrHandle[e.toLowerCase()],o=r&&D.call(i.attrHandle,e.toLowerCase())?r(t,e,!v):void 0;return void 0!==o?o:n.attributes||!v?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(T),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:st,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace($,tt),t[3]=(t[3]||t[4]||t[5]||"").replace($,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return W.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace($,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=O[t+" "];return e||(e=new RegExp("(^|"+I+")"+t+"("+I+"|$)"))&&O(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(V," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,p,d,f,v=o!==a?"nextSibling":"previousSibling",g=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!l&&!s,x=!1;if(g){if(o){for(;v;){for(p=e;p=p[v];)if(s?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;f=v="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(x=(d=(u=(c=(h=(p=g)[_]||(p[_]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===b&&u[1])&&u[2],p=d&&g.childNodes[d];p=++d&&p&&p[v]||(x=d=0)||f.pop();)if(1===p.nodeType&&++x&&p===e){c[t]=[b,d,x];break}}else if(y&&(x=d=(u=(c=(h=(p=e)[_]||(p[_]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===b&&u[1]),!1===x)for(;(p=++d&&p&&p[v]||(x=d=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++x||(y&&((c=(h=p[_]||(p[_]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]=[b,x]),p!==e)););return(x-=r)===i||x%i==0&&x/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=R(t,o[a])]=!(n[i]=o[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:st(function(t){var e=[],n=[],i=s(t.replace(z,"$1"));return i[_]?st(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace($,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){return X.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace($,tt).toLowerCase(),function(e){var n;do{if(n=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return Y.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,n){return[n<0?n+e:n]}),even:ft(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ft(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ft(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:ft(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=pt(e);function gt(){}function mt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=w++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var u,c,h,p=[b,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(c=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===b&&u[1]===s)return p[2]=u[2];if(c[o]=p,p[2]=t(e,n,l))return!0}return!1}}function xt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function _t(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function At(t,e,n,i,r,o){return i&&!i[_]&&(i=At(i)),r&&!r[_]&&(r=At(r,o)),st(function(o,a,s,l){var u,c,h,p=[],d=[],f=a.length,v=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?v:_t(v,p,t,s,l),m=n?r||(o?t:f||i)?[]:a:g;if(n&&n(g,m,s,l),i)for(u=_t(m,d),i(u,[],s,l),c=u.length;c--;)(h=u[c])&&(m[d[c]]=!(g[d[c]]=h));if(o){if(r||t){if(r){for(u=[],c=m.length;c--;)(h=m[c])&&u.push(g[c]=h);r(null,m=[],u,l)}for(c=m.length;c--;)(h=m[c])&&(u=r?R(o,h):p[c])>-1&&(o[u]=!(a[u]=h))}}else m=_t(m===a?m.splice(f,m.length):m),r?r(null,a,m,l):P.apply(a,m)})}function bt(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],l=a?1:0,c=yt(function(t){return t===e},s,!0),h=yt(function(t){return R(e,t)>-1},s,!0),p=[function(t,n,i){var r=!a&&(i||n!==u)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])p=[yt(xt(p),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[_]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return At(l>1&&xt(p),l>1&&mt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(z,"$1"),n,l<r&&bt(t.slice(l,r)),r<o&&bt(t=t.slice(r)),r<o&&mt(t))}p.push(n)}return xt(p)}return gt.prototype=i.filters=i.pseudos,i.setFilters=new gt,a=ot.tokenize=function(t,e){var n,r,o,a,s,l,u,c=S[t+" "];if(c)return e?0:c.slice(0);for(s=t,l=[],u=i.preFilter;s;){for(a in n&&!(r=B.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length)),i.filter)!(r=W[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):S(t,l).slice(0)},s=ot.compile=function(t,e){var n,r=[],o=[],s=M[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=bt(e[n]))[_]?r.push(s):o.push(s);(s=M(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,l,c){var h,f,g,m=0,y="0",x=o&&[],_=[],A=u,w=o||r&&i.find.TAG("*",c),O=b+=null==A?1:Math.random()||.1,S=w.length;for(c&&(u=a===d||a||c);y!==S&&null!=(h=w[y]);y++){if(r&&h){for(f=0,a||h.ownerDocument===d||(p(h),s=!v);g=t[f++];)if(g(h,a||d,s)){l.push(h);break}c&&(b=O)}n&&((h=!g&&h)&&m--,o&&x.push(h))}if(m+=y,n&&y!==m){for(f=0;g=e[f++];)g(x,_,a,s);if(o){if(m>0)for(;y--;)x[y]||_[y]||(_[y]=F.call(l));_=_t(_)}P.apply(l,_),c&&!o&&_.length>0&&m+e.length>1&&ot.uniqueSort(l)}return c&&(b=O,u=A),x};return n?st(o):o}(o,r))).selector=t}return s},l=ot.select=function(t,e,n,r){var o,l,u,c,h,p="function"==typeof t&&t,d=!r&&a(t=p.selector||t);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&v&&i.relative[l[1].type]){if(!(e=(i.find.ID(u.matches[0].replace($,tt),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=W.needsContext.test(t)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((h=i.find[c])&&(r=h(u.matches[0].replace($,tt),J.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&mt(l)))return P.apply(n,r),n;break}}return(p||s(t,d))(r,e,!v,n,!e||J.test(t)&&vt(e.parentNode)||e),n},n.sortStable=_.split("").sort(T).join("")===_,n.detectDuplicates=!!h,p(),n.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ut(k,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);w.find=M,w.expr=M.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=M.uniqueSort,w.text=M.getText,w.isXMLDoc=M.isXML,w.contains=M.contains,w.escapeSelector=M.escape;var T=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&w(t).is(n))break;i.push(t)}return i},D=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},C=w.expr.match.needsContext;function F(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,n){return y(e)?w.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?w.grep(t,function(t){return t===e!==n}):"string"!=typeof e?w.grep(t,function(t){return h.call(e,t)>-1!==n}):w.filter(e,t,n)}w.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?w.find.matchesSelector(i,t)?[i]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<i;e++)if(w.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)w.find(t,r[e],n);return i>1?w.uniqueSort(n):n},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&C.test(t)?w(t):t||[],!1).length}});var L,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||L,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),E.test(i[1])&&w.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=a.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,L=w(a);var k=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&w(t);if(!C.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(w(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return T(t,"parentNode")},parentsUntil:function(t,e,n){return T(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return T(t,"nextSibling")},prevAll:function(t){return T(t,"previousSibling")},nextUntil:function(t,e,n){return T(t,"nextSibling",n)},prevUntil:function(t,e,n){return T(t,"previousSibling",n)},siblings:function(t){return D((t.parentNode||{}).firstChild,t)},children:function(t){return D(t.firstChild)},contents:function(t){return F(t,"iframe")?t.contentDocument:(F(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(t,e){w.fn[t]=function(n,i){var r=w.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(I[t]||w.uniqueSort(r),k.test(t)&&r.reverse()),this.pushStack(r)}});var G=/[^\x20\t\r\n\f]+/g;function j(t){return t}function V(t){throw t}function z(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(G)||[],function(t,n){e[n]=!0}),e}(t):w.extend({},t);var e,n,i,r,o=[],a=[],s=-1,l=function(){for(r=r||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){w.each(n,function(n,i){y(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==b(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return w.each(arguments,function(t,e){for(var n;(n=w.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?w.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},w.extend({Deferred:function(t){var e=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return w.Deferred(function(n){w.each(e,function(e,i){var r=y(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function a(t,e,i,r){return function(){var s=this,l=arguments,u=function(){var n,u;if(!(t<o)){if((n=i.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(u)?r?u.call(n,a(o,e,j,r),a(o,e,V,r)):(o++,u.call(n,a(o,e,j,r),a(o,e,V,r),a(o,e,j,e.notifyWith))):(i!==j&&(s=void 0,l=[n]),(r||e.resolveWith)(s,l))}},c=r?u:function(){try{u()}catch(n){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==V&&(s=void 0,l=[n]),e.rejectWith(s,l))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),n.setTimeout(c))}}return w.Deferred(function(n){e[0][3].add(a(0,n,y(r)?r:j,n.notifyWith)),e[1][3].add(a(0,n,y(t)?t:j)),e[2][3].add(a(0,n,y(i)?i:V))}).promise()},promise:function(t){return null!=t?w.extend(t,r):r}},o={};return w.each(e,function(t,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=l.call(arguments),o=w.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?l.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(z(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)z(r[n],a(n),o.reject);return o.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&B.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){n.setTimeout(function(){throw t})};var U=w.Deferred();function H(){a.removeEventListener("DOMContentLoaded",H),n.removeEventListener("load",H),w.ready()}w.fn.ready=function(t){return U.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||U.resolveWith(a,[w]))}}),w.ready.then=U.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(w.ready):(a.addEventListener("DOMContentLoaded",H),n.addEventListener("load",H));var q=function(t,e,n,i,r,o,a){var s=0,l=t.length,u=null==n;if("object"===b(n))for(s in r=!0,n)q(t,e,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,y(i)||(a=!0),u&&(a?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(w(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):o},X=/^-ms-/,W=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function K(t){return t.replace(X,"ms-").replace(W,Y)}var Q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=w.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[K(e)]=n;else for(i in e)r[K(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(K):(e=K(e))in i?[e]:e.match(G)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||w.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var J=new Z,$=new Z,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return $.hasData(t)||J.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=$.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=K(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){$.set(this,t)}):q(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=$.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){$.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),w.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),i=n.length,r=n.shift(),o=w._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){w.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:w.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each(function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=w.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=J.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&w.contains(t.ownerDocument,t)&&"none"===w.css(t,"display")},st=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r};function lt(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return w.css(t,e,"")},l=s(),u=n&&n[3]||(w.cssNumber[e]?"":"px"),c=(w.cssNumber[e]||"px"!==u&&+l)&&rt.exec(w.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)w.style(t,e,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;c*=2,w.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ut={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=ut[i];return r||(e=n.body.appendChild(n.createElement(i)),r=w.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[i]=r,r)}function ht(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&at(i)&&(r[o]=ct(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}w.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?w(this).show():w(this).hide()})}});var pt=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ft=/^$|^module$|\/(?:java|ecma)script/i,vt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&F(t,e)?w.merge([t],n):n}function mt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}vt.optgroup=vt.option,vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead,vt.th=vt.td;var yt=/<|&#?\w+;/;function xt(t,e,n,i,r){for(var o,a,s,l,u,c,h=e.createDocumentFragment(),p=[],d=0,f=t.length;d<f;d++)if((o=t[d])||0===o)if("object"===b(o))w.merge(p,o.nodeType?[o]:o);else if(yt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(dt.exec(o)||["",""])[1].toLowerCase(),l=vt[s]||vt._default,a.innerHTML=l[1]+w.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;w.merge(p,a.childNodes),(a=h.firstChild).textContent=""}else p.push(e.createTextNode(o));for(h.textContent="",d=0;o=p[d++];)if(i&&w.inArray(o,i)>-1)r&&r.push(o);else if(u=w.contains(o.ownerDocument,o),a=gt(h.appendChild(o),"script"),u&&mt(a),n)for(c=0;o=a[c++];)ft.test(o.type||"")&&n.push(o);return h}!function(){var t=a.createDocumentFragment().appendChild(a.createElement("div")),e=a.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),m.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var _t=a.documentElement,At=/^key/,bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=/^([^.]*)(?:\.(.+)|)/;function Ot(){return!0}function St(){return!1}function Mt(){try{return a.activeElement}catch(t){}}function Tt(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)Tt(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=St;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return w().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),t.each(function(){w.event.add(this,e,r,i,n)})}w.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,h,p,d,f,v,g=J.get(t);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&w.find.matchesSelector(_t,r),n.guid||(n.guid=w.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(G)||[""]).length;u--;)d=v=(s=wt.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),d&&(h=w.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=w.event.special[d]||{},c=w.extend({type:d,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[d])||((p=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,u,c,h,p,d,f,v,g=J.hasData(t)&&J.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(G)||[""]).length;u--;)if(d=v=(s=wt.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),d){for(h=w.event.special[d]||{},p=l[d=(i?h.delegateType:h.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!r&&v!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(t,c));a&&!p.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||w.removeEvent(t,d,g.handle),delete l[d])}else for(d in l)w.event.remove(t,d+e[u],n,i,!0);w.isEmptyObject(l)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=w.event.fix(t),l=new Array(arguments.length),u=(J.get(this,"events")||{})[s.type]||[],c=w.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=w.event.handlers.call(this,s,u),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((w.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?w(r,this).index(u)>-1:w.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Mt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Mt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&F(this,"input"))return this.click(),!1},_default:function(t){return F(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ot:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&At.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&bt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||w.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),w.fn.extend({on:function(t,e,n,i){return Tt(this,t,e,n,i)},one:function(t,e,n,i){return Tt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,w(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=St),this.each(function(){w.event.remove(this,t,n,e)})}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ct=/<script|<style|<link/i,Ft=/checked\s*(?:[^=]|=\s*.checked.)/i,Et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return F(t,"table")&&F(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Rt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function kt(t,e){var n,i,r,o,a,s,l,u;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),a=J.set(e,o),u=o.events))for(r in delete a.handle,a.events={},u)for(n=0,i=u[r].length;n<i;n++)w.event.add(e,r,u[r][n]);$.hasData(t)&&(s=$.access(t),l=w.extend({},s),$.set(e,l))}}function It(t,e){var n=e.nodeName.toLowerCase();"input"===n&&pt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Nt(t,e,n,i){e=u.apply([],e);var r,o,a,s,l,c,h=0,p=t.length,d=p-1,f=e[0],v=y(f);if(v||p>1&&"string"==typeof f&&!m.checkClone&&Ft.test(f))return t.each(function(r){var o=t.eq(r);v&&(e[0]=f.call(this,r,o.html())),Nt(o,e,n,i)});if(p&&(o=(r=xt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=w.map(gt(r,"script"),Lt)).length;h<p;h++)l=r,h!==d&&(l=w.clone(l,!0,!0),s&&w.merge(a,gt(l,"script"))),n.call(t[h],l,h);if(s)for(c=a[a.length-1].ownerDocument,w.map(a,Rt),h=0;h<s;h++)l=a[h],ft.test(l.type||"")&&!J.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):A(l.textContent.replace(Et,""),c,l))}return t}function Gt(t,e,n){for(var i,r=e?w.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||w.cleanData(gt(i)),i.parentNode&&(n&&w.contains(i.ownerDocument,i)&&mt(gt(i,"script")),i.parentNode.removeChild(i));return t}w.extend({htmlPrefilter:function(t){return t.replace(Dt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),l=w.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(a=gt(s),i=0,r=(o=gt(t)).length;i<r;i++)It(o[i],a[i]);if(e)if(n)for(o=o||gt(t),a=a||gt(s),i=0,r=o.length;i<r;i++)kt(o[i],a[i]);else kt(t,s);return(a=gt(s,"script")).length>0&&mt(a,!l&&gt(t,"script")),s},cleanData:function(t){for(var e,n,i,r=w.event.special,o=0;void 0!==(n=t[o]);o++)if(Q(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Gt(this,t,!0)},remove:function(t){return Gt(this,t)},text:function(t){return q(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Nt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)})},prepend:function(){return Nt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return q(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ct.test(t)&&!vt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(gt(this)),n&&n.replaceChild(e,this))},t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){w.fn[t]=function(t){for(var n,i=[],r=w(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(r[a])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var jt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Vt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},zt=new RegExp(ot.join("|"),"i");function Bt(t,e,n){var i,r,o,a,s=t.style;return(n=n||Vt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||w.contains(t.ownerDocument,t)||(a=w.style(t,e)),!m.pixelBoxStyles()&&jt.test(a)&&zt.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Ut(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_t.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",_t.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,s,l,u=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var Ht=/^(none|table(?!-c[ea]).+)/,qt=/^--/,Xt={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","Moz","ms"],Kt=a.createElement("div").style;function Qt(t){var e=w.cssProps[t];return e||(e=w.cssProps[t]=function(t){if(t in Kt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Yt.length;n--;)if((t=Yt[n]+e)in Kt)return t}(t)||t),e}function Zt(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Jt(t,e,n,i,r,o){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=w.css(t,n+ot[a],!0,r)),i?("content"===n&&(l-=w.css(t,"padding"+ot[a],!0,r)),"margin"!==n&&(l-=w.css(t,"border"+ot[a]+"Width",!0,r))):(l+=w.css(t,"padding"+ot[a],!0,r),"padding"!==n?l+=w.css(t,"border"+ot[a]+"Width",!0,r):s+=w.css(t,"border"+ot[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))),l}function $t(t,e,n){var i=Vt(t),r=Bt(t,e,i),o="border-box"===w.css(t,"boxSizing",!1,i),a=o;if(jt.test(r)){if(!n)return r;r="auto"}return a=a&&(m.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===w.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(r=parseFloat(r)||0)+Jt(t,e,n||(o?"border":"content"),a,i,r)+"px"}function te(t,e,n,i,r){return new te.prototype.init(t,e,n,i,r)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Bt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=K(e),l=qt.test(e),u=t.style;if(l||(e=Qt(s)),a=w.cssHooks[e]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:u[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=lt(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(w.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,a,s=K(e);return qt.test(e)||(e=Qt(s)),(a=w.cssHooks[e]||w.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Bt(t,e,i)),"normal"===r&&e in Wt&&(r=Wt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),w.each(["height","width"],function(t,e){w.cssHooks[e]={get:function(t,n,i){if(n)return!Ht.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?$t(t,e,i):st(t,Xt,function(){return $t(t,e,i)})},set:function(t,n,i){var r,o=Vt(t),a="border-box"===w.css(t,"boxSizing",!1,o),s=i&&Jt(t,e,i,a,o);return a&&m.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Jt(t,e,"border",!1,o)-.5)),s&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),Zt(0,n,s)}}}),w.cssHooks.marginLeft=Ut(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Bt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(t,e){w.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(w.cssHooks[t+e].set=Zt)}),w.fn.extend({css:function(t,e){return q(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=Vt(t),r=e.length;a<r;a++)o[e[a]]=w.css(t,e[a],!1,i);return o}return void 0!==n?w.style(t,e,n):w.css(t,e)},t,e,arguments.length>1)}}),w.Tween=te,te.prototype={constructor:te,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var t=te.propHooks[this.prop];return t&&t.get?t.get(this):te.propHooks._default.get(this)},run:function(t){var e,n=te.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):te.propHooks._default.set(this),this}},te.prototype.init.prototype=te.prototype,te.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[w.cssProps[t.prop]]&&!w.cssHooks[t.prop]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}},te.propHooks.scrollTop=te.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=te.prototype.init,w.fx.step={};var ee,ne,ie=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function oe(){ne&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(oe):n.setTimeout(oe,w.fx.interval),w.fx.tick())}function ae(){return n.setTimeout(function(){ee=void 0}),ee=Date.now()}function se(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function le(t,e,n){for(var i,r=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function ue(t,e,n){var i,r,o=0,a=ue.prefilters.length,s=w.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ee||ae(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(i);return s.notifyWith(t,[u,i,n]),i<1&&a?n:(a||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:ee||ae(),duration:n.duration,tweens:[],createTween:function(e,n){var i=w.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=K(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=w.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);o<a;o++)if(i=ue.prefilters[o].call(u,t,c,u.opts))return y(i.stop)&&(w._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return w.map(c,le,u),y(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(ue,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(G);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ue.tweeners[n]=ue.tweeners[n]||[],ue.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,l,u,c,h="width"in e||"height"in e,p=this,d={},f=t.style,v=t.nodeType&&at(t),g=J.get(t,"fxshow");for(i in n.queue||(null==(a=w._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[i],ie.test(r)){if(delete e[i],o=o||"toggle"===r,r===(v?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;v=!0}d[i]=g&&g[i]||w.style(t,i)}if((l=!w.isEmptyObject(e))||!w.isEmptyObject(d))for(i in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=g&&g.display)&&(u=J.get(t,"display")),"none"===(c=w.css(t,"display"))&&(u?c=u:(ht([t],!0),u=t.style.display||u,c=w.css(t,"display"),ht([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===w.css(t,"float")&&(l||(p.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,d)l||(g?"hidden"in g&&(v=g.hidden):g=J.access(t,"fxshow",{display:u}),o&&(g.hidden=!v),v&&ht([t],!0),p.done(function(){for(i in v||ht([t]),J.remove(t,"fxshow"),d)w.style(t,i,d[i])})),l=le(v?g[i]:0,i,p),i in g||(g[i]=l.start,v&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),w.speed=function(t,e,n){var i=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(t,e,n,i){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=w.isEmptyObject(t),o=w.speed(e,n,i),a=function(){var e=ue(this,w.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=w.timers,a=J.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&re.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||w.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=w.timers,a=i?i.length:0;for(n.finish=!0,w.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(t,e){var n=w.fn[e];w.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(se(e,!0),t,i,r)}}),w.each({slideDown:se("show"),slideUp:se("hide"),slideToggle:se("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){w.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(ee=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),ee=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){ne||(ne=!0,oe())},w.fx.stop=function(){ne=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,e){return t=w.fx&&w.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var ce,he=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return q(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,n):(1===o&&w.isXMLDoc(t)||(r=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?ce:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=w.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&F(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(G);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ce={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var n=he[e]||w.find.attr;he[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=he[a],he[a]=r,r=null!=n(t,e,i)?a:null,he[a]=o),r}});var pe=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;function fe(t){return(t.match(G)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function ge(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(G)||[]}w.fn.extend({prop:function(t,e){return q(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(e=w.propFix[e]||e,r=w.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(w.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(y(t))return this.each(function(e){w(this).addClass(t.call(this,e,ve(this)))});if((e=ge(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+fe(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=fe(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(y(t))return this.each(function(e){w(this).removeClass(t.call(this,e,ve(this)))});if(!arguments.length)return this.attr("class","");if((e=ge(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+fe(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=fe(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){w(this).toggleClass(t.call(this,n,ve(this),e),e)}):this.each(function(){var e,r,o,a;if(i)for(r=0,o=w(this),a=ge(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+fe(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var me=/\r/g;w.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,w(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,function(t){return null==t?"":t+""})),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(me,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:fe(w.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!F(n.parentNode,"optgroup"))){if(e=w(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=w.makeArray(e),a=r.length;a--;)((i=r[a]).selected=w.inArray(w.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},m.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in n;var ye=/^(?:focusinfocus|focusoutblur)$/,xe=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(t,e,i,r){var o,s,l,u,c,h,p,d,v=[i||a],g=f.call(t,"type")?t.type:t,m=f.call(t,"namespace")?t.namespace.split("."):[];if(s=d=l=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!ye.test(g+w.event.triggered)&&(g.indexOf(".")>-1&&(g=(m=g.split(".")).shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[w.expando]?t:new w.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:w.makeArray(e,[t]),p=w.event.special[g]||{},r||!p.trigger||!1!==p.trigger.apply(i,e))){if(!r&&!p.noBubble&&!x(i)){for(u=p.delegateType||g,ye.test(u+g)||(s=s.parentNode);s;s=s.parentNode)v.push(s),l=s;l===(i.ownerDocument||a)&&v.push(l.defaultView||l.parentWindow||n)}for(o=0;(s=v[o++])&&!t.isPropagationStopped();)d=s,t.type=o>1?u:p.bindType||g,(h=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&h.apply(s,e),(h=c&&s[c])&&h.apply&&Q(s)&&(t.result=h.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),e)||!Q(i)||c&&y(i[g])&&!x(i)&&((l=i[c])&&(i[c]=null),w.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,xe),i[g](),t.isPropagationStopped()&&d.removeEventListener(g,xe),w.event.triggered=void 0,l&&(i[c]=l)),t.result}},simulate:function(t,e,n){var i=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(i,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),m.focusin||w.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}});var _e=n.location,Ae=Date.now(),be=/\?/;w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e};var we=/\[\]$/,Oe=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;function Te(t,e,n,i){var r;if(Array.isArray(e))w.each(e,function(e,r){n||we.test(t)?i(t,r):Te(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==b(e))i(t,e);else for(r in e)Te(t+"["+r+"]",e[r],n,i)}w.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){r(this.name,this.value)});else for(n in t)Te(n,t[n],e,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Me.test(this.nodeName)&&!Se.test(t)&&(this.checked||!pt.test(t))}).map(function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(t){return{name:e.name,value:t.replace(Oe,"\r\n")}}):{name:e.name,value:n.replace(Oe,"\r\n")}}).get()}});var De=/%20/g,Ce=/#.*$/,Fe=/([?&])_=[^&]*/,Ee=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Le=/^\/\//,Re={},ke={},Ie="*/".concat("*"),Ne=a.createElement("a");function Ge(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(G)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function je(t,e,n,i){var r={},o=t===ke;function a(s){var l;return r[s]=!0,w.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),a(u),!1)}),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Ve(t,e){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&w.extend(!0,t,i),t}Ne.href=_e.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,w.ajaxSettings),e):Ve(w.ajaxSettings,t)},ajaxPrefilter:Ge(Re),ajaxTransport:Ge(ke),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,l,u,c,h,p,d,f=w.ajaxSetup({},e),v=f.context||f,g=f.context&&(v.nodeType||v.jquery)?w(v):w.event,m=w.Deferred(),y=w.Callbacks("once memory"),x=f.statusCode||{},_={},A={},b="canceled",O={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Ee.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=A[t.toLowerCase()]=A[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)O.always(t[O.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||b;return i&&i.abort(e),S(0,e),this}};if(m.promise(O),f.url=((t||f.url||_e.href)+"").replace(Le,_e.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(G)||[""],null==f.crossDomain){u=a.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Ne.protocol+"//"+Ne.host!=u.protocol+"//"+u.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),je(Re,f,e,O),c)return O;for(p in(h=w.event&&f.global)&&0==w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Pe.test(f.type),r=f.url.replace(Ce,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(De,"+")):(d=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(be.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Fe,"$1"),d=(be.test(r)?"&":"?")+"_="+Ae+++d),f.url=r+d),f.ifModified&&(w.lastModified[r]&&O.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&O.setRequestHeader("If-None-Match",w.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&O.setRequestHeader("Content-Type",f.contentType),O.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ie+"; q=0.01":""):f.accepts["*"]),f.headers)O.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(v,O,f)||c))return O.abort();if(b="abort",y.add(f.complete),O.done(f.success),O.fail(f.error),i=je(ke,f,e,O)){if(O.readyState=1,h&&g.trigger("ajaxSend",[O,f]),c)return O;f.async&&f.timeout>0&&(l=n.setTimeout(function(){O.abort("timeout")},f.timeout));try{c=!1,i.send(_,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,a,s){var u,p,d,_,A,b=e;c||(c=!0,l&&n.clearTimeout(l),i=void 0,o=s||"",O.readyState=t>0?4:0,u=t>=200&&t<300||304===t,a&&(_=function(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,O,a)),_=function(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(f,_,O,u),u?(f.ifModified&&((A=O.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=A),(A=O.getResponseHeader("etag"))&&(w.etag[r]=A)),204===t||"HEAD"===f.type?b="nocontent":304===t?b="notmodified":(b=_.state,p=_.data,u=!(d=_.error))):(d=b,!t&&b||(b="error",t<0&&(t=0))),O.status=t,O.statusText=(e||b)+"",u?m.resolveWith(v,[p,b,O]):m.rejectWith(v,[O,b,d]),O.statusCode(x),x=void 0,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[O,f,u?p:d]),y.fireWith(v,[O,b]),h&&(g.trigger("ajaxComplete",[O,f]),--w.active||w.event.trigger("ajaxStop")))}return O},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,e){w[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:r,data:n,success:i},w.isPlainObject(t)&&t))}}),w._evalUrl=function(t){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){w(this).wrapInner(t.call(this,e))}):this.each(function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){w(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},Be=w.ajaxSettings.xhr();m.cors=!!Be&&"withCredentials"in Be,m.ajax=Be=!!Be,w.ajaxTransport(function(t){var e,i;if(m.cors||Be&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(ze[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=w("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ue=[],He=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ue.pop()||w.expando+"_"+Ae++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,a,s=!1!==t.jsonp&&(He.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&He.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(He,"$1"+r):!1!==t.jsonp&&(t.url+=(be.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||w.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?w(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ue.push(r)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),m.createHTMLDocument=function(){var t=a.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(i)):e=a),r=E.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=xt([t],e,o),o&&o.length&&w(o).remove(),w.merge([],r.childNodes)));var i,r,o},w.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=fe(t.slice(s)),t=t.slice(0,s)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&w.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?w("<div>").append(w.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,u=w.css(t,"position"),c=w(t),h={};"static"===u&&(t.style.position="relative"),s=c.offset(),o=w.css(t,"top"),l=w.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(a=(i=c.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),y(e)&&(e=e.call(t,n,w.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):c.css(h)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),r.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-w.css(i,"marginTop",!0),left:e.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||_t})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;w.fn[t]=function(i){return q(this,function(t,i,r){var o;if(x(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),w.each(["top","left"],function(t,e){w.cssHooks[e]=Ut(m.pixelPosition,function(t,n){if(n)return n=Bt(t,e),jt.test(n)?w(t).position()[e]+"px":n})}),w.each({Height:"height",Width:"width"},function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){w.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return q(this,function(e,n,r){var o;return x(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?w.css(e,n,s):w.style(e,n,r,s)},e,a?r:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){w.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),w.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),w.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return i=l.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||w.guid++,r},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=F,w.isFunction=y,w.isWindow=x,w.camelCase=K,w.type=b,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return w}.apply(e,[]))||(t.exports=i);var qe=n.jQuery,Xe=n.$;return w.noConflict=function(t){return n.$===w&&(n.$=Xe),t&&n.jQuery===w&&(n.jQuery=qe),w},r||(n.jQuery=n.$=w),w})},function(t,e,n){var i=n(2),r=n(57);r=r.__esModule?r.default:r;var o,a,s=n(171),l=n(172),u=n(113),c=n(114),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",p='<svg xmlns="http://www.w3.org/2000/svg"><foreignObject width="100%" height="100%"></foreignObject></svg>',d={},f=200,v=15;function g(){var t;for(t=0;t<arguments.length;t+=1)if(isFinite(arguments[t]))return arguments[t]}var m=t.exports={DistanceGrid:u,ClusterGroup:c,pointInPolygon:function(t,e,n,i){var r,o,a=!1,s=e.length;if(!(i&&i.min&&i.max&&(t.x<i.min.x||t.y<i.min.y||t.x>i.max.x||t.y>i.max.y))){if(s<3)return!1;for(r=0,o=s-1;r<s;o=r,r+=1)e[r].y>t.y!=e[o].y>t.y&&t.x<(e[o].x-e[r].x)*(t.y-e[r].y)/(e[o].y-e[r].y)+e[r].x&&(a=!a);return n&&a&&(n||[]).forEach(function(e){a=a&&!m.pointInPolygon(t,e)}),a}},pointTo2DTriangleBasis:function(t,e,n,i){var r=n.x-e.x,o=i.x-e.x,a=n.y-e.y,s=i.y-e.y,l=t.x-e.x,u=t.y-e.y,c=r*s-o*a;if(c)return{x:(l*s-u*o)/c,y:(l*-a+u*r)/c}},isReadyImage:function(t,e){return!!(t instanceof Image&&t.complete&&t.src&&(t.naturalWidth&&t.naturalHeight||e))},isReadyVideo:function(t,e){return!!(t instanceof HTMLVideoElement&&t.src&&void 0!==t.HAVE_CURRENT_DATA&&(t.videoWidth&&t.videoHeight&&t.readyState>=t.HAVE_CURRENT_DATA||e&&t.error))},isFunction:function(t){return"function"==typeof t},ensureFunction:function(t){return m.isFunction(t)?t:function(){return t}},isNonNullFinite:function(t){return isFinite(t)&&null!==t&&!1!==t&&""!==t},randomString:function(t){var e,n,i;for(t=t||8,e="",n=0;n<t;n+=1)i=Math.floor(Math.random()*h.length),e+=h.substring(i,i+1);return e},convertColor:function(t){if(void 0===t||null===t||void 0!==t.r&&void 0!==t.g&&void 0!==t.b)return t;var e;if("string"==typeof t){var n=t.toLowerCase();if(m.cssColors.hasOwnProperty(n))t=m.cssColors[n];else if("#"===t.charAt(0))4===t.length||5===t.length?(5===t.length&&(e=parseInt(t.slice(4),16)/15),t=4352*(3840&(t=parseInt(t.slice(1,4),16)))+272*(240&t)+17*(15&t)):7!==t.length&&9!==t.length||(9===t.length&&(e=parseInt(t.slice(7),16)/255),t=parseInt(t.slice(1,7),16));else if("transparent"===n)e=t=0;else if(n.indexOf("(")>=0)for(var i=0;i<m.cssColorConversions.length;i+=1){var r=m.cssColorConversions[i].regex.exec(n);if(r)return m.cssColorConversions[i].process(n,r)}}return isFinite(t)&&(t={r:((16711680&t)>>16)/255,g:((65280&t)>>8)/255,b:(255&t)/255}),void 0!==e&&t&&void 0!==t.r&&(t.a=e),t},convertColorAndOpacity:function(t,e,n){return(t=m.convertColor(t))&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b||(t=m.convertColor(n||{r:0,g:0,b:0})),t&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b||(t={r:0,g:0,b:0}),t={r:isFinite(t.r)&&t.r>=0?t.r<=1?+t.r:1:0,g:isFinite(t.g)&&t.g>=0?t.g<=1?+t.g:1:0,b:isFinite(t.b)&&t.b>=0?t.b<=1?+t.b:1:0,a:m.isNonNullFinite(t.a)&&t.a>=0&&t.a<1?+t.a:1},m.isNonNullFinite(e)&&e<1&&(t.a=e<=0?0:t.a*e),t},convertColorToHex:function(t,e){var n,i=m.convertColor(t);return n=i.r||i.g||i.b?"#"+((1<<24)+(Math.round(255*i.r)<<16)+(Math.round(255*i.g)<<8)+Math.round(255*i.b)).toString(16).slice(1):"#000000",void 0!==i.a&&e&&(i.a<1||"needed"!==e)&&(n+=(256+Math.round(255*i.a)).toString(16).slice(1)),n},convertColorToRGBA:function(t){var e=m.convertColor(t);return e||(e={r:0,g:0,b:0}),(!m.isNonNullFinite(e.a)||e.a>1)&&(e.a=1),"rgba("+Math.round(255*e.r)+", "+Math.round(255*e.g)+", "+Math.round(255*e.b)+", "+ +(+e.a).toFixed(5)+")"},normalizeCoordinates:function(t){return t=t||{},Array.isArray(t)?{x:t[0],y:t[1],z:t[2]||0}:{x:g(t.x,t.longitude,t.lng,t.lon,0),y:g(t.y,t.latitude,t.lat,0),z:g(t.z,t.elevation,t.elev,t.height,0)}},range:function(t,e,n){n=n||1;for(var i=[],r=t;r<=e;r+=n)i.push(r);return i},compareArrays:function(t,e){return t.length===e.length&&t.every(function(t,n){return t===e[n]})},vec3AsArray:function(){return[0,0,0]},mat3AsArray:function(){return[1,0,0,0,1,0,0,0,1]},mat4AsArray:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},getGeomBuffer:function(t,e,n){var i,r=t.sourceByName(e);return(i=r.data())instanceof Float32Array&&i.length===n?i:(i=new Float32Array(n),r.setData(i),i)},adjustActions:function(t){var e,n;for(n=0;n<t.length;n+=1){if(e=t[n],"string"===i.type(e.input)){var r={};r[e.input]=!0,e.input=r}if(e.modifiers||(e.modifiers={}),"string"===i.type(e.modifiers)){var o={};o[e.modifiers]=!0,e.modifiers=o}}},addAction:function(t,e,n){n?t.push(e):t.unshift(e),m.adjustActions(t)},hasAction:function(t,e,n,i){e&&e.action&&(n=e.name,i=e.owner,e=e.action);for(var r=0;r<t.length;r+=1)if(!(e&&t[r].action!==e||n&&t[r].name!==n||i&&t[r].owner!==i))return t[r];return null},removeAction:function(t,e,n,r){var o,a=0;do{(o=m.hasAction(t,e,n,r))&&(t.splice(i.inArray(o,t),1),a+=1)}while(o);return a},actionMatch:function(t,e,n){var i;if(n.some(function(n){for(var r in n.input)if(n.input.hasOwnProperty(r)&&(!1===n.input[r]&&t[r]||n.input[r]&&!t[r]))return!1;for(var o in n.modifiers)if(n.modifiers.hasOwnProperty(o)&&(!1===n.modifiers[o]&&e[o]||n.modifiers[o]&&!e[o]))return!1;return i=n,!0}))return i},pixelCoordinateParams:function(t,e,n,r,o){var a,s,l;t&&(a=(t=i(t)).innerWidth(),s=t.innerHeight()),r=r||e,o=o||n,l=r!==e||o!==n;var u=Math.min(0,Math.floor(Math.log(Math.min((a||r)/r,(s||o)/o))/Math.log(2))),c=Math.ceil(Math.log(Math.max(e/r,n/o))/Math.log(2));return{map:{node:t,ingcs:"+proj=longlat +axis=esu",gcs:"+proj=longlat +axis=enu",maxBounds:{left:0,top:0,right:e,bottom:n},unitsPerPixel:Math.pow(2,c),center:{x:e/2,y:n/2},min:u,max:c,zoom:u,clampBoundsX:!0,clampBoundsY:!0,clampZoom:!0},layer:{maxLevel:c,wrapX:!1,wrapY:!1,tileOffset:function(){return{x:0,y:0}},attribution:"",tileWidth:r,tileHeight:o,tileRounding:Math.ceil,tilesAtZoom:l?function(t){var i=Math.pow(2,c-t);return{x:Math.ceil(e/r/i),y:Math.ceil(n/o/i)}}:void 0,tilesMaxBounds:l?function(t){var i=Math.pow(2,c-t);return{x:Math.floor(e/i),y:Math.floor(n/i)}}:void 0}}},centerFromPerimeter:function(t){var e,n,i,r,o,a;if(t&&t.length){if(1===t.length)return{x:t[0].x,y:t[0].y};for(e={x:0,y:0},o=0,n=t[t.length-1],a=0;a<t.length;a+=1)i=n,n=t[a],r=Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2)),e.x+=(n.x+i.x)*r,e.y+=(n.y+i.y)*r,o+=2*r;return e.x/=o,e.y/=o,o?e:{x:n.x,y:n.y}}},distance2dSquared:function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},distance2dToLineSquared:function(t,e,n){var i=n.x-e.x,r=n.y-e.y,o=i*i+r*r,a=0;return o&&(a=((t.x-e.x)*i+(t.y-e.y)*r)/o,a=Math.max(0,Math.min(1,a))),m.distance2dSquared(t,{x:e.x+a*i,y:e.y+a*r})},triangleTwiceSignedArea2d:function(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)},crossedLineSegments2d:function(t,e,n,i){return!(t.x>n.x&&t.x>i.x&&e.x>n.x&&e.x>i.x||t.x<n.x&&t.x<i.x&&e.x<n.x&&e.x<i.x||t.y>n.y&&t.y>i.y&&e.y>n.y&&e.y>i.y||t.y<n.y&&t.y<i.y&&e.y<n.y&&e.y<i.y)&&(!(t.x===n.x&&t.y===n.y||t.x===i.x&&t.y===i.y||e.x===n.x&&e.y===n.y||e.x===i.x&&e.y===i.y)&&!(m.triangleTwiceSignedArea2d(t,e,n)*m.triangleTwiceSignedArea2d(t,e,i)>0||m.triangleTwiceSignedArea2d(n,i,t)*m.triangleTwiceSignedArea2d(n,i,e)>0))},segmentCrossesLineList2d:function(t,e,n){return n.some(function(n){return n.some(function(i,r){if(r)return m.crossedLineSegments2d(t,e,n[r-1],i)})})},rdpLineSimplify:function(t,e,n,i){if(t.length<=2||e<0)return t;var r,o,a,s=-1,l=e*e;if(n){for(r=1;r<t.length;r+=1)(o=m.distance2dSquared(t[0],t[r]))>s&&(s=o,a=r);return 4*s<=l?t.slice(a,a+1):(t=t.slice(a).concat(t.slice(0,a+1)),(t=m.rdpLineSimplify(t,e,!1,i)).splice(t.length-1),t)}for(r=1;r<t.length-1;r+=1)(o=m.distance2dToLineSquared(t[r],t[0],t[t.length-1]))>s&&(s=o,a=r);if(s<=l&&(!i||!m.segmentCrossesLineList2d(t[0],t[t.length-1],i)))return[t[0],t[t.length-1]];var u=t.slice(0,a+1),c=t.slice(a),h=m.rdpLineSimplify(u,e,!1,i?i.concat([c]):null),p=m.rdpLineSimplify(c,e,!1,i?i.concat([u]):null);return h.slice(0,h.length-1).concat(p)},getMinMaxValues:function(t,e,n,r){if(t.length&&(r||!i.isNumeric(e)||!i.isNumeric(n))){var o,a,s=t[0],l=t[0];for(a=t.length-1;a>0;a-=1)(o=t[a])<s&&(s=o),o>l&&(l=o);(!i.isNumeric(e)||r&&s>e)&&(e=s),(!i.isNumeric(n)||r&&l<n)&&(n=l)}return{min:e,max:n}},wrapAngle:function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},escapeUnicodeHTML:function(t){return t.replace(/./g,function(t){var e=t.charCodeAt();return e<127?t:"&#"+e.toString(10)+";"})},dereferenceElements:function(t){var e=[];return i("img,image",t).each(function(){var t=i(this),n=t.is("image")?"href":"src";if(t.attr(n)){var r=new Image;("http"===t.attr(n).substr(0,4)||t[0].crossOrigin)&&(r.crossOrigin=t[0].crossOrigin||"anonymous");var o=i.Deferred();r.onload=function(){var e=document.createElement("canvas");e.width=r.naturalWidth,e.height=r.naturalHeight,e.getContext("2d").drawImage(r,0,0),t.attr(n,e.toDataURL("image/png")),"data:image"!==t.attr(n).substr(0,10)&&t.remove(),o.resolve()},r.onerror=function(){t.remove(),o.resolve()},r.src=t.attr(n),e.push(o)}}),e},dereferenceCssUrlsRegex:/url\(["']?(http[^)"']+|[^:)"']+)["']?\)/g,dereferenceCssUrls:function(t,e,n,r,o){var a=[],s=[];if(t=(t=t.replace(/\/\*[^\0]*?\*\//g,"")).replace(/\r/g,"\n").replace(/\s+\n/g,"\n").replace(/\n\s+/g,"\n").replace(/\n\n+/g,"\n"),o){var l=/(^[^?#]*)\/[^?#/]*([?#]|$)/g.exec(o);o=l&&l[1]?l[1]+"/":null}t.replace(m.dereferenceCssUrlsRegex,function(t,e){var n=a.length,r=i.Deferred(),l=new XMLHttpRequest;return a.push(r),s.push(""),/^[^/:][^:]*(\/|$)/g.exec(e)&&o&&(e=o+e),l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=function(){if(200===this.status){var t,e=new Uint8Array(this.response),i=new Array(e.length);for(t=0;t<e.length;t+=1)i[t]=String.fromCharCode(e[t]);i=i.join(""),s[n]="url(data:"+l.getResponseHeader("content-type")+";base64,"+btoa(i)+")"}r.resolve()},l.onerror=r.resolve,l.send(),t}),i.when.apply(i,a).then(function(){var i=0;t=t.replace(m.dereferenceCssUrlsRegex,function(t,e){return s[(i+=1)-1]}),void 0===r?e.text(t):e.style[r]=t,n.resolve()})},htmlToImageSupported:function(){if(void 0===a){var t=i.Deferred(),e=i(p);e.attr({width:"10px",height:"10px","text-rendering":"optimizeLegibility"}),i("foreignObject",e).append("<div/>");var n=new Image;return n.onload=n.onerror=function(){var e=document.createElement("canvas");e.width=10,e.height=10,e.getContext("2d").drawImage(n,0,0);try{e.toDataURL(),a=!0}catch(t){console.warn("This browser does not support converting HTML to an image via SVG foreignObject.  Some functionality will be limited.",t),a=!1}t.resolve(a)},n.src="data:image/svg+xml;base64,"+btoa(m.escapeUnicodeHTML((new XMLSerializer).serializeToString(e[0]))),t}return a},htmlToImage:function(t,e){var n,r=i.Deferred(),o=[m.htmlToImageSupported()],a=i(t);for(t=i(t).clone();e&&e>0;)(a=a.parent()).is("div")&&((n=i("<div>").attr({class:a.attr("class"),id:a.attr("id")}).css({width:"100%",height:"100%",background:"none",margin:0})).append(t),t=n),e-=1;i("canvas",t).remove(),i("*",t).addBack().each(function(){for(var t=this.style,e=0;e<t.length;e+=1){var n=this.style[e];if(this.style[n].match(m.dereferenceCssUrlsRegex)){var r=i.Deferred();m.dereferenceCssUrls(this.style[n],this,r,n),o.push(r)}}}),(n=i('<div xmlns="http://www.w3.org/1999/xhtml">')).css({width:a.width()+"px",height:a.height()+"px"}),n.append(i("<head>"));var s=i("<body>");return n.append(s),s.css({width:a.width()+"px",height:a.height()+"px",background:"none",margin:0}),s.append(t),o=o.concat(m.dereferenceElements(t)),i('style,link[rel="stylesheet"]').each(function(){var t=i('<style type="text/css">'),e=i.Deferred();if(i(this).is("style")){var r=i(this).text();m.dereferenceCssUrls(r,t,e)}else{var a=i(this).attr("href");i.get(a).done(function(n){m.dereferenceCssUrls(n,t,e,void 0,a)}).fail(function(n,i,r){console.warn("Failed to dereference "+a,i,r),t.remove(),e.resolve()})}o.push(e),i("head",n).append(t)}),i.when.apply(i,o).then(function(){var t=i(p);t.attr({width:a.width()+"px",height:a.height()+"px","text-rendering":"optimizeLegibility"}),i("foreignObject",t).append(n);var e=new Image;m.htmlToImageSupported()?(e.onload=function(){r.resolve(e)},e.onerror=function(){console.warn("Failed to render html to image"),r.reject()},e.src="data:image/svg+xml;base64,"+btoa(m.escapeUnicodeHTML((new XMLSerializer).serializeToString(t[0])))):r.resolve(e)}),r},timeReport:function(t){return i.each(d,function(t,e){e.count?(e.stddev=Math.sqrt(Math.abs((e.sum2-e.sum*e.sum/e.count)/e.count)),e.average=e.sum/e.count):(e.stddev=0,e.average=0)}),t?d[t]:d},timeFunctionStart:function(t,e){d[t]&&!e||(d[t]={count:0,sum:0,sum2:0,max:0,recent:[]}),d[t].start=window.performance.now()},timeFunctionStop:function(t){if(d[t]&&d[t].start){var e=window.performance.now()-d[t].start;d[t].start=null,d[t].sum+=e,d[t].sum2+=e*e,d[t].count+=1,d[t].max=Math.max(d[t].max,e),d[t].recent.push(e),d[t].recent.length>f&&d[t].recent.splice(0,d[t].recent.length-f)}},timeRequestAnimationFrame:function(t,e,n,i){d.requestAnimationFrame&&!e||(d.requestAnimationFrame={count:0,sum:0,sum2:0,max:0,above_threshold:0,recent:[],recentsub:[]}),n&&(v=n),i&&(f=i),t&&o?(window.requestAnimationFrame=o,o=null):t||o||(o=window.requestAnimationFrame,window.requestAnimationFrame=function(t){return o.call(window,function(e){var n,i=d.requestAnimationFrame;i.timestamp!==e&&(i.nowDelta=window.performance.now()-e,Math.abs(i.nowDelta)<1e3&&(i.nowDelta=0),i.timestamp=e,i.subcalls=i.subcalls||0,i.start={sum:i.sum,sum2:i.sum2,count:i.count,max:i.max,above_threshold:i.above_threshold},i.recent.push([0]),i.recentsub.push([]),i.recent.length>f&&(i.recent.splice(0,i.recent.length-f),i.recentsub.splice(0,i.recentsub.length-f))),i.subcalls+=1,t.apply(this,arguments);var r=window.performance.now()-e;r-=i.nowDelta,i.sum=i.start.sum+r,i.sum2=i.start.sum2+r*r,i.count=i.start.count+1,i.max=Math.max(i.max,r),i.above_threshold=i.start.above_threshold+(r>=v?1:0),i.recent[i.recent.length-1]=r,(n=i.recentsub[i.recent.length-1]).push({total_duration:r,duration:r-(n.length?n[n.length-1].total_duration:0),callback:t.name||t})})})},isObject:function(t){var e=typeof t;return null!==t&&void 0!==t&&("object"===e||"function"===e)},radiusEarth:r.WGS84.a,cssNumberRegex:"[+-]?(?:\\d+\\.?\\d*|\\.\\d+)(?:[eE][+-]?\\d+)?",cssAngleUnitsBase:{deg:360,grad:400,rad:2*Math.PI,turn:1},cssColors:{aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074}};m.cssColorConversions=[{name:"rgb",regex:new RegExp("^\\s*rgba?\\(\\s*("+m.cssNumberRegex+")\\s*(%?)\\s*,?\\s*("+m.cssNumberRegex+")\\s*(%?)\\s*,?\\s*("+m.cssNumberRegex+")\\s*(%?)\\s*([/,]?\\s*("+m.cssNumberRegex+")\\s*(%?)\\s*)?\\)\\s*$"),process:function(t,e){return t={r:Math.min(1,Math.max(0,+e[1]/(e[2]?100:255))),g:Math.min(1,Math.max(0,+e[3]/(e[4]?100:255))),b:Math.min(1,Math.max(0,+e[5]/(e[6]?100:255)))},e[7]&&(t.a=Math.min(1,Math.max(0,+e[8]/(e[9]?100:1)))),t}},{name:"hsl",regex:new RegExp("^\\s*hsla?\\(\\s*("+m.cssNumberRegex+")\\s*(deg|grad|rad|turn)?\\s*,?\\s*("+m.cssNumberRegex+")\\s*%\\s*,?\\s*("+m.cssNumberRegex+")\\s*%\\s*([/,]?\\s*("+m.cssNumberRegex+")\\s*(%?)\\s*)?\\)\\s*$"),process:function(t,e){var n=function(t,e,n){return 6*(n-=Math.floor(n))<1?t+(e-t)*n*6:6*n<3?e:6*n<4?t+(e-t)*(2/3-n)*6:t},i=+e[1]/(m.cssAngleUnitsBase[e[2]]||360),r=Math.min(1,Math.max(0,+e[3]/100)),o=Math.min(1,Math.max(0,+e[4]/100)),a=o<=.5?o*(r+1):o+r-o*r,s=2*o-a;return t={r:n(s,a,i+1/3),g:n(s,a,i),b:n(s,a,i-1/3)},e[5]&&(t.a=Math.min(1,Math.max(0,+e[6]/(e[7]?100:1)))),t}}],i.extend(m,s,l)},function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"f",function(){return r}),n.d(e,"h",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"l",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"m",function(){return u}),n.d(e,"j",function(){return c}),n.d(e,"k",function(){return h}),n.d(e,"b",function(){return p}),n.d(e,"a",function(){return d}),n.d(e,"i",function(){return f}),n.d(e,"c",function(){return v}),n.d(e,"o",function(){return g}),n.d(e,"n",function(){return m});var i=1,r=2,o=4,a=5,s=484813681109536e-20,l=Math.PI/2,u=.16666666666666666,c=.04722222222222222,h=.022156084656084655,p=1e-10,d=.017453292519943295,f=57.29577951308232,v=Math.PI/4,g=2*Math.PI,m=3.14159265359},function(t,e,n){"use strict";var i=n(4),r=n(20);e.a=function(t){return Math.abs(t)<=i.n?t:t-Object(r.a)(t)*i.o}},function(t,e){var n={layerAdd:"geo_layerAdd",layerRemove:"geo_layerRemove",zoom:"geo_zoom",rotate:"geo_rotate",pan:"geo_pan",resize:"geo_resize",draw:"geo_draw",drawEnd:"geo_drawEnd",mousemove:"geo_mousemove",mouseclick:"geo_mouseclick",brush:"geo_brush",brushend:"geo_brushend",brushstart:"geo_brushstart",select:"geo_select",zoomselect:"geo_zoomselect",unzoomselect:"geo_unzoomselect",actiondown:"geo_actiondown",actionmove:"geo_actionmove",actionup:"geo_actionup",actionselection:"geo_actionselection",actionwheel:"geo_actionwheel",keyaction:"geo_keyaction",transitionstart:"geo_transitionstart",transitionend:"geo_transitionend",transitioncancel:"geo_transitioncancel",parallelprojection:"geo_parallelprojection",feature:{mousemove:"geo_feature_mousemove",mouseover:"geo_feature_mouseover",mouseover_order:"geo_feature_mouseover_order",mouseout:"geo_feature_mouseout",mouseon:"geo_feature_mouseon",mouseoff:"geo_feature_mouseoff",mouseclick:"geo_feature_mouseclick",mouseclick_order:"geo_feature_mouseclick_order",brushend:"geo_feature_brushend",brush:"geo_feature_brush"},pixelmap:{prepared:"geo_pixelmap_prepared"},screenshot:{ready:"geo_screenshot_ready"},camera:{}};n.camera.view="geo_camera_view",n.camera.projection="geo_camera_projection",n.camera.viewport="geo_camera_viewport",n.annotation={},n.annotation.add="geo_annotation_add",n.annotation.add_before="geo_annotation_add_before",n.annotation.update="geo_annotation_update",n.annotation.coordinates="geo_annotation_coordinates",n.annotation.select_edit_handle="geo_annotation_select_edit_handle",n.annotation.edit_action="geo_annotation_edit_action",n.annotation.remove="geo_annotation_remove",n.annotation.state="geo_annotation_state",n.annotation.mode="geo_annotation_mode",t.exports=n},function(t,e,n){var i=n(57);i=i.__esModule?i.default:i;var r=n(165);r.keys().forEach(function(t){i.Proj.projections.add(r(t))});var o=n(3),a={},s=function(t){"use strict";if(!(this instanceof s))return(t=t||{}).source in a||(Object.size(a)>=10&&(a={}),a[t.source]={}),t.target in a[t.source]||(Object.size(a[t.source])>=10&&(a[t.source]={}),a[t.source][t.target]=new s(t)),a[t.source][t.target];var e,n,r,o=this;function l(){e=new i(o.source(),o.target())}this.source=function(t){return void 0===t?n||"EPSG:4326":(n=t,l(),o)},this.target=function(t){return void 0===t?r||"EPSG:3857":(r=t,l(),o)},this._forward=function(t){var n=e.forward(t);return n.z=t.z||0,n},this._inverse=function(t){var n=e.inverse(t);return n.z=t.z||0,n},this.forward=function(t){return Array.isArray(t)?t.map(o._forward):o._forward(t)},this.inverse=function(t){return Array.isArray(t)?t.map(o._inverse):o._inverse(t)},t=t||{};try{this.source(t.source)}catch(e){console.error("Can't use transform source: "+t.source),this.source("EPSG:4326")}try{this.target(t.target)}catch(e){console.error("Can't use transform target: "+t.target),this.target("EPSG:3857")}return this};s.defs=i.defs,s.lookup=function(t){var e,r,o=n(2),a=o.Deferred();return i.defs.hasOwnProperty(t)?a.resolve(i.defs[t]):2!==(r=t.split(":")).length||"EPSG"!==r[0].toUpperCase()?a.reject("Invalid projection code").promise():(e=r[1],o.ajax({url:"http://epsg.io/?q="+e+"&format=json"}).done(function(e){var n=(e.results||[])[0];return n&&n.proj4?(i.defs(t,n.proj4),o.when(i.defs[t])):a.reject(e).promise()}))},s.transformCoordinates=function(t,e,n,i){"use strict";if(t===e)return n;var r,a=s({source:t,target:e});return o.isObject(n)&&"x"in n&&"y"in n?(r=a.forward({x:+n.x,y:+n.y,z:+n.z||0}),"z"in n?r:{x:r.x,y:r.y}):Array.isArray(n)&&1===n.length&&o.isObject(n[0])&&"x"in n[0]&&"y"in n[0]?(r=a.forward({x:+n[0].x,y:+n[0].y,z:+n[0].z||0}),"z"in n[0]?[r]:[{x:r.x,y:r.y}]):s.transformCoordinatesArray(a,n,i)},s.transformCoordinatesArray=function(t,e,n){var i,r,a,s,l,u,c,h,p;function d(){if(Array.isArray(e[0]))if(2===e[0].length)s=function(t){return+e[t][0]},l=function(t){return+e[t][1]},c=function(t,e,n){h[t]=[e,n]};else{if(3!==e[0].length)throw new Error("Invalid coordinates. Requires two or three components per array");s=function(t){return+e[t][0]},l=function(t){return+e[t][1]},u=function(t){return+e[t][2]},c=function(t,e,n,i){h[t]=[e,n,i]}}else if(2===e.length)a=2,s=function(t){return+e[t*a]},l=function(t){return+e[t*a+1]},c=function(t,e,n){h[t]=e,h[t+1]=n};else if(3===e.length)a=3,s=function(t){return+e[t*a]},l=function(t){return+e[t*a+1]},u=function(t){return+e[t*a+2]},c=function(t,e,n,i){h[t]=e,h[t+1]=n,h[t+2]=i};else{if(!n)throw new Error("Invalid coordinates");if(2!==n&&3!==n)throw new Error("Number of components should be two or three");a=n,s=function(t){return+e[t]},l=function(t){return+e[t+1]},2===n?c=function(t,e,n){h[t]=e,h[t+1]=n}:(u=function(t){return+e[t+2]},c=function(t,e,n,i){h[t]=e,h[t+1]=n,h[t+2]=i})}}if(u=function(){return 0},!Array.isArray(e))throw new Error("Coordinates are not valid");if((h=[]).length=e.length,r=e.length,!e.length)return h;for(Array.isArray(e[0])||o.isObject(e[0])?(a=1,Array.isArray(e[0])?d():o.isObject(e[0])&&function(){if(!(e[0]&&"x"in e[0]&&"y"in e[0]))throw new Error("Invalid coordinates");s=function(t){return+e[t].x},l=function(t){return+e[t].y},"z"in e[0]?(u=function(t){return+e[t].z},c=function(t,e,n,r){h[i]={x:e,y:n,z:r}}):c=function(t,e,n){h[t]={x:e,y:n}}}()):d(),i=0;i<r;i+=a)p=t.forward({x:s(i),y:l(i),z:u(i)}),c(i,p.x,p.y,p.z);return h},s.affineForward=function(t,e){"use strict";var n,i=t.origin,r=t.scale||{x:1,y:1,z:1};for(n=0;n<e.length;n+=1)e[n].x=(e[n].x-i.x)*r.x,e[n].y=(e[n].y-i.y)*r.y,e[n].z=((e[n].z||0)-(i.z||0))*r.z;return e},s.affineInverse=function(t,e){"use strict";var n,i=t.origin,r=t.scale||{x:1,y:1,z:1};for(n=0;n<e.length;n+=1)e[n].x=e[n].x/r.x+i.x,e[n].y=e[n].y/r.y+i.y,e[n].z=(e[n].z||0)/r.z+(i.z||0);return e},s.sphericalDistance=function(t,e,n,r,o){if(r=r||"EPSG:4326",o=o||i.WGS84,(n=n||r)!==r){var a=s.transformCoordinates(n,r,[t,e]);t=a[0],e=a[1]}var l=t.y*Math.PI/180,u=e.y*Math.PI/180,c=(e.x-t.x)*Math.PI/180,h=Math.sin(l),p=Math.cos(l),d=Math.sin(u),f=Math.cos(u),v=Math.atan2(Math.pow(Math.pow(f*Math.sin(c),2)+Math.pow(p*d-h*f*Math.cos(c),2),.5),h*d+p*f*Math.cos(c));return o.a*v},s.vincentyDistance=function(t,e,n,r,o,a){if(r=r||"EPSG:4326",o=o||i.WGS84,a=a||100,(n=n||r)!==r){var l=s.transformCoordinates(n,r,[t,e]);t=l[0],e=l[1]}var u,c,h,p,d,f,v,g,m,y,x=o.a,_=o.b||o.a*(1-(o.f||1/o.rf)),A=o.f||(o.rf?1/o.rf:1-_/x),b=t.y*Math.PI/180,w=e.y*Math.PI/180,O=((e.x-t.x)%360+360)%360*Math.PI/180,S=Math.atan((1-A)*Math.tan(b)),M=Math.atan((1-A)*Math.tan(w)),T=Math.sin(S),D=Math.cos(S),C=Math.sin(M),F=Math.cos(M),E=O,P=O+2*Math.PI;if(b===w&&!O)return{distance:0,alpha1:0,alpha2:0};for(y=a;y>0&&Math.abs(E-P)>1e-12;y-=1)u=Math.pow(Math.pow(F*Math.sin(E),2)+Math.pow(D*C-T*F*Math.cos(E),2),.5),c=T*C+D*F*Math.cos(E),h=Math.atan2(u,c),p=D*F*Math.sin(E)/u,P=E,E=O+(1-(v=A/16*(d=1-Math.pow(p,2))*(4+A*(4-3*d))))*A*p*(h+v*u*((f=c-(d?2*T*C/d:0))+v*c*(2*Math.pow(f,2)-1)));return y?{distance:_*(1+(g=d*(x*x-_*_)/(_*_))/16384*(4096+g*(g*(320-175*g)-768)))*(h-(m=g/1024*(256+g*(g*(74-47*g)-128)))*u*(f+m/4*(c*(2*Math.pow(f,2)-1)-m/6*f*(4*u*u-3)*(4*Math.pow(f,2)-3)))),alpha1:Math.atan2(F*Math.sin(E),D*C-T*F*Math.cos(E)),alpha2:Math.atan2(D*Math.sin(E),-T*F+D*C*Math.cos(E))}:void 0},s.proj4=i,t.exports=s},function(t,e,n){var i=n(2),r=n(0),o=n(13),a=n(10),s=n(6),l=function(t){"use strict";if(!(this instanceof l))return new l(t);o.call(this);var e=n(3);t=t||{};var r=this,u=this._exit,c=void 0!==t.selectionAPI&&!!t.selectionAPI,h={},p=void 0===t.layer?null:t.layer,d=t.gcs,f=void 0===t.visible||t.visible,v=void 0===t.bin?null:t.bin,g=void 0===t.renderer?null:t.renderer,m=a(),y=a(),x=a(),_=[],A=[];return this._subfeatureStyles={},this._bindMouseHandlers=function(){this.selectionAPI()&&(r._unbindMouseHandlers(),r.geoOn(s.mousemove,r._handleMousemove),r.geoOn(s.mouseclick,r._handleMouseclick),r.geoOn(s.brushend,r._handleBrushend),r.geoOn(s.brush,r._handleBrush))},this._unbindMouseHandlers=function(){r.geoOff(s.mousemove,r._handleMousemove),r.geoOff(s.mouseclick,r._handleMouseclick),r.geoOff(s.brushend,r._handleBrushend),r.geoOff(s.brush,r._handleBrush)},this.pointSearch=function(t){return{index:[],found:[]}},this.boxSearch=function(t,e,n){return[]},this._handleMousemove=function(){var t,e=r.layer().map().interactor().mouse(),n=r.data(),i=r.pointSearch(e.geo),o=[],a=[],u=-1,c=-1;(A.length||i.index.length)&&(t=i.extra||{},i.index.length>1&&r.geoTrigger(s.feature.mouseover_order,{feature:this,mouse:e,previous:A,over:i}),A.length&&(u=A[A.length-1]),o=i.index.filter(function(t){return A.indexOf(t)<0}),a=A.filter(function(t){return i.index.indexOf(t)<0}),l.eventID+=1,o.forEach(function(i,a){r.geoTrigger(s.feature.mouseover,{data:n[i],index:i,extra:t[i],mouse:e,eventID:l.eventID,top:a===o.length-1},!0)}),l.eventID+=1,a.forEach(function(t,i){r.geoTrigger(s.feature.mouseout,{data:n[t],index:t,mouse:e,eventID:l.eventID,top:i===a.length-1},!0)}),l.eventID+=1,i.index.forEach(function(o,a){r.geoTrigger(s.feature.mousemove,{data:n[o],index:o,extra:t[o],mouse:e,eventID:l.eventID,top:a===i.index.length-1},!0)}),(A=i.index).length&&(c=A[A.length-1]),u!==c&&(-1!==u&&r.geoTrigger(s.feature.mouseoff,{data:n[u],index:u,mouse:e},!0),-1!==c&&r.geoTrigger(s.feature.mouseon,{data:n[c],index:c,extra:t[c],mouse:e},!0)))},this._clearSelectedFeatures=function(){return A=[],r},this._handleMouseclick=function(t){var e=r.layer().map().interactor().mouse(),n=r.data(),i=r.pointSearch(e.geo),o=i.extra||{};i.index.length>1&&r.geoTrigger(s.feature.mouseclick_order,{feature:this,mouse:e,over:i}),e.buttonsDown=t.buttonsDown,l.eventID+=1,i.index.forEach(function(t,a){r.geoTrigger(s.feature.mouseclick,{data:n[t],index:t,extra:o[t],mouse:e,eventID:l.eventID,top:a===i.index.length-1},!0)})},this._handleBrush=function(t){var e=r.boxSearch(t.gcs.lowerLeft,t.gcs.upperRight),n=r.data();l.eventID+=1,e.forEach(function(e,i){r.geoTrigger(s.feature.brush,{data:n[e],index:e,mouse:t.mouse,brush:t,eventID:l.eventID,top:i===i.length-1},!0)})},this._handleBrushend=function(t){var e=r.boxSearch(t.gcs.lowerLeft,t.gcs.upperRight),n=r.data();l.eventID+=1,e.forEach(function(e,i){r.geoTrigger(s.feature.brushend,{data:n[e],index:e,mouse:t.mouse,brush:t,eventID:l.eventID,top:i===i.length-1},!0)})},this.style=function(t,e){return void 0===t?h:"string"==typeof t&&void 0===e?h[t]:void 0===e?(h=i.extend({},h,t),r.modified(),r):(h[t]=e,r.modified(),r)},this.style.get=function(t){if(void 0===t){var n,i={};for(n in h)h.hasOwnProperty(n)&&(i[n]=r.style.get(n));return i}return t.toLowerCase().match(/color$/)?e.isFunction(h[t])?function(){return e.convertColor(h[t].apply(this,arguments))}:e.ensureFunction(e.convertColor(h[t])):e.ensureFunction(h[t])},this.updateStyleFromArray=function(t,e,n){if("string"!=typeof t)i.each(t,function(t,e){r.updateStyleFromArray(t,e)});else{var o;if(t.toLowerCase().match(/color$/)&&(o={r:0,g:0,b:0}),!Array.isArray(e))return r;r._subfeatureStyles[t]?e.length&&Array.isArray(e[0])?r.style(t,function(t,n,i,r){var a=(e[r]||[])[n];return void 0!==a?a:o}):r.style(t,function(t,n,i,r){var a=e[r];return void 0!==a?a:o}):r.style(t,function(t,n){var i=e[n];return void 0!==i?i:o})}return n&&r.visible()&&r.draw(),r},this.layer=function(){return p},this.renderer=function(){return g},this.gcs=function(t){return void 0===t?void 0!==d&&null!==d||!p?d:p.map().ingcs():(d=t,r.modified(),r)},this.featureGcsToDisplay=function(t){var e=p.map();return t=e.gcsToWorld(t,r.gcs()),t=e.worldToDisplay(t),g.baseToLocal&&(t=g.baseToLocal(t)),t},this.visible=function(t,e){if(void 0===t)return!(!e&&p&&p.visible&&!p.visible())&&f;if(f!==t||e){f=t,r.modified(),p&&p.visible&&!p.visible()&&(t=!1),t?r._bindMouseHandlers():r._unbindMouseHandlers();for(var n=0;n<_.length;n+=1)_[n].visible(f,e)}return r},this.dependentFeatures=function(t){return void 0===t?_.slice():(_=t.slice(),r)},this.bin=function(t){if(void 0===t){if(null===v){var e=this.parent(),n=e?e.children().indexOf(r):-1;return n>=0?n:0}return v}return v=t,r.modified(),r},this.dataTime=function(t){return void 0===t?m:(m=t,r.modified(),r)},this.buildTime=function(t){return void 0===t?y:(y=t,r.modified(),r)},this.updateTime=function(t){return void 0===t?x:(x=t,r.modified(),r)},this.data=function(t){return void 0===t?r.style("data")||[]:(r.style("data",t),r.dataTime().modified(),r.modified(),r)},this.selectionAPI=function(t,e){return void 0===t?!(!e&&p&&p.selectionAPI&&!p.selectionAPI())&&c:(((t=!!t)!==c||e)&&(c=t,this._unbindMouseHandlers(),this._bindMouseHandlers()),this)},this.mouseOverOrderHighestIndex=function(t){t.over.index.sort();var e=t.feature.data();t.over.index.forEach(function(n,i){t.over.found[i]=e[n]})},this._init=function(t){if(!p)throw new Error("Feature requires a valid layer");h=i.extend({},{opacity:1},void 0===t.style?{}:t.style),r._bindMouseHandlers()},this._build=function(){},this._update=function(){},this._exit=function(){r._unbindMouseHandlers(),A=[],h={},u()},this._init(t),this};l.eventID=0,l.create=function(t,e){"use strict";if(!(t instanceof n(24)))return console.warn("Invalid layer"),null;if("object"!=typeof e)return console.warn("Invalid spec"),null;var i=e.type,r=t.createFeature(i,e);return r?(e.data=e.data||[],r.style(e)):(console.warn('Could not create feature type "'+i+'"'),null)},r(l,o),t.exports=l},function(t,e,n){(function(e){t.exports=e.vgl=n(174)}).call(e,n(173))},function(t,e,n){var i=n(9),r=function(){"use strict";if(!(this instanceof r))return new r;i.timestamp.call(this)};n(0)(r,i.timestamp),t.exports=r},function(t,e,n){var i=n(0),r=n(1).registerRenderer,o=n(22),a=function(t){"use strict";var e=a.d3,i=n(14),r=n(3),s=n(6),l=n(117);if(!(this instanceof a))return new a(t);o.call(this,t);var u=this._exit;i.call(this,t),t=t||{};var c=this,h=null,p={},d=null,f=null,v=null,g=null,m=1,y={dx:0,dy:0,rx:0,ry:0,rotation:0},x={},_={},A=null,b=null;function w(t){return t?A.select(".group-"+t):A.select(".group-"+c._d3id())}function O(){var t=c.layer().map(),e=t.size().width,n=t.size().height;if(v=n,!(f=e)||!v)throw new Error("Map layer has size 0");g=Math.pow(e*e+n*n,.5),d={upperLeft:t.displayToGcs({x:0,y:0},null),lowerRight:t.displayToGcs({x:e,y:n},null),center:t.displayToGcs({x:e/2,y:n/2},null)}}return this._convertColor=function(t,n){return t=r.ensureFunction(t),n=n||function(){return!0},function(){var i="none";return n.apply(c,arguments)&&(i=t.apply(c,arguments)).hasOwnProperty("r")&&i.hasOwnProperty("g")&&i.hasOwnProperty("b")&&(i=e.rgb(255*i.r,255*i.g,255*i.b)),i}},this._convertScale=function(t){return t=r.ensureFunction(t),function(){return t.apply(c,arguments)/m}},this._setTransform=function(){if(d||O(),h){var t,e,n,i,r,o,a=c.layer().map(),s=a.gcsToDisplay(d.upperLeft,null),l=a.gcsToDisplay(d.lowerRight,null),u=a.gcsToDisplay(d.center,null),p=w();n=Math.sqrt(Math.pow(l.y-s.y,2)+Math.pow(l.x-s.x,2))/g,i=a.rotation(),o=-v/2,t=n*(r=-f/2)+u.x,e=n*o+u.y,i||(t=Math.round(t),e=Math.round(e));var x="matrix("+[n,0,0,n,t,e].join()+")";i&&(x+=" rotate("+[180*i/Math.PI,-r,-o].join()+")"),p.attr("transform",x),m=n,y.dx=t,y.dy=e,y.rx=r,y.ry=o,y.rotation=i}},this.baseToLocal=function(t){if(t={x:(t.x-y.dx)/m,y:(t.y-y.dy)/m},y.rotation){var e=Math.sin(-y.rotation),n=Math.cos(-y.rotation),i=t.x+y.rx,r=t.y+y.ry;t={x:i*n-r*e-y.rx,y:i*e+r*n-y.ry}}return t},this.localToBase=function(t){if(y.rotation){var e=Math.sin(y.rotation),n=Math.cos(y.rotation),i=t.x+y.rx,r=t.y+y.ry;t={x:i*n-r*e-y.rx,y:i*e+r*n-y.ry}}return t={x:t.x*m+y.dx,y:t.y*m+y.dy}},this._init=function(t){if(!c.canvas()){var n;t.widget=t.widget||!1,(A="d3Parent"in t?e.select(t.d3Parent).append("svg"):e.select(c.layer().node().get(0)).append("svg")).attr("display","block");var i=(b=A.append("defs")).append("filter").attr("id","geo-highlight").attr("x","-100%").attr("y","-100%").attr("width","300%").attr("height","300%");i.append("feMorphology").attr("operator","dilate").attr("radius",2).attr("in","SourceAlpha").attr("result","dilateOut"),i.append("feGaussianBlur").attr("stdDeviation",5).attr("in","dilateOut").attr("result","blurOut"),i.append("feColorMatrix").attr("type","matrix").attr("values","-1 0 0 0 1  0 -1 0 0 1  0 0 -1 0 1  0 0 0 1 0").attr("in","blurOut").attr("result","invertOut"),i.append("feBlend").attr("in","SourceGraphic").attr("in2","invertOut").attr("mode","normal"),t.widget||(n=A.append("g")),(i=b.append("filter").attr("id","geo-blur").attr("x","-100%").attr("y","-100%").attr("width","300%").attr("height","300%")).append("feGaussianBlur").attr("stdDeviation",20).attr("in","SourceGraphic"),h=c.layer().sticky(),A.attr("class",c._d3id()),A.attr("width",c.layer().node().width()),A.attr("height",c.layer().node().height()),t.widget?c.canvas(A):(n.attr("class","group-"+c._d3id()),c.canvas(n))}return c._setTransform(),c},this.api=function(){return"d3"},this.scaleFactor=function(){return m},this._resize=function(t,e,n,i){return d||O(),A.attr("width",n),A.attr("height",i),c._setTransform(),c.layer().geoTrigger(l,{scale:m},!0),c},this._exit=function(){p={},c.canvas().remove(),A.remove(),A=void 0,b.remove(),b=void 0,x={},_={},u()},this._definitions=function(){return b},this._drawFeatures=function(t){return p[t.id]={data:t.data,index:t.dataIndex,style:t.style,visible:t.visible,attributes:t.attributes,classes:t.classes,append:t.append,onlyRenderNew:t.onlyRenderNew,sortByZ:t.sortByZ,parentId:t.parentId},c.__render(t.id,t.parentId)},this.__render=function(t,e){var n;if(void 0===t){for(n in p)p.hasOwnProperty(n)&&c.__render(n);return c}return e?c._renderFeature(t,e):(x[t]=!0,c.layer().map().scheduleAnimationFrame(c._renderFrame)),c},this._renderFrame=function(){var t;for(t in _)c.select(t).remove(),b.selectAll("."+t).remove();_={};var e=x;for(t in x={},e)e.hasOwnProperty(t)&&c._renderFeature(t)},this._renderFeature=function(t,e){if(!p[t])return c;var n,i,r=p[t].data,o=p[t].index,a=p[t].style,s=p[t].visible,l=p[t].attributes,u=p[t].classes,h=p[t].append,d=c.select(t,e).data(r,o);return n=d.enter().append(h),d.exit().remove(),function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}(i=p[t].onlyRenderNew?n:d,l),i.attr("class",u.concat([t]).join(" ")),function(t,e){var n,i,r;function o(){return e.fill.apply(c,arguments)?null:"none"}function a(){return e.stroke.apply(c,arguments)?null:"none"}for(n in e)e.hasOwnProperty(n)&&(r=null,i=null,"strokeColor"===n?(i="stroke",r=c._convertColor(e[n],e.stroke)):"stroke"===n&&e[n]&&!e.hasOwnProperty("strokeColor")?(i="stroke",r=a):"strokeWidth"===n?(i="stroke-width",r=c._convertScale(e[n])):"strokeOpacity"===n?(i="stroke-opacity",r=e[n]):"fillColor"===n?(i="fill",r=c._convertColor(e[n],e.fill)):"fill"!==n||e.hasOwnProperty("fillColor")?"fillOpacity"===n?(i="fill-opacity",r=e[n]):"lineCap"===n?(i="stroke-linecap",r=e[n]):"lineJoin"===n?(i="stroke-linejoin",r=e[n]):"miterLimit"===n&&(i="stroke-miterlimit",r=e[n]):(i="fill",r=o),i&&t.style(i,r))}(i,a),s&&i.style("visibility",s()?"visible":"hidden"),n.size()&&p[t].sortByZ&&d.sort(function(t,e){return(t.zIndex||0)-(e.zIndex||0)}),c},this.select=function(t,e){return w(e).selectAll("."+t)},this._removeFeature=function(t){return _[t]=!0,c.layer().map().scheduleAnimationFrame(c._renderFrame),delete p[t],x[t]&&delete x[t],c},this.draw=function(){},this.layer().geoOn(s.pan,c._setTransform),this.layer().geoOn(s.rotate,c._setTransform),this.layer().geoOn(s.zoom,function(){c._setTransform(),c.__render(),c.layer().geoTrigger(l,{scale:m},!0)}),this.layer().geoOn(s.resize,function(t){c._resize(t.x,t.y,t.width,t.height)}),this._init(t),this};i(a,o),r("d3",a),a.supported=function(){delete a.d3;try{a.d3=n(265)}catch(t){}return void 0!==a.d3},a.fallback=function(){return null},a.supported(),t.exports=a},function(t,e,n){var i=n(9),r=function(){"use strict";if(!(this instanceof r))return new r;var t=n(3),e=this,o={},a=[],s=0;return this.onIdle=function(t){return s?a.push(t):t(),e},this.addPromise=function(t){function n(){(s-=1)||a.splice(0,a.length).forEach(function(t){t()})}return s+=1,t.always?t.always(n):t.then(n,n),e},this.geoOn=function(n,i){return Array.isArray(n)?(n.forEach(function(t){e.geoOn(t,i)}),e):t.isFunction(i)?(o.hasOwnProperty(n)||(o[n]=[]),o[n].push(i),e):(console.warn("Handler for "+n+" is not a function",i,e),e)},this.geoIsOn=function(t,n){return Array.isArray(t)?t.some(function(t){return e.geoIsOn(t,n)}):(o[t]||[]).some(function(t){return t===n||void 0===n})},this.geoTrigger=function(t,n){return Array.isArray(t)?(t.forEach(function(t){e.geoTrigger(t,n)}),e):((n=n||{}).event=t,o.hasOwnProperty(t)&&o[t].forEach(function(i){try{i.call(e,n)}catch(e){console.warn("Event handler for "+t+" threw an error",e)}}),e)},this.geoOff=function(t,n){if(void 0===t&&(o={},a=[],s=0),Array.isArray(t))return t.forEach(function(t){e.geoOff(t,n)}),e;if(n){if(Array.isArray(n))return n.forEach(function(n){e.geoOff(t,n)}),e}else o[t]=[];return o.hasOwnProperty(t)&&(o[t]=o[t].filter(function(t){return t!==n})),e},this._exit=function(){e.geoOff()},i.object.call(this),this};n(0)(r,i.object),t.exports=r},function(t,e,n){var i=n(0),r=n(12),o=function(t){"use strict";if(!(this instanceof o))return new o;r.call(this,t);var e=this,n=null,i=[],a=this._exit,s=this.geoTrigger,l=this.addPromise,u=this.onIdle;return this.addPromise=function(t){return n?n.addPromise(t):l(t),this},this.onIdle=function(t){return n?n.onIdle(t):u(t),this},this.parent=function(t){return void 0===t?n:(n=t,e)},this.addChild=function(t){return Array.isArray(t)?(t.forEach(e.addChild),e):(t.parent(e),i.push(t),e)},this.removeChild=function(t){return Array.isArray(t)?(t.forEach(e.removeChild),e):(i=i.filter(function(e){return e!==t}),e)},this.children=function(){return i.slice()},this.draw=function(t){return e.children().forEach(function(e){e.draw(t)}),e},this.geoTrigger=function(t,r,o){var a;return a=(r=r||{}).geo||{},r.geo=a,a.stopPropagation?e:!o&&n&&a._triggeredBy!==n?(a._triggeredBy=e,n.geoTrigger(t,r),e):(s.call(e,t,r),a.stopPropagation?e:(i.forEach(function(n){n.geoTrigger&&(a._triggeredBy=e,n.geoTrigger(t,r))}),e))},this._exit=function(){i=[],n=null,a()},this};i(o,r),t.exports=o},function(t,e,n){var i=n(0),r=n(13),o=function(t){"use strict";var e=n(12),i=n(51);if(!(this instanceof e))return new o(t);r.call(this);var a="d3-"+i(),s=this._exit,l=this,u=this.draw;return this._d3id=function(){return a},this.select=function(){return l.renderer().select(l._d3id())},this.draw=function(){return l._update(),u(),l},this._exit=function(){l.renderer()._removeFeature(l._d3id()),s()},this};i(o,r),t.exports=o},function(t,e,n){"use strict";e.a=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}},function(t,e,n){"use strict";e.a=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},function(t,e,n){var i=n(2),r=n(0),o=n(8),a=function(t){"use strict";var e=n(7),r=n(3);if(!(this instanceof a))return new a(t);t=t||{},o.call(this,t);var s,l,u=this,c=this._init,h=0,p=[],d=[];return this._objectListStart=function(t){i.each(t,function(t,e){e.used=!1})},this._objectListGet=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].entry===e)return t[n].used=!0,t[n].value},this._objectListAdd=function(t,e,n){t.push({entry:e,value:n,used:!0})},this._objectListEnd=function(t){for(var e=t.length-1;e>=0;e-=1)t[e].used||t.splice(e,1)},this.pointSearch=function(t){var n,o,a=[],s=[],c={},h=[{},{},{},{}],p=[{},{},{},{}],d=[0,1,2,0],f=[1,2,3,1],v=u.data(),g=u.layer().map();return t=e.transformCoordinates(g.ingcs(),g.gcs(),t),l||this._generateQuads(),i.each([l.clrQuads,l.imgQuads,l.vidQuads],function(e,i){i.forEach(function(e,i){for(n=0;n<d.length;n+=1)h[n].x=e.pos[3*d[n]],h[n].y=e.pos[3*d[n]+1],h[n].z=e.pos[3*d[n]+2],p[n].x=e.pos[3*f[n]],p[n].y=e.pos[3*f[n]+1],p[n].z=e.pos[3*f[n]+2];(r.pointInPolygon(t,h)||r.pointInPolygon(t,p))&&(s.push(e.idx),a.push(v[e.idx]),!(o=r.pointTo2DTriangleBasis(t,h[0],h[1],h[2]))||o.x+o.y>1?(o=r.pointTo2DTriangleBasis(t,p[2],p[1],p[0]))&&(o.x=1-o.x):o.y=1-o.y,o&&(c[e.idx]={basis:o}))})}),{index:s,found:a,extra:c}},this.position=function(t){return void 0===t?u.style("position"):(u.style("position",r.ensureFunction(t)),u.dataTime().modified(),u.modified(),u)},this._positionToQuad=function(t,n,r,o){var a=t.call(u,r,o);if(a.ll&&a.ur||a.ul&&a.lr){var s=u.gcs(),l=u.layer().map().gcs(),c={};return i.each(["ll","lr","ul","ur"],function(t,i){void 0!==a[i]&&(c[i]={},void 0===a[i].x?c[i]=[a[i][0],a[i][1],a[i][2]]:c[i]=[a[i].x,a[i].y,a[i].z],void 0===c[i][2]&&(c[i][2]=n.call(u,r,o)),s!==l&&!1!==s&&(c[i]=e.transformCoordinates(s,l,c[i])))}),c.ll=c.ll||[c.ul[0],c.lr[1],(c.ul[2]+c.lr[2])/2],c.lr=c.lr||[c.ur[0],c.ll[1],(c.ur[2]+c.ll[2])/2],c.ur=c.ur||[c.lr[0],c.ul[1],(c.lr[2]+c.ul[2])/2],c.ul=c.ul||[c.ll[0],c.ur[1],(c.ll[2]+c.ur[2])/2],c}},this._checkQuadUpdate=function(t,e){},this._generateQuads=function(){var t,e,n=u.position(),o=u.style.get("image"),a=u.style.get("video"),c=u.style.get("delayRenderWhenSeeking"),f=u.style.get("color"),v=u.style.get("depth"),g=u.style.get("opacity"),m=u.style.get("drawOnAsyncResourceLoaded"),y=u.style.get("previewColor"),x=u.style.get("previewImage"),_=u.data(),A=[],b=[],w=[],O=[0,0,0];return u._objectListStart(p),u._objectListStart(d),i.each(_,function(l,_){if(_._cachedQuad)return e=_._cachedQuad.diag2,(void 0===t||_._cachedQuad.diag2&&_._cachedQuad.diag2<t)&&(O=_._cachedQuad.ll,t=_._cachedQuad.diag2),_._cachedQuad.clrquad&&A.push(_._cachedQuad.clrquad),_._cachedQuad.imgquad&&(_._cachedQuad.imageEntry&&u._objectListGet(p,_._cachedQuad.imageEntry),b.push(_._cachedQuad.imgquad)),void(_._cachedQuad.vidquad&&(_._cachedQuad.videoEntry&&u._objectListGet(d,_._cachedQuad.videoEntry),w.push(_._cachedQuad.vidquad)));var S,M,T,D,C,F,E,P,L,R,k,I,N={};if(E=u._positionToQuad(n,v,_,l),R=g.call(u,_,l),void 0!==E&&R&&!(R<0)){if(e=Math.pow(E.ll[0]-E.ur[0],2)+Math.pow(E.ll[1]-E.ur[1],2)+Math.pow(E.ll[2]-E.ur[0],2)+Math.pow(E.lr[0]-E.ur[0],2)+Math.pow(E.lr[1]-E.ur[1],2)+Math.pow(E.lr[2]-E.ur[0],2),N.diag2=e,N.ll=E.ll,(void 0===t||e&&e<t)&&(O=E.ll,t=e),E=[E.ll[0],E.ll[1],E.ll[2],E.lr[0],E.lr[1],E.lr[2],E.ul[0],E.ul[1],E.ul[2],E.ur[0],E.ur[1],E.ur[2]],S={idx:l,pos:E,opacity:R},_.reference&&(S.reference=_.reference),_.crop&&(S.crop=_.crop),L=(P=o.call(u,_,l))?null:a.call(u,_,l),P){if(N.imageEntry=P,void 0===(M=u._objectListGet(p,P))&&(P instanceof Image||P instanceof HTMLCanvasElement?M=P:(M=new Image).src=P,u._objectListAdd(p,P,M)),r.isReadyImage(M)||M instanceof HTMLCanvasElement)S.image=M;else if(k=void 0,(I=x.call(u,_,l))&&r.isReadyImage(I)?S.image=I:(k=y.call(u,_,l),S.color=r.convertColor(k),S.color&&void 0!==S.color.r&&void 0!==S.color.g&&void 0!==S.color.b?(A.push(S),N.clrquad=S):k=void 0),m.call(u,_,l))F=r.isReadyImage(M,!0)?null:i.Deferred(),D=M.onload,M.onload=function(){if(void 0!==k&&(i.inArray(S,A)>=0&&A.splice(i.inArray(S,A),1),delete N.clrquad),S.image=M,u.dataTime().modified(),u.modified(),u._update(),u.layer().draw(),F&&F.resolve(),D)return D.apply(this,arguments)},C=M.onerror,M.onerror=function(){if(F&&F.reject(),C)return C.apply(this,arguments)},F&&u.layer().addPromise(F.promise());else if(void 0===k&&!S.image)return;b.push(S),N.imgquad=S}else if(L){if(N.videoEntry=L,void 0===(T=u._objectListGet(d,L))&&(L instanceof HTMLVideoElement?T=L:(T=document.createElement("video")).src=L,u._objectListAdd(d,L,T),i(T).off(".geojsvideo").on("seeking.geojsvideo canplay.geojsvideo pause.geojsvideo playing.geojsvideo",function(t){u._checkQuadUpdate(S,t)})),S.delayRenderWhenSeeking=c.call(u,_,l),void 0===S.delayRenderWhenSeeking&&(S.delayRenderWhenSeeking=!0),r.isReadyVideo(T))S.video=T;else if(k=y.call(u,_,l),S.color=r.convertColor(k),S.color&&void 0!==S.color.r&&void 0!==S.color.g&&void 0!==S.color.b?(A.push(S),N.clrquad=S):k=void 0,m.call(u,_,l))F=r.isReadyVideo(T,!0)?null:i.Deferred(),D=T.onloadeddata,T.onloadeddata=function(){if(void 0!==k&&(i.inArray(S,A)>=0&&A.splice(i.inArray(S,A),1),delete N.clrquad),S.video=T,u.dataTime().modified(),u.modified(),u._update(),u.layer().draw(),F&&F.resolve(),D)return D.apply(this,arguments)},C=T.onerror,T.onerror=function(){if(F&&F.reject(),C)return C.apply(this,arguments)},F&&u.layer().addPromise(F.promise());else if(void 0===k&&!S.video)return;w.push(S),N.vidquad=S}else{if(S.color=r.convertColor(f.call(u,_,l)),!S.color||void 0===S.color.r||void 0===S.color.g||void 0===S.color.b)return;A.push(S),N.clrquad=S}N.clrquad&&(h+=1,N.clrquad.quadId=h),N.imgquad&&(h+=1,N.imgquad.quadId=h),N.vidquad&&(h+=1,N.vidquad.quadId=h),!1!==s&&(_._cachedQuad=N)}}),u._objectListEnd(p),u._objectListEnd(d),l={clrQuads:A,imgQuads:b,vidQuads:w,origin:O}},this.cacheUpdate=function(t){return void 0===t||null===t?i.each(u.data(),function(t,e){e._cachedQuad&&delete e._cachedQuad}):(isFinite(t)&&(t=u.data()[t]),t._cachedQuad&&delete t._cachedQuad),u.modified(),u},this.video=function(t){var e,n;return isFinite(t)&&(t=u.data()[t]),t._cachedQuad?e=(t._cachedQuad.vidquad||{}).video:(l||u._generateQuads(),(n=u.data().indexOf(t))>=0&&(e=u._objectListGet(d,u.style.get("video")(t,n)))),e instanceof HTMLVideoElement?e:null},this._init=function(t){t=t||{},c.call(u,t),s=!1!==t.cacheQuads;var e=i.extend({},{color:{r:1,g:1,b:1},opacity:1,depth:0,drawOnAsyncResourceLoaded:!0,previewColor:null,previewImage:null,image:function(t){return t.image},video:function(t){return t.video},position:function(t){return t}},void 0===t.style?{}:t.style);void 0!==t.position&&(e.position=r.ensureFunction(t.position)),u.style(e),u.dataTime().modified()},u};a.create=function(t,e){"use strict";return(e=e||{}).type="quad",o.create(t,e)},a.capabilities={color:"quad.color",image:"quad.image",imageCrop:"quad.imageCrop",imageFixedScale:"quad.imageFixedScale",imageFull:"quad.imageFull",canvas:"quad.canvas",video:"quad.video"},r(a,o),t.exports=a},function(t,e,n){var i=function(t){"use strict";if(!(this instanceof n(12)))return new i(t);var e=this,r=this.draw;return this.draw=function(){return e._update({mayDelay:!0}),e.renderer()._render(),r(),e},this};t.exports=i},function(t,e,n){var i=n(0),r=n(13),o=function(t){"use strict";if(!(this instanceof n(12)))return new o(t);r.call(this);var e=this,i=this.draw,a={};return this._renderOnCanvas=function(){},this._delayRender=function(){return!1},this._canvasProperty=function(t,n,i){return t&&n?(a[n]!==i&&(a[n]=i,t[n]=i),e):(a={},e)},this.draw=function(){return e._update(),e.renderer()._render(),i(),e},this};i(o,r),t.exports=o},function(t,e,n){"use strict";e.a=function(t){return t<0?-1:1}},function(t,e,n){"use strict";var i=n(4),r=n(20);e.a=function(t){return Math.abs(t)<i.d?t:t-Object(r.a)(t)*Math.PI}},function(t,e,n){var i=n(0),r=n(12),o=function(t){"use strict";if(!(this instanceof o))return new o(t);r.call(this);var e=this,n=void 0===(t=t||{}).layer?null:t.layer,i=void 0===t.canvas?null:t.canvas,a=!1;return this.layer=function(){return n},this.canvas=function(t){return void 0===t?i:(i=t,e.modified(),e)},this.map=function(){return n?n.map():null},this.initialized=function(t){return void 0===t?a:(a=t,e)},this.api=function(){throw new Error("Should be implemented by derived classes")},this._init=function(){return e},this._resize=function(t,n,i,r){return e},this._render=function(){return e},this};i(o,r),t.exports=o},function(t,e,n){var i=n(0),r=n(8),o=n(10),a=n(7),s=n(3),l=function(t){"use strict";if(!(this instanceof l))return new l(t);var e=n(2);t=t||{},r.call(this,t);var i,u=this,c=this._init,h=o();return this.featureType="line",this._subfeatureStyles={lineCap:!0,lineJoin:!0,strokeColor:!0,strokeOffset:!0,strokeOpacity:!0,strokeWidth:!0},this.line=function(t){return void 0===t?u.style("line"):(u.style("line",t),u.dataTime().modified(),u.modified(),u)},this.position=function(t){return void 0===t?u.style("position"):(u.style("position",t),u.dataTime().modified(),u.modified(),u)},this._updatePointSearchInfo=function(){if(h.getMTime()>=u.dataTime().getMTime()&&h.getMTime()>=u.getMTime())return i;h.modified(),i=[];var t=u.data(),e=u.line(),n=u.style.get("strokeWidth"),r=u.position(),o=u.style.get("closed"),s=u.gcs(),l=u.layer().map().gcs();return t.forEach(function(t,u){var c,h,p,d=o(t,u),f=[];e(t,u).forEach(function(e,i){var o=r(e,i,t,u);s!==l&&(o=a.transformCoordinates(s,l,o));var v=Math.ceil(n(e,i,t,u)/2)+2,g=v*v;c&&f.push({u:o,v:c,r2:h>g?h:g}),c=o,h=g,!p&&d&&(p={p:o,r2:g})}),d&&p&&(c.x!==p.p.x||c.y!==p.p.y)&&f.push({u:c,v:p.p,r2:h>p.r2?h:p.r2}),i.push(f)}),i},this.pointSearch=function(t){var e=u.data(),n=[],r=[];if(!e||!e.length||!u.layer())return{found:r,index:n};this._updatePointSearchInfo();var o,l,c,h=u.layer().map(),p=h.unitsPerPixel(h.zoom()),d=p*p,f=a.transformCoordinates(h.ingcs(),h.gcs(),t);for(o=0;o<i.length;o+=1)for(c=i[o],l=0;l<c.length;l+=1)if(s.distance2dToLineSquared(f,c[l].u,c[l].v)<=c[l].r2*d){r.push(e[o]),n.push(o);break}return{found:r,index:n}},this.boxSearch=function(t,e,n){var i=u.position(),r=[],o=u.line();if((n=n||{}).partial=n.partial||!1,n.partial)throw new Error("Unimplemented query method.");return u.data().forEach(function(n,a){var s=!0;o(n,a).forEach(function(r,o){if(s){var l=i(r,o,n,a);l.x>=t.x&&l.x<=e.x&&l.y>=t.y&&l.y<=e.y||(s=!1)}}),s&&r.push(a)}),r},this.rdpSimplifyData=function(t,e,n,i){t=t||u.data(),n=n||u.style.get("position"),i=i||u.style.get("line");var r=u.layer().map(),o=r.gcs(),l=u.gcs(),c=u.style.get("closed");return void 0===e&&(e=.5*r.unitsPerPixel(r.zoom())),t=t.map(function(t,r){var u=i(t,r),h=a.transformCoordinates(l,o,u.map(function(e,i){return n(e,i,t,r)})),p=s.rdpLineSimplify(h,e,c(t,r),[]);for(var d in(p.length<2||2===p.length&&s.distance2dSquared(p[0],p[1])<e*e)&&(p=[]),p=a.transformCoordinates(o,l,p),t)!t.hasOwnProperty(d)||Array.isArray(t)&&d>=0&&d<t.length||(p[d]=t[d]);return p}),u.style("position",function(t){return t}),u.style("line",function(t){return t}),u.data(t),u},this._init=function(t){t=t||{},c.call(u,t);var n=e.extend({},{strokeWidth:1,strokeColor:{r:1,g:.8431372549,b:0},strokeStyle:"solid",strokeOpacity:1,antialiasing:2,closed:!1,line:function(t){return t},position:function(t){return t}},void 0===t.style?{}:t.style);return void 0!==t.line&&(n.line=t.line),void 0!==t.position&&(n.position=t.position),u.style(n),u.dataTime().modified(),u},this._init(t),this};l.create=function(t,e){"use strict";return(e=e||{}).type="line",r.create(t,e)},l.capabilities={feature:"line",basic:"line.basic",multicolor:"line.multicolor"},i(l,r),t.exports=l},function(t,e,n){var i=n(0),r=n(13),o=n(8),a=n(1).checkRenderer,s=n(1).rendererForFeatures,l=n(1).rendererForAnnotations,u=function(t){"use strict";if(!(this instanceof u))return new u(t);t=t||{},r.call(this,t);var e,i=n(2),o=n(10),c=n(1).createRenderer,h=n(3).newLayerId,p=n(6),d=n(48),f=this,v=this._exit,g=void 0===t.id?u.newLayerId():t.id,m=void 0===t.name?"":t.name,y=void 0===t.map?null:t.map,x=null,_=null,A=null,b=!1,w=void 0!==t.renderer?t.renderer:t.annotations?l(t.annotations):s(t.features),O=o(),S=o(),M=void 0===t.sticky||t.sticky,T=void 0===t.active||t.active,D=void 0===t.opacity?1:t.opacity,C=t.attribution||null,F=void 0===t.visible||t.visible,E=void 0===t.selectionAPI||t.selectionAPI;if(w=a(w),!y)throw new Error("Layers must be initialized on a map.");function P(){return(f.parent()||f.map()).children().filter(function(t){return t instanceof u})}if(this.rendererName=function(){return w},this.zIndex=function(t,n){return void 0===t?e:(n||P().reverse().forEach(function(e){e!==this&&e.zIndex()===t&&e.zIndex(t+1)}),e=t,x.css("z-index",e),f)},this.moveUp=function(t){var e,n,i,r,o=null;for(void 0===t&&(t=1),r=1,t<0&&(r=-1,t=-t),e=P().sort(function(t,e){return r*(t.zIndex()-e.zIndex())}),n=0;n<e.length;n+=1)if(null===o)e[n]===f&&(o=n);else{if(!(n-o<=t))break;i=f.zIndex(),f.zIndex(e[n].zIndex(),!0),e[n].zIndex(i,!0)}return f},this.moveDown=function(t){return void 0===t&&(t=1),f.moveUp(-t)},this.moveToTop=function(){return f.moveUp(P().length-1)},this.moveToBottom=function(){return f.moveDown(P().length-1)},this.sticky=function(){return M},this.active=function(t){return void 0===t?T:(T!==t&&(T=t,x.toggleClass("active",T)),this)},this.node=function(){return x},this.id=function(t){return void 0===t?g:(g=h(),f.modified(),f)},this.name=function(t){return void 0===t?m:(m=t,f.modified(),f)},this.map=function(){return y},this.renderer=function(){return A},this.canvas=function(){return _},this.dataTime=function(){return O},this.updateTime=function(){return S},this.initialized=function(t){return void 0!==t?(b=t,f):b},this.toLocal=function(t){return f._toLocalMatrix&&d.applyTransform(f._toLocalMatrix,t),t},this.fromLocal=function(t){return f._fromLocalMatrix&&d.applyTransform(f._fromLocalMatrix,t),t},this.attribution=function(t){return void 0!==t?(C=t,f.map().updateAttribution(),f):C},this.visible=function(t){return void 0===t?F:(F!==t&&(F=t,x.css("display",F?"":"none"),f.modified()),f)},this.selectionAPI=function(t){return void 0===t?E:(E!==t&&(E=t),f)},this._init=function(e){if(b)return f;y.node().append(x);var n=i.extend({},t);return delete n.map,null===w?(A=null,_=x):_?A=c(w,f,_,n):(A=c(w,f,void 0,n),_=A.canvas()),x.toggleClass("active",f.active()),b=!0,e||(f.geoOn(p.resize,function(t){f._update({event:t})}),f.geoOn(p.pan,function(t){f._update({event:t})}),f.geoOn(p.rotate,function(t){f._update({event:t})}),f.geoOn(p.zoom,function(t){f._update({event:t})})),f},this._exit=function(){f.geoOff(),A&&A._exit(),x.off(),x.remove(),t={},_=null,A=null,v()},this._update=function(){},this.width=function(){return f.map().size().width},this.height=function(){return f.map().size().height},this.opacity=function(t){return void 0!==t?(D=t,x.css("opacity",D),f):D},(x=i(document.createElement("div"))).addClass("geojs-layer"),x.attr("id",m),f.opacity(D),void 0===t.zIndex){var L=-1;P().forEach(function(t){void 0!==t.zIndex()&&(L=Math.max(L,t.zIndex()))}),t.zIndex=L+1}return f.zIndex(t.zIndex),f};u.newLayerId=function(){"use strict";var t=1;return function(){var e=t;return t+=1,e}}(),u.create=function(t,e){"use strict";if((e=e||{}).type="feature","feature"!==e.type)return console.warn("Unsupported layer type"),null;if(e.renderer=e.renderer||"vgl",e.renderer=a(e.renderer),!e.renderer)return console.warn("Invalid renderer"),null;var n=t.createLayer(e.type,e);return n?(e.features.forEach(function(t){t.data=t.data||e.data,t.feature=o.create(n,t)}),n):(console.warn("Unable to create a layer"),null)},i(u,r),t.exports=u},function(t,e,n){var i=n(0),r=n(8),o=function(t){"use strict";if(!(this instanceof o))return new o(t);t=t||{},r.call(this,t);var e=n(2),i=this,a=this._init;return this.featureType="text",this.position=function(t){return void 0===t?i.style("position"):(t!==i.style("position")&&(i.style("position",t),i.dataTime().modified(),i.modified()),i)},this.text=function(t){return void 0===t?i.style("text"):(t!==i.style("text")&&(i.style("text",t),i.dataTime().modified(),i.modified()),i)},this._init=function(t){t=t||{},a.call(i,t);var n=e.extend({},{font:"bold 16px sans-serif",textAlign:"center",textBaseline:"middle",color:{r:0,g:0,b:0},rotation:0,rotateWithMap:!1,textScaled:!1,position:function(t){return t},text:function(t){return t.text}},void 0===t.style?{}:t.style);void 0!==t.position&&(n.position=t.position),void 0!==t.text&&(n.text=t.text),i.style(n),n.position&&i.position(n.position),n.text&&i.text(n.text),i.dataTime().modified()},this._init(t),i};o.usedStyles=["visible","font","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","lineHeight","fontFamily","textAlign","textBaseline","color","textOpacity","rotation","rotateWithMap","textScaled","offset","shadowColor","shadowOffset","shadowBlur","shadowRotate","textStrokeColor","textStrokeWidth"],o.create=function(t,e){"use strict";return(e=e||{}).type="text",r.create(t,e)},o.capabilities={feature:"text"},i(o,r),t.exports=o},function(t,e,n){"use strict";var i=n(4);e.a=function(t,e,n){var r=t*n,o=.5*t;return r=Math.pow((1-r)/(1+r),o),Math.tan(.5*(i.d-e))/r}},function(t,e,n){"use strict";var i=n(4);e.a=function(t,e){for(var n,r,o=.5*t,a=i.d-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),a+=r=i.d-2*Math.atan(e*Math.pow((1-n)/(1+n),o))-a,Math.abs(r)<=1e-10)return a;return-9999}},function(t,e,n){"use strict";e.a=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}},function(t,e,n){"use strict";e.a=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},function(t,e,n){"use strict";e.a=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},function(t,e,n){"use strict";e.a=function(t){return.05859375*t*t*(1+.75*t)}},function(t,e,n){"use strict";e.a=function(t){return t*t*t*(35/3072)}},function(t,e,n){var i=n(0),r=n(8),o=function(t){"use strict";if(!(this instanceof o))return new o(t);t=t||{},r.call(this,t);var e=n(2),i=n(10),a=n(114),s=n(6),l=n(3),u=n(259),c=this,h=this._init,p=null,d=i(),f=this.data,v=0,g=t.clustering,m=null,y=[],x=null,_=!1;return this.featureType="point",this.clustering=function(t){return void 0===t?g:(g&&!t?(m=null,g=!1,f(y)):t&&g!==t&&(g=t,c._clusterData()),c)},this._clusterData=function(){if(g){var t=!0===g?{radius:.01}:g,e=c.position();m=new a(t,c.layer().width(),c.layer().height()),y.forEach(function(t,n){var i=l.normalizeCoordinates(e(t,n));i.index=n,m.addPoint(i)}),x=null,c._handleZoom(c.layer().map().zoom())}},this._handleZoom=function(t){var e=Math.floor(t);if(g&&e!==x){x=e;var n=m.points(e).map(function(t){return y[t.index]});m.clusters(e).forEach(function(t){t.__cluster=!0,t.__data=[],t.obj.each(function(e){t.__data.push(y[e.index])}),n.push(t)}),_=!0,c.data(n)}},this.position=function(t){if(void 0===t)return c.style("position");var e=l.isFunction(t);return c.style("position",function(n,i){return null!==n&&void 0!==n&&n.__cluster?n:e?t(n,i):t}),c.dataTime().modified(),c.modified(),c},this._updateRangeTree=function(){if(!(d.getMTime()>=c.dataTime().getMTime())){var t,e,n=c.style.get("radius"),i=c.style.get("stroke"),r=c.style.get("strokeWidth");e=c.position(),v=0,t=c.data().map(function(t,o){var a=e(t,o);return v=Math.max(v,n(t,o)+(i(t,o)?r(t,o):0)),[a.x,a.y]}),p=u(t),d.modified()}},this.pointSearch=function(t){var e,n,i,r,o,a,s=[],l=[],u=c.gcs(),h=c.style.get("stroke"),d=c.style.get("strokeWidth"),f=c.style.get("radius");return(i=c.data())&&i.length?(c._updateRangeTree(),r=c.layer().map(),o=r.gcsToDisplay(t),a=[r.displayToGcs({x:o.x-v,y:o.y-v},u),r.displayToGcs({x:o.x+v,y:o.y-v},u),r.displayToGcs({x:o.x-v,y:o.y+v},u),r.displayToGcs({x:o.x+v,y:o.y+v},u)],e={x:Math.min(a[0].x,a[1].x,a[2].x,a[3].x),y:Math.min(a[0].y,a[1].y,a[2].y,a[3].y)},n={x:Math.max(a[0].x,a[1].x,a[2].x,a[3].x),y:Math.max(a[0].y,a[1].y,a[2].y,a[3].y)},p.range(e.x,e.y,n.x,n.y).forEach(function(t){var e,n,a,p,v=i[t],g=c.position()(v,t);a=f(i[t],t),(a+=h(i[t],t)?d(i[t],t):0)&&(p=a*a,(e=(g=r.gcsToDisplay(g,u)).x-o.x)*e+(n=g.y-o.y)*n<=p&&(s.push(v),l.push(t)))}),{found:s,index:l}):{found:[],index:[]}},this.boxSearch=function(t,e){var n=c.position(),i=[];return c.data().forEach(function(r,o){var a=n(r,o);a.x>=t.x&&a.x<=e.x&&a.y>=t.y&&a.y<=e.y&&i.push(o)}),i},this.data=function(t){return void 0===t?f():(_||(y=t),g&&!_?c._clusterData():f(t),_=!1,c)},this._init=function(t){t=t||{},h.call(c,t);var n=e.extend({},{radius:5,stroke:!0,strokeColor:{r:.851,g:.604,b:0},strokeWidth:1.25,strokeOpacity:1,fillColor:{r:1,g:.839,b:.439},fill:!0,fillOpacity:.8,position:function(t){return t}},void 0===t.style?{}:t.style);return void 0!==t.position&&(n.position=t.position),c.style(n),n.position&&c.position(n.position),c.dataTime().modified(),c.geoOn(s.zoom,function(t){c._handleZoom(t.zoomLevel)}),c},c};o.create=function(t,e){"use strict";return(e=e||{}).type="point",r.create(t,e)},o.capabilities={feature:"point"},i(o,r),t.exports=o},function(t,e,n){var i=n(0),r=n(24),o=n(6),a=n(1),s=function(t){"use strict";if(!(this instanceof s))return new s(t);r.call(this,t);var e=this,n=[],i=this._init,l=this._exit,u=this._update,c=this.visible,h=this.selectionAPI,p=this.draw;return this.createFeature=function(t,n){var i=a.createFeature(t,e,e.renderer(),n);return i?this.addFeature(i):console.warn("Layer renderer ("+e.rendererName()+') does not support feature type "'+t+'"'),i},this.addFeature=function(t){return this.removeFeature(t),e.addChild(t),n.push(t),e.dataTime().modified(),e.modified(),e},this.removeFeature=function(t){var i;return(i=n.indexOf(t))>=0&&(n.splice(i,1),e.removeChild(t),e.dataTime().modified(),e.modified()),e},this.deleteFeature=function(t){return t&&(n.indexOf(t)>=0&&t._exit(),this.removeFeature(t)),e},this.features=function(t){if(void 0===t)return n.slice();var i,r=n.slice();for(i=0;i<r.length;i+=1)t.indexOf(r[i])<0&&n.indexOf(r[i])>=0&&this.deleteFeature(r[i]);for(i=0;i<t.length;i+=1)this.addFeature(t[i]);return e},this._init=function(){return e.initialized()?e:(i.call(e,!0),e.geoOn(o.resize,function(t){e.renderer()?(e.renderer()._resize(t.x,t.y,t.width,t.height),e._update({event:t}),e.renderer()._render()):e._update({event:t})}),e.geoOn(o.pan,function(t){e._update({event:t}),e.renderer()&&e.renderer()._render()}),e.geoOn(o.rotate,function(t){e._update({event:t}),e.renderer()&&e.renderer()._render()}),e.geoOn(o.zoom,function(t){e._update({event:t}),e.renderer()&&e.renderer()._render()}),e)},this._update=function(t){var i;if(!n.length)return e;if(u.call(e,t),e.dataTime().getMTime()>e.updateTime().getMTime())for(i=0;i<n.length;i+=1)n[i].renderer(e.renderer());for(i=0;i<n.length;i+=1)n[i]._update();return e.updateTime().modified(),e},this._exit=function(){e.clear(),l()},this.draw=function(){return e.visible()&&(p(),e.renderer()&&e.renderer()._render()),e},this.visible=function(t){if(void 0===t)return c();if(e.visible()!==t){c(t);var i,r=n.slice();for(i=0;i<r.length;i+=1)r[i].visible(r[i].visible(void 0,!0),!0);t&&e.draw()}return e},this.selectionAPI=function(t){if(void 0===t)return h();if(e.selectionAPI()!==t){h(t);var i,r=n.slice();for(i=0;i<r.length;i+=1)r[i].selectionAPI(r[i].selectionAPI(void 0,!0),!0)}return e},this.clear=function(){for(;n.length;)e.deleteFeature(n[0]);return e},e};i(s,r),a.registerLayer("feature",s),t.exports=s},function(t,e,n){var i=n(55),r=n(0),o=n(1).registerWidget,a=function(t){"use strict";if(!(this instanceof a))return new a(t);i.call(this,t);var e=n(11),r=this,o=this._exit,s=null;return this._init=function(){var e;return t.hasOwnProperty("parent")&&(t.parent.addChild(r),e=t.parent.canvas()),r._createCanvas(e),r.canvas().addEventListener("mousedown",function(t){t.stopPropagation()}),r.reposition(),r},this._exit=function(){s&&s._exit(),o()},this._createCanvas=function(t){var n={layer:r.layer(),widget:!0};t&&(n.d3Parent=t),(s=e(n))._resize=function(){},r.canvas(s.canvas()[0][0])},this};r(a,i),o("dom","svg",a),t.exports=a},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),o=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=null,s=0,l=[],u=n(135);function c(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(g(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(g(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(t,e){var n=o(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=o(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,r)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function f(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(e,t.attrs),p(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var l=s++;n=a||(a=f(e)),i=y.bind(null,n,l,!1),r=y.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),p(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=u(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){d(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){d(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return c(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&c(h(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function y(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e){t.exports={momentum:"geo_action_momentum",pan:"geo_action_pan",rotate:"geo_action_rotate",select:"geo_action_select",unzoomselect:"geo_action_unzoomselect",zoom:"geo_action_zoom",zoomrotate:"geo_action_zoom_rotate",zoomselect:"geo_action_zoomselect",annotation_line:"geo_annotation_line",annotation_polygon:"geo_annotation_polygon",annotation_rectangle:"geo_annotation_rectangle",annotation_edit_handle:"geo_annotation_edit_handle"}},function(t,e,n){"use strict";var i=n(137),r=n(143),o=n(144),a=n(145),s=n(147),l=n(148),u=n(40);function c(t,e){if(!(this instanceof c))return new c(t);e=e||function(t){if(t)throw t};var n=Object(i.a)(t);if("object"==typeof n){var o=c.projections.get(n.projName);if(o){if(n.datumCode&&"none"!==n.datumCode){var h=Object(u.a)(s.a,n.datumCode);h&&(n.datum_params=h.towgs84?h.towgs84.split(","):null,n.ellps=h.ellipse,n.datumName=h.datumName?h.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var p=Object(a.b)(n.a,n.b,n.rf,n.ellps,n.sphere),d=Object(a.a)(p.a,p.b,p.rf,n.R_A),f=n.datum||Object(l.a)(n.datumCode,n.datum_params,p.a,p.b,d.es,d.ep2);Object(r.a)(this,n),Object(r.a)(this,o),this.a=p.a,this.b=p.b,this.rf=p.rf,this.sphere=p.sphere,this.es=d.es,this.e=d.e,this.ep2=d.ep2,this.datum=f,this.init(),e(null,this)}else e(t)}else e(t)}c.projections=o.a,c.projections.start(),e.a=c},function(t,e,n){"use strict";e.a=function(t,e){if(t[e])return t[e];var n,r=Object.keys(t),o=e.toLowerCase().replace(i,""),a=-1;for(;++a<r.length;)if(n=r[a],n.toLowerCase().replace(i,"")===o)return t[n]};var i=/[\s_\-\/\(\)]/g},function(t,e,n){"use strict";e.a=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=c,e.forward=h,e.inverse=p,n.d(e,"names",function(){return d});var i=n(43),r=n(69),o=n(157),a=n(159),s=n(160),l=n(161),u=n(5);function c(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var i=Object(a.a)(this.cbg,this.lat0);this.Zb=-this.Qn*(i+Object(s.a)(this.gtu,2*i))}function h(t){var e=Object(u.a)(t.x-this.long0),n=t.y;n=Object(a.a)(this.cbg,n);var i=Math.sin(n),s=Math.cos(n),c=Math.sin(e),h=Math.cos(e);n=Math.atan2(i,h*s),e=Math.atan2(c*s,Object(r.a)(i,s*h)),e=Object(o.a)(Math.tan(e));var p,d,f=Object(l.a)(this.gtu,2*n,2*e);return n+=f[0],e+=f[1],Math.abs(e)<=2.623395162778?(p=this.a*(this.Qn*e)+this.x0,d=this.a*(this.Qn*n+this.Zb)+this.y0):(p=1/0,d=1/0),t.x=p,t.y=d,t}function p(t){var e,n,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(s=(s-this.Zb)/this.Qn,o/=this.Qn,Math.abs(o)<=2.623395162778){var c=Object(l.a)(this.utg,2*s,2*o);s+=c[0],o+=c[1],o=Math.atan(Object(i.a)(o));var h=Math.sin(s),p=Math.cos(s),d=Math.sin(o),f=Math.cos(o);s=Math.atan2(h*f,Object(r.a)(d,f*p)),o=Math.atan2(d,f*p),e=Object(u.a)(o+this.long0),n=Object(a.a)(this.cgb,s)}else e=1/0,n=1/0;return t.x=e,t.y=n,t}var d=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"];e.default={init:c,forward:h,inverse:p,names:d}},function(t,e,n){"use strict";e.a=function(t){var e=Math.exp(t);return e=(e-1/e)/2}},function(t,e,n){"use strict";e.a=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}},function(t,e,n){"use strict";e.a=function(t,e,n,i,r){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN}},function(t,e,n){"use strict";e.a=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e}},function(t,e,n){t.exports={create:n(175),clone:n(176),copy:n(177),identity:n(95),transpose:n(178),invert:n(179),adjoint:n(180),determinant:n(181),multiply:n(182),translate:n(183),scale:n(184),rotate:n(185),rotateX:n(186),rotateY:n(187),rotateZ:n(188),fromRotation:n(189),fromRotationTranslation:n(190),fromScaling:n(191),fromTranslation:n(192),fromXRotation:n(193),fromYRotation:n(194),fromZRotation:n(195),fromQuat:n(196),frustum:n(197),perspective:n(198),perspectiveFromFieldOfView:n(199),ortho:n(200),lookAt:n(201),str:n(202)}},function(t,e,n){var i=n(0),r=n(12),o=n(3),a=n(47),s=n(96),l=function(t){if(!(this instanceof l))return new l(t);var e=n(6);return t=t||{},r.call(this,t),this._view=o.mat4AsArray(),this._proj=o.mat4AsArray(),this._projection=null,this._transform=o.mat4AsArray(),this._inverse=o.mat4AsArray(),this._bounds=null,this._display=null,this._world=null,this._viewport={width:1,height:1},this._createProj=function(){var t=this.constructor.bounds.near/this.constructor.bounds.far;"perspective"===this._projection?a.frustum(this._proj,this.constructor.bounds.left*t,this.constructor.bounds.right*t,this.constructor.bounds.bottom*t,this.constructor.bounds.top*t,-this.constructor.bounds.near,-this.constructor.bounds.far):"parallel"===this._projection&&a.ortho(this._proj,this.constructor.bounds.left,this.constructor.bounds.right,this.constructor.bounds.bottom,this.constructor.bounds.top,this.constructor.bounds.near,this.constructor.bounds.far)},this._update=function(){this._bounds=null,this._display=null,this._world=null,this._transform=l.combine(this._proj,this._view),a.invert(this._inverse,this._transform),this.geoTrigger(e.camera.view,{camera:this})},Object.defineProperty(this,"view",{get:function(){return this._view},set:function(t){a.copy(this._view,t),this._update()}}),Object.defineProperty(this,"bounds",{get:function(){return null===this._bounds&&(this._bounds=this._getBounds()),this._bounds},set:function(t){this._setBounds(t),this._update()}}),Object.defineProperty(this,"display",{get:function(){var t;return null===this._display&&(t=l.affine({x:1,y:1},{x:this.viewport.width/2,y:this.viewport.height/-2}),this._display=l.combine(t,this._transform)),this._display}}),Object.defineProperty(this,"world",{get:function(){return null===this._world&&(this._world=a.invert(o.mat4AsArray(),this.display)),this._world}}),Object.defineProperty(this,"projection",{get:function(){return this._projection},set:function(t){if(!this.constructor.projection[t])throw new Error("Unsupported projection type: "+t);t!==this._projection&&(this._projection=t,this._createProj(),this._update(),this.geoTrigger(e.camera.projection,{camera:this,projection:t}))}}),Object.defineProperty(this,"projectionMatrix",{get:function(){return this._proj}}),Object.defineProperty(this,"transform",{get:function(){return this._transform}}),Object.defineProperty(this,"inverse",{get:function(){return this._inverse}}),Object.defineProperty(this,"viewport",{get:function(){return{width:this._viewport.width,height:this._viewport.height,left:this._viewport.left,top:this._viewport.top}},set:function(t){if(!(t.width>0&&t.height>0))throw new Error("Invalid viewport dimensions");t.width===this._viewport.width&&t.height===this._viewport.height||(this._viewport.width&&this._viewport.height&&(this._scale([this._viewport.width/t.width,this._viewport.height/t.height,1]),this._translate([(t.width-this._viewport.width)/2,(t.height-this._viewport.height)/2,0])),this._viewport={width:t.width,height:t.height,left:t.left,top:t.top},this._update(),this.geoTrigger(e.camera.viewport,{camera:this,viewport:this.viewport}))}}),this._resetView=function(){return a.identity(this._view),this},this._translate=function(t){return a.translate(this._view,this._view,t),this},this._scale=function(t){return a.scale(this._view,this._view,t),this},this._worldToClip4=function(t){return l.applyTransform(this._transform,t)},this._clipToWorld4=function(t){return l.applyTransform(this._inverse,t)},this.applyProjection=function(t){var e;return"perspective"===this._projection?(e=1/(t[3]||1),t[0]=e*t[0],t[1]=e*t[1],t[2]=e*t[2],t[3]=e):t[3]=1,t},this.unapplyProjection=function(t){var e;return"perspective"===this._projection?(e=t[3]||1,t[0]=e*t[0],t[1]=e*t[1],t[2]=e*t[2],t[3]=e):t[3]=1,t},this.worldToDisplay4=function(t){return t[2]-=2,this._worldToClip4(t),(t=this.applyProjection(t))[0]=this._viewport.width*(1+t[0])/2,t[1]=this._viewport.height*(1-t[1])/2,t[2]=(1+t[2])/2,t},this.displayToWorld4=function(t){return t[0]=2*t[0]/this._viewport.width-1,t[1]=-2*t[1]/this._viewport.height+1,t[2]=2*t[2]-1,t=this.unapplyProjection(t),this._clipToWorld4(t),t[2]+=2,t},this.worldToDisplay=function(t){return{x:(t=this.worldToDisplay4([t.x,t.y,0,1]))[0],y:t[1]}},this.displayToWorld=function(t){return{x:(t=this.displayToWorld4([t.x,t.y,1,2]))[0],y:t[1]}},this._getBounds=function(){var t,e,n,i,r={};return t=this.displayToWorld({x:0,y:0}),e=this.displayToWorld({x:this._viewport.width,y:0}),n=this.displayToWorld({x:0,y:this._viewport.height}),i=this.displayToWorld({x:this._viewport.width,y:this._viewport.height}),r.left=Math.min(t.x,e.x,n.x,i.x),r.bottom=Math.min(t.y,e.y,n.y,i.y),r.right=Math.max(t.x,e.x,n.x,i.x),r.top=Math.max(t.y,e.y,n.y,i.y),r},this._setBounds=function(t){var e={width:t.right-t.left,height:t.top-t.bottom},n={x:(t.left+t.right)/2,y:(t.bottom+t.top)/2};return this._viewFromCenterSizeRotation(n,e,0),this},this._viewFromCenterSizeRotation=function(t,e,n){var i,r,a,s=o.vec3AsArray(),l=o.vec3AsArray();return this._resetView(),(r=Math.abs(e.width))/(a=Math.abs(e.height))>=(i=this._viewport.width/this._viewport.height)?(a=r/i,l[0]=2/r,l[1]=2/a):(r=a*i,l[0]=2/r,l[1]=2/a),l[2]=1,this._scale(l),n&&this._rotate(n),s[0]=-t.x,s[1]=-t.y,s[2]=0,this._translate(s),this},this.viewFromCenterSizeRotation=function(t,e,n){return this._viewFromCenterSizeRotation(t,e,n),this._update(),this},this.pan=function(t){if(t.x||t.y||t.z)return this._translate([t.x,t.y,t.z||0]),this._update(),this},this.zoom=function(t){if(1!==t)return a.scale(this._view,this._view,[t,t,t]),this._update(),this},this._rotate=function(t,e,n){if(t){n=n||[0,0,-1],e?void 0!==e.x&&(e=[e.x||0,e.y||0,e.z||0]):e=[0,0,0];var i=[-e[0],-e[1],-e[2]];return a.translate(this._view,this._view,e),a.rotate(this._view,this._view,t,n),a.translate(this._view,this._view,i),this}},this.css=function(t){var e;switch((t||"").toLowerCase()){case"display":case"":e=this.display;break;case"world":e=this.world;break;default:throw new Error("Unknown transform "+t)}return l.css(e)},this.ppMatrix=function(t,e){var n=t;function i(t){var i=n[t],r=i.toExponential(e);return i>=0&&(r=" "+r),r}return e=e||2,[[i(0),i(4),i(8),i(12)].join(" "),[i(1),i(5),i(9),i(13)].join(" "),[i(2),i(6),i(10),i(14)].join(" "),[i(3),i(7),i(11),i(15)].join(" ")].join("\n")},this.toString=function(){return this.ppMatrix(this._transform)},this.debug=function(){return["bounds",JSON.stringify(this.bounds),"view:",this.ppMatrix(this._view),"projection:",this.ppMatrix(this._proj),"transform:",this.ppMatrix(this._transform)].join("\n")},this.valueOf=function(){return this._transform},this._resetView(),this.projection=t.projection||"parallel",t.viewport&&(this.viewport=t.viewport),this._update(),this};l.projection={perspective:!0,parallel:!0},l.bounds={left:-1,right:1,top:1,bottom:-1,far:-2,near:-1},l.css=function(t){return"matrix3d("+[t[0].toFixed(20),t[1].toFixed(20),t[2].toFixed(20),t[3].toFixed(20),t[4].toFixed(20),t[5].toFixed(20),t[6].toFixed(20),t[7].toFixed(20),t[8].toFixed(20),t[9].toFixed(20),t[10].toFixed(20),t[11].toFixed(20),t[12].toFixed(20),t[13].toFixed(20),t[14].toFixed(20),t[15].toFixed(20)].join(",")+")"},l.affine=function(t,e,n){var i=o.mat4AsArray();return n&&a.translate(i,i,[n.x||0,n.y||0,n.z||0]),e&&a.scale(i,i,[e.x||1,e.y||1,e.z||1]),t&&a.translate(i,i,[t.x||0,t.y||0,t.z||0]),i},l.applyTransform=function(t,e){return s.transformMat4(e,e,t)},l.combine=function(t,e){return a.multiply(o.mat4AsArray(),t,e)},i(l,r),t.exports=l},function(t,e,n){var i=n(2),r=n(0),o=n(8),a=n(7),s=function(t){"use strict";if(!(this instanceof s))return new s(t);t=t||{},o.call(this,t);var e,r=n(3),l=this,u=this._init,c=this._exit,h=this.data,p=this.draw,d=this.modified,f=this.style,v=[];function g(t,e,n){return t=t||l.data(),e=e||l.style.get("position"),n=n||l.style.get("polygon"),t.map(function(t,i){var r=n(t,i);if(r){var o,a,s,u,c,h;for(s=r.outer||(Array.isArray(r)?r:[]),o=new Array(s.length),u=0;u<s.length;u+=1)o[u]=e.call(l,s[u],u,t,i),c=o[u].x||o[u][0]||0,h=o[u].y||o[u][1]||0,u?(c<a.min.x&&(a.min.x=c),h<a.min.y&&(a.min.y=h),c>a.max.x&&(a.max.x=c),h>a.max.y&&(a.max.y=h)):a={min:{x:c,y:h},max:{x:c,y:h}};return{outer:o,inner:(r.inner||[]).map(function(n){s=n||[];var r=new Array(s.length);for(u=0;u<s.length;u+=1)r[u]=e.call(l,s[u],u,t,i);return r}),range:a}}})}function m(t){return r.isFunction(t)?function(e){return t(e[0],e[1],e[2],e[3])}:t}return this.featureType="polygon",this._subfeatureStyles={fillColor:!0,fillOpacity:!0,lineCap:!0,lineJoin:!0,strokeColor:!0,strokeOffset:!0,strokeOpacity:!0,strokeWidth:!0},this.data=function(t){var e=h(t);return void 0!==t&&(v=g(),this._checkForStroke()),e},this.polygonCoordinates=function(){return v},this.polygon=function(t){return void 0===t?l.style("polygon"):(l.style("polygon",t),l.dataTime().modified(),l.modified(),v=g(),l)},this.position=function(t){return void 0===t?l.style("position"):(l.style("position",t),l.dataTime().modified(),l.modified(),v=g(),l)},this.pointSearch=function(t){var n=[],i=[],o={},s=l.data(),u=l.layer().map(),c=a.transformCoordinates(u.ingcs(),l.gcs(),t);(v.forEach(function(t,e){r.pointInPolygon(c,t.outer,t.inner,t.range)&&(i.push(e),o[e]=!0,n.push(s[e]))}),e)&&e.pointSearch(t).found.forEach(function(t){t.length&&4===t[0].length&&!o[t[0][3]]&&(i.push(t[0][3]),o[t[0][3]]=!0,n.push(s[t[0][3]]))});return{index:i,found:n}},this.style=function(t,e){var n=f.apply(this,arguments);return void 0===t||"string"==typeof t&&void 0===e||this._checkForStroke(),n},this.style.get=f.get,this._getLoopData=function(t,e,n){var i,r=[];for(i=0;i<n.length;i+=1)r.push([n[i],i,t,e]);return r},this._checkForStroke=function(){if(!1!==f("stroke")){if(l.layer()){e||(e=l.layer().createFeature("line",{selectionAPI:!1,gcs:l.gcs(),visible:l.visible(void 0,!0)}),l.dependentFeatures([e]));var t=l.style();e.style({antialiasing:m(t.antialiasing),closed:!0,lineCap:m(t.lineCap),lineJoin:m(t.lineJoin),miterLimit:m(t.miterLimit),strokeWidth:m(t.strokeWidth),strokeStyle:m(t.strokeStyle),strokeColor:m(t.strokeColor),strokeOffset:m(t.strokeOffset),strokeOpacity:r.isFunction(t.stroke)||!t.stroke?function(t){return l.style.get("stroke")(t[2],t[3])?l.style.get("strokeOpacity")(t[0],t[1],t[2],t[3]):0}:m(t.strokeOpacity)});var n=this.data(),i=this.style("position");if(n!==e._lastData||i!==e._lastPosVal){var o,a,s,u=[],c=this.style.get("position"),h=this.style.get("polygon");for(o=0;o<n.length;o+=1)(a=h(n[o],o))&&(s=a.outer||(Array.isArray(a)?a:[])).length>=2&&(u.push(l._getLoopData(n[o],o,s)),a.inner&&a.inner.forEach(function(t){t.length>=2&&u.push(l._getLoopData(n[o],o,t))}));e.position(function(t,e,n,i){return c(t[0],t[1],t[2],t[3])}),e.data(u),e._lastData=n,e._lastPosVal=i}}}else e&&l.layer()&&(l.layer().deleteFeature(e),e=null,l.dependentFeatures([]))},this.draw=function(){var t=p();return e&&e.draw(),t},this.modified=function(){var t=d();return e&&e.modified(),t},this.rdpSimplifyData=function(t,e,n,i){var o=l.layer().map(),s=o.gcs(),u=l.gcs(),c=g(t,n,i);return void 0===e&&(e=.5*o.unitsPerPixel(o.zoom())),c=c.map(function(t){return{outer:a.transformCoordinates(u,s,t.outer),inner:t.inner.map(function(t){return a.transformCoordinates(u,s,t)})}}),t=t.map(function(t,n){var i=c[n],o={};for(var l in t)!t.hasOwnProperty(l)||Array.isArray(t)&&l>=0&&l<t.length||(o[l]=t[l]);if(i&&i.outer.length>=3)if(o.inner=i.inner.filter(function(t){return t.length>=3}),o.outer=r.rdpLineSimplify(i.outer,e,!0,o.inner),o.outer.length>=3){var h=o.inner.slice();o.inner.map(function(t,n){h[n]=o.outer;var i=r.rdpLineSimplify(t,e,!0,h);return h[n]=i,i}).filter(function(t){return t.length>=3}),o.outer=a.transformCoordinates(s,u,o.outer),o.inner=o.inner.map(function(t){return a.transformCoordinates(s,u,t)})}else o.outer=o.inner=[];else o.outer=[];return o}),l.style("position",function(t){return t}),l.style("polygon",function(t){return t}),l.data(t),l},this.mouseOverOrderClosestBorder=function(t){var e=t.feature.data(),n=t.feature.layer().map(),i=a.transformCoordinates(n.ingcs(),t.feature.gcs(),t.mouse.geo),o=t.feature.polygonCoordinates(),s={};t.over.index.forEach(function(t,e){var n,a=o[t];a.outer.forEach(function(t,e){var o=a.outer[(e+1)%a.outer.length],s=r.distance2dToLineSquared(i,t,o);(void 0===n||s<n)&&(n=s)}),a.inner.forEach(function(t){t.forEach(function(e,o){var a=t[(o+1)%t.length],s=r.distance2dToLineSquared(i,e,a);(void 0===n||s<n)&&(n=s)})}),s[t]=n}),t.over.index.sort(function(t,e){return s[t]-s[e]}).reverse(),t.over.index.forEach(function(n,i){t.over.found[i]=e[n]})},this._exit=function(){e&&l.layer()&&(l.layer().deleteFeature(e),e=null,l.dependentFeatures([])),c()},this._init=function(t){t=t||{},u.call(l,t);var e=i.extend({},{fill:!0,fillColor:{r:0,g:.5,b:.5},fillOpacity:1,stroke:!1,strokeWidth:1,strokeStyle:"solid",strokeColor:{r:0,g:1,b:1},strokeOpacity:1,polygon:function(t){return t},position:function(t){return t}},void 0===t.style?{}:t.style);void 0!==t.polygon&&(e.polygon=t.polygon),void 0!==t.position&&(e.position=t.position),l.style(e),this._checkForStroke()},this};s.create=function(t,e){"use strict";return(e=e||{}).type="polygon",o.create(t,e)},s.capabilities={feature:"polygon"},r(s,o),t.exports=s},function(t,e,n){var i=n(0),r=n(12),o=n(3),a=n(115),s=function(t){"use strict";if(!(this instanceof s))return new s(t);r.call(this);var e,i,l,u,c,h,p,d,f,v,g=n(2),m=n(6),y=n(38),x=n(3).throttle,_=n(3).debounce,A=n(3).actionMatch,b=n(17),w=this,O=null,S=!1,M=!1,T=function(){};function D(t){var e=t.x,n=t.y;return Math.sqrt(e*e+n*n)}function C(){h={boundDocumentHandlers:h.boundDocumentHandlers}}function F(t,n){n=n<=0?30:n;var i=function(){var t,n,i,r;if(!e.spring.enabled)return{x:0,y:0};var o=w.map().maxBounds(void 0,null),a=w.map().gcsToDisplay({x:o.left,y:o.top},null),s=w.map().gcsToDisplay({x:o.right,y:o.bottom},null),l=e.spring.springConstant,u=w.map().node().width(),c=w.map().node().height();return t=l*Math.max(0,a.x),n=l*Math.max(0,u-s.x),i=l*Math.max(0,a.y)/2,r=l*Math.max(0,c-s.y)/2,{x:t-n,y:i-r}}(),r=D(t),o=t.x/r,a=t.y/r;return r*=Math.exp(-e.momentum.drag*n),D(i)*n+r<e.momentum.minSpeed?null:(r>0?(o*=r,a*=r):(o=0,a=0),{x:o-i.x*n,y:a-i.y*n})}return e=g.extend(!0,{},{throttle:30,discreteZoom:!1,actions:[{action:y.pan,input:"left",modifiers:{shift:!1,ctrl:!1},owner:"geo.mapInteractor",name:"button pan"},{action:y.zoom,input:"right",modifiers:{shift:!1,ctrl:!1},owner:"geo.mapInteractor",name:"button zoom"},{action:y.zoom,input:"wheel",modifiers:{shift:!1,ctrl:!1},owner:"geo.mapInteractor",name:"wheel zoom"},{action:y.rotate,input:"left",modifiers:{shift:!1,ctrl:!0},owner:"geo.mapInteractor",name:"button rotate"},{action:y.rotate,input:"wheel",modifiers:{shift:!1,ctrl:!0},owner:"geo.mapInteractor",name:"wheel rotate"},{action:y.select,input:"left",modifiers:{shift:!0,ctrl:!0},selectionRectangle:m.select,owner:"geo.mapInteractor",name:"drag select"},{action:y.zoomselect,input:"left",modifiers:{shift:!0,ctrl:!1},selectionRectangle:m.zoomselect,owner:"geo.mapInteractor",name:"drag zoom"},{action:y.unzoomselect,input:"right",modifiers:{shift:!0,ctrl:!1},selectionRectangle:m.unzoomselect,owner:"geo.mapInteractor",name:"drag unzoom"},{action:y.pan,input:"pan",owner:"geo.mapInteractor",name:"touch pan"},{action:y.zoomrotate,input:"rotate",owner:"geo.mapInteractor",name:"touch zoom and rotate"}],click:{enabled:!0,buttons:{left:!0,right:!0,middle:!0},duration:0,cancelOnMove:!0},keyboard:{actions:{"zoom.in":["plus","shift+plus","shift+ctrl+plus","=","shift+=","shift+ctrl+="],"zoom.out":["-","shift+-","shift+ctrl+-","_","shift+_","shift+ctrl+_"],"zoom.0":["1"],"zoom.3":["2"],"zoom.6":["3"],"zoom.9":["4"],"zoom.12":["5"],"zoom.15":["6"],"zoom.18":["7"],"pan.left":["left","shift+left","shift+ctrl+left"],"pan.right":["right","shift+right","shift+ctrl+right"],"pan.up":["up","shift+up","shift+ctrl+up"],"pan.down":["down","shift+down","shift+ctrl+down"],"rotate.ccw":["<","shift+<","shift+ctrl+<",".","shift+.","shift+ctrl+."],"rotate.cw":[">","shift+>","shift+ctrl+>",",","shift+,","shift+ctrl+,"],"rotate.0":["0"]},meta:{0:{shift:!1,ctrl:!1},1:{shift:!0,ctrl:!0},2:{shift:!0,ctrl:!1}},focusHighlight:!0},alwaysTouch:!1,wheelScaleX:1,wheelScaleY:1,zoomScale:1,rotateWheelScale:6*Math.PI/180,zoomrotateMinimumRotation:5*Math.PI/180,zoomrotateReverseRotation:4*Math.PI/180,zoomrotateMinimumZoom:.05,zoomrotateMinimumPan:5,touchPanDelay:50,momentum:{enabled:!0,maxSpeed:2.5,minSpeed:.01,stopTime:250,drag:.01,actions:[y.pan,y.zoom]},spring:{enabled:!1,springConstant:5e-5},zoomAnimation:{enabled:!0,duration:500,ease:function(t){return(2-t)*t}}},t||{}),t&&t.actions&&(e.actions=g.extend(!0,[],t.actions)),t&&t.momentum&&t.momentum.actions&&(e.momentum.actions=g.extend(!0,[],t.momentum.actions)),t&&t.keyboard&&void 0!==t.keyboard.actions&&(e.keyboard.actions=g.extend(!0,{},t.keyboard.actions)),i={page:{x:0,y:0},map:{x:0,y:0},geo:{x:0,y:0},mapgcs:{x:0,y:0},buttons:{left:!1,right:!1,middle:!1},modifiers:{alt:!1,ctrl:!1,shift:!1,meta:!1},time:new Date,deltaTime:1,velocity:{x:0,y:0}},h={},p={},this._handleKeys=function(t,n,i){i&&!0===i.simulated&&(n=i);var r,o,a=e.keyboard.meta||{0:{}},s=w.map(),l=s.size(),u=t,c="",h={};for(r in a)a.hasOwnProperty(r)&&(void 0!==a[r].shift&&n.shiftKey!==!!a[r].shift||void 0!==a[r].ctrl&&n.ctrlKey!==!!a[r].ctrl||void 0!==a[r].alt&&n.altKey!==!!a[r].alt||void 0!==a[r].meta&&n.metaKey!==!!a[r].meta||(o=r));if(void 0!==o){switch(n.stopPropagation(),n.preventDefault(),t.indexOf(".")>=0&&(u=t.substr(0,t.indexOf(".")),c=t.substr(t.indexOf(".")+1)),u){case"zoom":switch(c){case"in":h.zoomDelta=[.05,.25,1][o];break;case"out":h.zoomDelta=-[.05,.25,1][o];break;default:isNaN(parseFloat(c))||(h.zoom=parseFloat(c))}break;case"pan":switch(c){case"down":h.panY=-Math.max(1,[0,.05,.5][o]*l.height);break;case"left":h.panX=Math.max(1,[0,.05,.5][o]*l.width);break;case"right":h.panX=-Math.max(1,[0,.05,.5][o]*l.width);break;case"up":h.panY=Math.max(1,[0,.05,.5][o]*l.height)}break;case"rotate":switch(c){case"ccw":h.rotationDelta=[1,5,90][o]*Math.PI/180;break;case"cw":h.rotationDelta=-[1,5,90][o]*Math.PI/180;break;default:isNaN(parseFloat(c))||(h.rotation=parseFloat(c))}}s.geoTrigger(m.keyaction,{move:h,action:t,factor:o,event:n}),h.cancel||(void 0!==h.zoom?s.zoom(h.zoom):h.zoomDelta&&s.zoom(s.zoom()+h.zoomDelta),void 0!==h.rotation?s.rotation(h.rotation):h.rotationDelta&&s.rotation(s.rotation()+h.rotationDelta),(h.panX||h.panY)&&s.pan({x:h.panX||0,y:h.panY||0}))}},this.hasTouchSupport=function(){return"ontouchstart"in window||window.Modernizr&&window.Modernizr.touch||(navigator.msMaxTouchPoints||navigator.maxTouchPoints)>1},this._handleTouch=function(t){var n=!1;if("mouse"===t.pointerType&&c.touchSupport&&(n=!0),"hammer.input"===t.type){if("pan"!==c.lastEventType||1===t.pointers.length)return;n=!0,c.lastEventType=null}var i=/^(.*)(start|end|move|tap)$/.exec(t.type);if(i&&3===i.length||(n=!0),n)h.boundDocumentHandlers&&c.lastEvent&&w._handleMouseUpDocument(c.lastEvent);else{t.which=i[1];var r=(new Date).valueOf();"pan"===t.which&&"pan"!==c.lastEventType&&r-c.lastTime<e.touchPanDelay||(c.lastTime=r,c.lastEventType=t.which,c.lastEvent=t,void 0===t.pageX&&void 0!==t.center&&void 0!==t.center.x&&(t.pageX=t.center.x,t.pageY=t.center.y),"start"===i[2]&&(w._handleMouseDown(t),w._setClickMaybe(!1),h.boundDocumentHandlers&&g(document).on("mousemove.geojs",w._handleMouseUpDocument)),"start"!==i[2]&&"move"!==i[2]||(h.boundDocumentHandlers?w._handleMouseMoveDocument(t):w._handleMouseMove(t)),"end"!==i[2]&&"cancel"!==i[2]||(h.boundDocumentHandlers?w._handleMouseUpDocument(t):w._handleMouseUp(t),c.lastEvent=null),"tap"!==i[2]||h.boundDocumentHandlers||(t.which=1,c.lastEventType=null,w._handleMouseDown(t),w._handleMouseUp(t),c.lastEventType=i[2]))}},this.retriggerMouseMove=function(){w.map().geoTrigger(m.mousemove,w.mouse())},this._connectEvents=function(){if(!e.map)return w;w._disconnectEvents(),d=g(e.map.node()),w._handleMouseWheel=function(){var t={};function n(n){var i,r;S||(t!==p&&(p=t={kind:"wheel",scroll:{x:0,y:0}}),n.preventDefault(),n.deltaFactor=1,1===n.originalEvent.deltaMode?n.deltaFactor=40:2===n.originalEvent.deltaMode&&(n.deltaFactor=g(window).height()),i=n.originalEvent.deltaX||0,r=n.originalEvent.deltaY||0,i=i*e.wheelScaleX*n.deltaFactor/120,r=r*e.wheelScaleY*n.deltaFactor/120,t.scroll.x+=i,t.scroll.y+=r)}function r(n){var r,o,a;if(t===p){if(w._getMouseModifiers(n),a=A({wheel:!0},i.modifiers,e.actions),o=(a||{}).action){var s=w.map().transitionCancel("wheel."+o);switch((s|=w.cancel(y.momentum,!0))&&(i.geo=w.map().displayToGcs(i.map),i.mapgcs=w.map().displayToGcs(i.map,null)),o){case y.pan:w.map().pan({x:p.scroll.x,y:p.scroll.y},void 0,"limited");break;case y.zoom:r=-p.scroll.y,T(r,i);break;case y.rotate:w.map().rotation(w.map().rotation()+p.scroll.y*e.rotateWheelScale,i)}w.map().geoTrigger(m.actionwheel,{state:w.state(),mouse:w.mouse(),event:n})}p={}}}return e.throttle>0?x(e.throttle,!1,r,n):function(t){n(t),r(t)}}(),T=function(){var t,n,i,r=0,o=400;function a(o,a){var s,l=w.map();t=g.extend(!0,{},a),r+=o,void 0===i&&(n=i=l.zoom()),i+=o,l&&Math.abs(r)>=1&&e.discreteZoom&&!e.zoomAnimation.enabled&&(s=Math.round(r+l.zoom()),r=r+l.zoom()-s,l.zoom(s,t))}function s(){var o,a=w.map();a&&(e.zoomAnimation.enabled?(o=i,e.discreteZoom&&(o=Math.round(o))===n&&i!==n&&(o=n+(i>n?1:-1)),a.transitionCancel("debounced_zoom."+y.zoom),a.transition({zoom:o,zoomOrigin:t,duration:e.zoomAnimation.duration,ease:e.zoomAnimation.ease,done:function(t){t=t||{};var n=new RegExp("\\."+y.zoom+"$");t.next||t.cancel&&!((""+t.source).search(n)<0)||(i=void 0),e.discreteZoom&&t.cancel&&t.transition&&t.transition.end&&(""+t.source).search(n)<0&&a.zoom(t.transition.end.zoom,t.transition.end.zoomOrigin)}})):(o=r+a.zoom(),e.discreteZoom&&(o=Math.round(o)),a.zoom(o,t))),r=0}!0!==e.discreteZoom&&e.discreteZoom>0&&(o=e.discreteZoom);return(!0===e.discreteZoom||e.discreteZoom>0)&&!e.zoomAnimation.enabled?_(o,!1,s,a):function(t,e){(t||void 0!==i)&&(a(t,e),s())}}(),o.adjustActions(e.actions);var t={};if(["right","pan","rotate"].forEach(function(n){t[n]=e.actions.some(function(t){return t.input[n]})}),d.on("wheel.geojs",w._handleMouseWheel),d.on("mousemove.geojs",w._handleMouseMove),d.on("mousedown.geojs",w._handleMouseDown),d.on("mouseup.geojs",w._handleMouseUp),d.on("dragstart",function(){return!1}),t.right&&d.on("contextmenu.geojs",function(){return!1}),e.keyboard&&e.keyboard.actions){l=a(d[0]);var r=[];for(var s in e.keyboard.actions)e.keyboard.actions.hasOwnProperty(s)&&(l.bind(e.keyboard.actions[s],function(t){return function(e,n){w._handleKeys(t,e,n)}}(s)),r=r.concat(e.keyboard.actions[s]));u=r}if(d.toggleClass("highlight-focus",!!(u&&u.length&&e.keyboard.focusHighlight)),(w.hasTouchSupport()||e.alwaysTouch)&&(t.pan||t.rotate)){var h;try{h=n(264)}catch(t){}if(void 0!==h){var f=[],v=["hammer.input"];t.rotate&&(f.push([h.Rotate,{enable:!0}]),v=v.concat(["rotatestart","rotateend","rotatemove"])),t.pan&&(f.push([h.Pan,{direction:h.DIRECTION_ALL}]),v=v.concat(["panstart","panend","panmove"])),f.push([h.Tap,{event:"doubletap",taps:2}]),f.push([h.Tap,{event:"singletap"},void 0,["doubletap"]]),v=v.concat(["singletap"]);var b={recognizers:f,preventDefault:!0};(c={manager:new h.Manager(d[0],b),touchSupport:w.hasTouchSupport(),lastTime:0}).manager.get("doubletap").recognizeWith("singletap"),v.forEach(function(t){c.manager.on(t,w._handleTouch)})}}return w},this._disconnectEvents=function(){return u&&(l&&l.unbind(u),u=null,l=null),c&&(c.manager.destroy(),c=null),d&&(d.off(".geojs"),d=null),w._handleMouseWheel=function(){},T=function(){},w},this.map=function(t){return void 0!==t?(e.map=t,w._connectEvents(),w):e.map},this.options=function(t){return void 0===t?g.extend({},e):(g.extend(e,t),this._connectEvents(),w)},this._getMousePosition=function(t){var e,n,r=d.offset();e=(n=(new Date).valueOf())-i.time,i.time=n,i.deltaTime=e,i.velocity={x:(t.pageX-i.page.x)/e,y:(t.pageY-i.page.y)/e},i.page={x:t.pageX,y:t.pageY},i.map={x:t.pageX-r.left,y:t.pageY-r.top};try{i.geo=w.map().displayToGcs(i.map),i.mapgcs=w.map().displayToGcs(i.map,null)}catch(t){i.geo=i.mapgcs=null}},this._getMouseButton=function(t){for(var e in i.buttons)i.buttons.hasOwnProperty(e)&&(i.buttons[e]=!1);if(void 0!==t.buttons)i.buttons.left=!!(1&t.buttons),i.buttons.right=!!(2&t.buttons),i.buttons.middle=!!(4&t.buttons);else if("mouseup"!==t.type)switch(t.which){case 1:i.buttons.left=!0;break;case 2:i.buttons.middle=!0;break;case 3:i.buttons.right=!0}!t.which||t.which>=1&&t.which<=3||(i.buttons[t.which]=!0)},this._getMouseModifiers=function(t){i.modifiers.alt=t.altKey,i.modifiers.ctrl=t.ctrlKey,i.modifiers.meta=t.metaKey,i.modifiers.shift=t.shiftKey},this._getSelection=function(){var t=h.origin,e=w.mouse(),n=w.map(),i={},r={};return i.upperLeft={x:Math.min(t.map.x,e.map.x),y:Math.min(t.map.y,e.map.y)},i.lowerRight={x:Math.max(t.map.x,e.map.x),y:Math.max(t.map.y,e.map.y)},i.upperRight={x:i.lowerRight.x,y:i.upperLeft.y},i.lowerLeft={x:i.upperLeft.x,y:i.lowerRight.y},r.upperLeft=n.displayToGcs(i.upperLeft,null),r.lowerRight=n.displayToGcs(i.lowerRight,null),r.upperRight=n.displayToGcs(i.upperRight,null),r.lowerLeft=n.displayToGcs(i.lowerLeft,null),f.data([{ul:r.upperLeft,ur:r.upperRight,ll:r.lowerLeft,lr:r.lowerRight}]),f.draw(),{display:i,gcs:r,mouse:e,origin:g.extend({},h.origin)}},this.cancel=function(t,e){var n;return(n=t?h.action===t:!!h.action)&&(e||(p={}),C()),n},this._setClickMaybe=function(t){M=t,v&&(window.clearTimeout(v),v=null)},this._handleMouseDown=function(t){var n,r;if(!(S||c&&"tap"===c.lastEventType&&(new Date).valueOf()-c.lastTime<1e3)){w._getMousePosition(t),w._getMouseButton(t),w._getMouseModifiers(t),!e.click.enabled||i.buttons.left&&!e.click.buttons.left||i.buttons.right&&!e.click.buttons.right||i.buttons.middle&&!e.click.buttons.middle||(w._setClickMaybe({x:i.page.x,y:i.page.y,buttons:g.extend({},i.buttons)}),e.click.duration>0&&(v=window.setTimeout(function(){M=!1,v=null},e.click.duration))),n=((r=A(i.buttons,i.modifiers,e.actions))||{}).action;var o=w.map();o.transitionCancel("_handleMouseDown"+(n?"."+n:"")),w.cancel(y.momentum),i.velocity={x:0,y:0},n&&(p={kind:"move"},h={action:n,actionRecord:r,origin:g.extend(!0,{},i),initialZoom:o.zoom(),initialRotation:o.rotation(),initialEventRotation:t.rotation,delta:{x:0,y:0}},r.selectionRectangle&&(O&&(O.clear(),o.deleteLayer(O),O=null),O=o.createLayer("feature",{features:[b.capabilities.color]}),(f=O.createFeature("quad",{gcs:o.gcs()})).style({opacity:.25,color:{r:.3,g:.3,b:.3}}),o.geoTrigger(m.brushstart,w._getSelection())),o.geoTrigger(m.actiondown,{state:w.state(),mouse:w.mouse(),event:t}),e.throttle>0?g(document).on("mousemove.geojs",x(e.throttle,w._handleMouseMoveDocument)):g(document).on("mousemove.geojs",w._handleMouseMoveDocument),g(document).on("mouseup.geojs",w._handleMouseUpDocument),h.boundDocumentHandlers=!0)}},this._handleMouseMove=function(t){S||h.boundDocumentHandlers||(e.click.cancelOnMove&&M&&w._setClickMaybe(!1),w._getMousePosition(t),w._getMouseButton(t),w._getMouseModifiers(t),M||w.map().geoTrigger(m.mousemove,w.mouse()))},this._handleZoomrotate=function(t){var n=Math.log2(t.scale);if(!h.zoomrotateAllowZoom&&n&&Math.abs(n)>=Math.log2(1+e.zoomrotateMinimumZoom)&&(e.zoomrotateMinimumZoom&&(h.initialZoom-=n),h.zoomrotateAllowZoom=!0),h.zoomrotateAllowZoom&&n){var i=h.initialZoom+n;w.map().zoom(i,h.origin)}var r=(t.rotation-h.initialEventRotation)*Math.PI/180;if(!h.zoomrotateAllowRotation&&r&&Math.abs(r)>=e.zoomrotateMinimumRotation&&(e.zoomrotateMinimumRotation&&(h.initialEventRotation=t.rotation,r=0),h.zoomrotateAllowRotation=!0),h.zoomrotateAllowRotation){var a=h.initialRotation+r;(r=o.wrapAngle(a-w.map().rotation()))&&(r*(h.lastRotationDelta||0)>=0||Math.abs(r)>=e.zoomrotateReverseRotation)&&(w.map().rotation(a,h.origin),h.lastRotationDelta=r)}var s=h.origin.page;if(h.initialEventGeo){var l=d.offset();(s=w.map().gcsToDisplay(h.initialEventGeo)).x+=l.left,s.y+=l.top}var u=t.pageX-s.x,c=t.pageY-s.y,p=u*u+c*c;!h.zoomrotateAllowPan&&p&&p>=e.zoomrotateMinimumPan*e.zoomrotateMinimumPan&&(e.zoomrotateMinimumPan?(u=c=0,h.initialEventGeo=w.mouse().geo):h.initialEventGeo=h.origin.geo,h.zoomrotateAllowPan=!0),h.zoomrotateAllowPan&&(u||c)&&w.map().pan({x:u,y:c})},this._handleMouseMoveDocument=function(t){var n,r,o;if(w.map()&&!S&&"move"===p.kind&&(w._getMousePosition(t),w._getMouseButton(t),w._getMouseModifiers(t),!e.click.cancelOnMove||void 0!==M.x&&i.page.x===M.x&&i.page.y===M.y||w._setClickMaybe(!1),!M))if(h.action){if(n=i.map.x-h.origin.map.x-h.delta.x,r=i.map.y-h.origin.map.y-h.delta.y,h.delta.x+=n,h.delta.y+=r,h.action===y.pan)w.map().pan({x:n,y:r},void 0,"limited");else if(h.action===y.zoom)T(-r*e.zoomScale/120,h);else if(h.action===y.rotate){var a,s;void 0===h.origin.rotation&&(a=h.origin.map.x-w.map().size().width/2,s=h.origin.map.y-w.map().size().height/2,h.origin.rotation=w.map().rotation()-Math.atan2(s,a)),a=i.map.x-w.map().size().width/2,s=i.map.y-w.map().size().height/2,w.map().rotation(h.origin.rotation+Math.atan2(s,a))}else h.action===y.zoomrotate?w._handleZoomrotate(t):h.actionRecord.selectionRectangle&&(o=w._getSelection(),w.map().geoTrigger(m.brush,o));w.map().geoTrigger(m.actionmove,{state:w.state(),mouse:w.mouse(),event:t}),t.preventDefault()}else console.log("WARNING: Invalid state in mapInteractor.")},this._zoomFromSelection=function(t,e,n){if((t===y.zoomselect||t===y.unzoomselect)&&e.x!==n.x&&e.y!==n.y){var i,r,o=w.map(),a=o.size(),s={x:Math.abs((n.x-e.x)/a.width),y:Math.abs((n.y-e.y)/a.height)};if(t===y.zoomselect?(r=o.displayToGcs({x:(e.x+n.x)/2,y:(e.y+n.y)/2},null),i=o.zoom()-Math.log2(Math.max(s.x,s.y))):(i=o.zoom()+Math.log2(Math.max(s.x,s.y)),r=o.center(void 0,null)),o.discreteZoom()&&(i=Math.floor(i)),o.zoom(i),t===y.zoomselect)o.center(r,null);else{var l=o.gcsToDisplay(r,null);o.pan({x:(e.x+n.x)/2-l.x,y:(e.y+n.y)/2-l.y})}}},this._handleMouseUpDocument=function(t){var n,r;if(!S&&(p={},w._setClickMaybe(!1),w._getMouseButton(t),w._getMouseModifiers(t),g(document).off(".geojs"),h.boundDocumentHandlers=!1,i.buttons.right&&t.preventDefault(),h.actionRecord&&h.actionRecord.selectionRectangle&&(w._getMousePosition(t),n=w._getSelection(),O.clear(),w.map().deleteLayer(O),O=null,f=null,w.map().geoTrigger(m.brushend,n),!0!==h.actionRecord.selectionRectangle&&w.map().geoTrigger(h.actionRecord.selectionRectangle,n),w._zoomFromSelection(h.action,n.display.lowerLeft,n.display.upperRight),w.map().geoTrigger(m.actionselection,{state:w.state(),mouse:w.mouse(),event:t,lowerLeft:n.display.lowerLeft,upperRight:n.display.upperRight})),w.map().geoTrigger(m.actionup,{state:w.state(),mouse:w.mouse(),event:t}),r=h.action,C(),e.momentum.enabled&&g.inArray(r,e.momentum.actions)>=0)){var o=(new Date).valueOf(),a=o-i.time+i.deltaTime;o-i.time<e.momentum.stopTime?(i.velocity.x*=i.deltaTime/a,i.velocity.y*=i.deltaTime/a,i.deltaTime=a):i.velocity.x=i.velocity.y=0,w.springBack(!0,r)}},this._handleMouseUp=function(t){S||(w._getMouseButton(t),M&&w._handleMouseClick(t))},this._handleMouseClick=function(t){h.actionRecord&&h.actionRecord.selectionRectangle&&(O.clear(),w.map().deleteLayer(O),O=null,f=null,h.action=h.actionRecord=null),w._getMouseButton(t),w._getMouseModifiers(t),w.cancel(y.pan),g(document).off(".geojs"),h.boundDocumentHandlers=!1;var e=w.mouse();e.buttonsDown=M.buttons,w._setClickMaybe(!1),w.map().geoTrigger(m.mouseclick,e)},this._handleMouseWheel=function(){},this.springBack=function(t,n){h.action!==y.momentum&&(t||(i.velocity={x:0,y:0}),h.origAction=n,h.action=y.momentum,h.origin=w.mouse(),h.momentum=w.mouse(),h.start=new Date,h.handler=function(){var t,n,i,r;if(h.action===y.momentum&&w.map()&&!w.map().transition())if(r=Math.min(h.momentum.deltaTime,30),i=h.start.valueOf(),h.start=new Date,t=F(h.momentum.velocity,h.start-i)){switch((n=D(t))>e.momentum.maxSpeed&&(n=e.momentum.maxSpeed/n,t.x=t.x*n,t.y=t.y*n),isFinite(t.x)&&isFinite(t.y)||(t.x=0,t.y=0),h.momentum.velocity.x=t.x,h.momentum.velocity.y=t.y,h.origAction){case y.zoom:var o=h.momentum.velocity.y*r;T(-o*e.zoomScale/120,h);break;default:w.map().pan({x:h.momentum.velocity.x*r,y:h.momentum.velocity.y*r},void 0,"limited")}h.handler&&w.map().scheduleAnimationFrame(h.handler)}else C()},h.handler&&w.map().scheduleAnimationFrame(h.handler))},this.destroy=function(){w._disconnectEvents(),w.map()&&g(w.map().node()).removeClass("highlight-focus"),w.map(null)},this.mouse=function(){return g.extend(!0,{},i)},this.keyboard=function(t){return void 0===t?g.extend(!0,{},e.keyboard||{}):w.options({keyboard:t})},this.state=function(){return g.extend(!0,{},h)},this.pause=function(t){return void 0===t?S:(S=!!t,w)},this.addAction=function(t,n){t&&t.action&&t.input&&(o.addAction(e.actions,t,n),e.map&&e.actions.some(function(t){return t.input.right})&&(d.off("contextmenu.geojs"),d.on("contextmenu.geojs",function(){return!1})))},this.hasAction=function(t,n,i){return o.hasAction(e.actions,t,n,i)},this.removeAction=function(t,n,i){var r=o.removeAction(e.actions,t,n,i);return e.map&&!e.actions.some(function(t){return t.input.right})&&d.off("contextmenu.geojs"),r},this.simulateEvent=function(t,e){var n,i,r,o,a;if(!w.map())return w;if("keyboard"===t&&l){var s={shiftKey:e.shift||e.shiftKey||!1,ctrlKey:e.ctrl||e.ctrlKey||!1,altKey:e.alt||e.altKey||!1,metaKey:e.meta||e.metaKey||!1,toString:function(){return e.keys},stopPropagation:function(){},preventDefault:function(){},simulated:!0};l.trigger(s)}else i=e.page||{},e.map&&(r=d.offset(),i.x=e.map.x+r.left,i.y=e.map.y+r.top),"left"===e.button?(o=1,a=1):"right"===e.button?(o=3,a=2):"middle"===e.button&&(o=2,a=4),e.modifiers=e.modifiers||[],e.wheelDelta=e.wheelDelta||{},n=g.Event(t,{pageX:i.x,pageY:i.y,which:o,buttons:a,altKey:e.modifiers.indexOf("alt")>=0,ctrlKey:e.modifiers.indexOf("ctrl")>=0,metaKey:e.modifiers.indexOf("meta")>=0,shiftKey:e.modifiers.indexOf("shift")>=0,center:e.center,rotation:e.touch?e.rotation||0:e.rotation,scale:e.touch?e.scale||1:e.scale,pointers:e.pointers,pointerType:e.pointerType,originalEvent:{deltaX:e.wheelDelta.x,deltaY:e.wheelDelta.y,deltaMode:e.wheelMode,preventDefault:function(){},stopPropagation:function(){},stopImmediatePropagation:function(){}}}),e.touch&&c?w._handleTouch(n):d.trigger(n),t.indexOf(".geojs")>=0&&g(document).trigger(n)},this._connectEvents(),this};i(s,r),t.exports=s},function(t,e){var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";t.exports=function(){var t,e=[];for(e.length=8,t=0;t<8;t+=1)e[t]=n.charAt(Math.floor(Math.random()*n.length));return e.join("")}},function(t,e,n){var i=n(0),r=n(8),o=function(t){"use strict";if(!(this instanceof o))return new o(t);var e=n(2),i=n(3);t=t||{},r.call(this,t);var a=this,s=this._init,l={};return this.mesh=function(t,n){if(void 0===t)return l;if("string"==typeof t&&void 0===n)return l[t];if(void 0===n){var i=e.extend({},{gridWidth:function(){return t.gridHeight?Math.floor(a.data().length/t.gridHeight):Math.floor(Math.sqrt(a.data().length))},gridHeight:function(){return t.gridWidth?Math.floor(a.data().length/t.gridWidth):Math.floor(Math.sqrt(a.data().length))}},l,t);l=i}else l[t]=n;return a.modified(),a},this.mesh.get=function(t){if(void 0===t){var e,n={};for(e in l)l.hasOwnProperty(e)&&(n[e]=a.mesh.get(e));return n}return i.ensureFunction(l[t])},this.position=function(t){return void 0===t?a.style("position"):(a.style("position",t),a.dataTime().modified(),a.modified(),a)},this._createMesh=function(t){t=t||{};var e,n,i,r,o,s,l,u,c,h,p,d,f,v,g,m=a.data(),y=a.position(),x=a.mesh.get("elements")(m),_=a.mesh.get("elementPacking")(m),A=a.mesh.get("gridWidth")(m),b=a.mesh.get("gridHeight")(m),w=a.mesh.get("wrapLongitude")(m),O=a.mesh.get("x0")(m),S=a.mesh.get("y0")(m),M=a.mesh.get("dx")(m),T=a.mesh.get("dy")(m),D=A,C={shape:"square",elements:[]};if(x){var F=x.length&&Array.isArray(x[0]);if("square"===_||"triangle"!==_&&(!F&&!(x.length%4)&&x.length%3||F&&4===x[0].length))if(C.shape="square",F)for(e=0;e<x.length;e+=1)C.elements.push(x[e][0]),C.elements.push(x[e][1]),C.elements.push(x[e][3]),C.elements.push(x[e][2]),C.elements.push(x[e][3]),C.elements.push(x[e][1]);else for(e=0;e<x.length-3;e+=4)C.elements.push(x[e]),C.elements.push(x[e+1]),C.elements.push(x[e+3]),C.elements.push(x[e+2]),C.elements.push(x[e+3]),C.elements.push(x[e+1]);else if(C.shape="triangle",F)for(e=0;e<x.length;e+=1)C.elements.push(x[e][0]),C.elements.push(x[e][1]),C.elements.push(x[e][2]);else C.elements=x.slice(0,x.length-x.length%3);s=m.length,u=!0}else{if(A*b>m.length&&(b=Math.floor(m.length/A)),u=x||null===O||void 0===O||null===S||void 0===S||!M||!T,w=!(void 0!==w&&!w),!u&&w&&(O<-180||O>180||O+M*(A-1)<-180||O+M*(A-1)>180)&&M>-180&&M<180&&M*(A-1)<360.0001){for(d=[],e=0;e<A;e+=1){for(v=O+e*M;v<-180;)v+=360;for(;v>180;)v-=360;e&&Math.abs(v-d[d.length-1])>180&&(v>d[d.length-1]?(d.push(v-360),d.push(d[d.length-2]+360)):(d.push(v+360),d.push(d[d.length-2]-360)),f=e),d.push(v)}if(A+=2,Math.abs(Math.abs(D*M)-360)<.01){for(A+=1,v=O+D*M;v<-180;)v+=360;for(;v>180;)v-=360;d.push(v)}}if(s=A*b,void 0!==f)for(C.index=new Array(s),e=0;e<s;e+=1)g=e-(i=Math.floor(e/A))*A,(g+=g>f?-2:0)>=D&&(g-=D),g+=i*D,C.index[e]=g;for(i=o=0;i<b-1;i+=1,o+=1)for(e=0;e<A-1;e+=1,o+=1)e!==f&&(C.elements.push(o),C.elements.push(o+1),C.elements.push(o+A),C.elements.push(o+A+1),C.elements.push(o+A),C.elements.push(o+1))}if(C.verticesPerElement="triangle"===C.shape?3:6,t.used){for(e=0;e<s&&(o=C.index?C.index[e]:e,t.used(m[o],o));e+=1);if(e!==s){l=e;var E=new Array(s),P=C.verticesPerElement;for(i=0;i<l;i+=1)E[i]=i;if(E[l]=-1,!C.index)for(C.index=new Array(m.length),i=0;i<m.length;i+=1)C.index[i]=i;for(e=l+1;e<s;e+=1)o=C.index[e],t.used(m[o],o)?(E[e]=l,C.index[l]=C.index[e],l+=1):E[e]=-1;for(C.index.splice(l),e=r=0;e<C.elements.length;e+=P){for(i=0;i<P&&!(E[C.elements[e+i]]<0);i+=1)C.elements[r+i]=E[C.elements[e+i]];i===P&&(r+=P)}C.elements.splice(r),s=l}}for(h in C.pos=new Array(3*s),t)"used"!==h&&t.hasOwnProperty(h)&&(C[h]=new Array(s));for(e=n=0;e<s;e+=1,n+=3)for(h in c=m[o=C.index?C.index[e]:e],u?(p=y(c,o),C.pos[n]=p.x,C.pos[n+1]=p.y,C.pos[n+2]=p.z||0):(C.pos[n]=void 0===f?O+M*(o%A):d[e%A],C.pos[n+1]=S+T*Math.floor(o/A),C.pos[n+2]=0,p={x:C.pos[n],y:C.pos[n+1],z:C.pos[n+2]}),t)"used"!==h&&t.hasOwnProperty(h)&&(C[h][e]=t[h](c,o,p));return C.numVertices=s,C.numElements=C.elements.length/C.verticesPerElement,C},this._init=function(t){s.call(a,t),t=t||{};var n=e.extend({},{position:function(t){return t}},t.style||{});this.mesh(t.mesh||{}),this.style(n)},this};i(o,r),t.exports=o},function(t,e,n){t.exports=function(){"use strict";var t=n(2),e=function(n){if(!(this instanceof e))return new e(n);this._index=n.index,this._size=n.size,this._overlap=n.overlap||{x:0,y:0},this._wrap=n.wrap||{x:1,y:1},this._url=n.url,this._fetched=!1,this._queue=n.queue||null,Object.defineProperty(this,"index",{get:function(){return this._index}}),Object.defineProperty(this,"size",{get:function(){return this._size}}),Object.defineProperty(this,"overlap",{get:function(){return this._overlap}}),this.fetch=function(){return this._fetched||t.get(this._url).done(function(){this._fetched=!0}.bind(this)).promise(this),this},this.fetched=function(){return this._fetched},this.then=function(t,e){return this.fetched()||!this._queue||!this._queue.add||this.state&&"pending"!==this.state()?this.fetch():this._queue.add(this,this.fetch),this.done&&this.fail?this.done(t).fail(e):this.then(t,e),this},this.catch=function(t){return this.then(void 0,t),this},this.toString=function(){return[this._index.level||0,this._index.y,this._index.x].join("_")},this.bounds=function(t,e){var n,i;return{left:n=this.size.x*(this.index.x-t.x)-this.overlap.x-e.x,right:n+this.size.x+2*this.overlap.x,bottom:(i=this.size.y*(this.index.y-t.y)-this.overlap.y-e.y)+this.size.y+2*this.overlap.y,top:i}},Object.defineProperty(this,"bottom",{get:function(){return this.size.y*(this.index.y+1)+this.overlap.y}}),Object.defineProperty(this,"top",{get:function(){return this.size.y*this.index.y-this.overlap.y}}),Object.defineProperty(this,"left",{get:function(){return this.size.x*this.index.x-this.overlap.x}}),Object.defineProperty(this,"right",{get:function(){return this.size.x*(this.index.x+1)+this.overlap.x}}),this.fadeIn=function(e){return t.noop(e),this}};return e}()},function(t,e,n){var i=n(0),r=n(52),o=n(1),a=n(3),s={17:[{l0:1,h0:2,l1:0,h1:2}],18:[{l0:0,h0:1,l1:2,h1:1}],20:[{l0:2,h0:0,l1:1,h1:0}],22:[{l0:2,h0:0,l1:2,h1:1}],21:[{l0:1,h0:2,l1:1,h1:0}],19:[{l0:0,h0:1,l1:0,h1:2}],1:[{l0:2,h0:3,l1:1,h1:3}],2:[{l0:0,h0:2,l1:3,h1:2}],4:[{l0:3,h0:1,l1:0,h1:1}],8:[{l0:1,h0:0,l1:2,h1:0}],14:[{l0:3,h0:1,l1:3,h1:2}],13:[{l0:2,h0:3,l1:2,h1:0}],11:[{l0:1,h0:0,l1:1,h1:3}],7:[{l0:0,h0:2,l1:0,h1:1}],3:[{l0:0,h0:2,l1:1,h1:3}],10:[{l0:1,h0:0,l1:3,h1:2}],12:[{l0:3,h0:1,l1:2,h1:0}],5:[{l0:2,h0:3,l1:0,h1:1}],6:[{l0:0,h0:2,l1:0,h1:1},{l0:3,h0:1,l1:3,h1:2}],9:[{l0:1,h0:0,l1:1,h1:3},{l0:2,h0:3,l1:2,h1:0}]},l=function(t){"use strict";if(!(this instanceof l))return new l(t);var e=n(2),i=n(7),u=n(6),c=n(25);t=t||{},r.call(this,t);var h,p,d,f,v,g=this,m=this.draw,y=this._exit,x=this._init,_=this.modified,A=this._update;return this.contour=g.mesh,this.isoline=g.mesh,this._createIsolines=function(){var t,e=g.style.get("value"),n=void 0!==g.style("used")?g.style.get("used"):function(t,n){return a.isNonNullFinite(e(t,n))},i=!1,r=[],o=this._createMesh({used:n,value:e});return(t=this._getValueList(o)).length?(t.forEach(function(t){var e=g._isolinesForValue(o,t);e.length&&(r=r.concat(e),i=i||!!t.label)}),{lines:r,mesh:o,values:t,hasLabels:i}):{}},this._getValueList=function(t){var e,n,i,r,o,s,l,u=g.isoline,c=u.get("values")(t),h=u.get("spacing")(t),p=u.get("count")(t),d=u.get("autofit")(t),f=u.get("levels")(t);if(!t.numVertices||!t.numElements)return[];if(e=a.getMinMaxValues(t.value,u.get("min")(t),u.get("max")(t),!0),t.minValue=e.min,t.maxValue=e.max,(n=t.maxValue-t.minValue)<=0)return[];if(Array.isArray(c))c=(c=c.map(function(t,e){return{value:void 0!==t.value?t.value:t,position:e,level:t.level}})).filter(function(e){return e.value>=t.minValue&&e.value<=t.maxValue});else if(h||d)for(h||(i=n/(2*p/3),o=Math.floor(Math.log10(i)),s=Math.max(0,-o),h=(i=(i/=r=Math.pow(10,o))>=5?5:i>=2?2:1)*r),c=[],l=Math.ceil(t.minValue/h);l<=Math.floor(t.maxValue/h);l+=1)c.push({value:l*h,position:l,fixedDigits:s});else for(c=Array(p),l=0;l<p;l+=1)c[l]={value:t.minValue+n*(l+1)/(p+1),position:l+1};return f.length&&c.forEach(function(t,e){if(void 0===t.level){t.level=0;for(var n=0,i=f[0];n<f.length&&!(t.position%i);i*=f[n+=1])t.level=n+1}if(u.get("label")(t,t.position)){var r=u.get("labelText")(t,t.position);void 0===r&&(r=void 0!==t.fixedDigits?""+parseFloat(t.value.toFixed(t.fixedDigits)):""+t.value),r&&(t.label=r)}}),c},this._addSegment=function(t,e,n){var i,r,o,a,s,l,u=[e,n],c=t.length;for(t.push(u),r=0;r<2;r+=1){for(i=c-1;i>=0;i-=1){if(a=(o=t[i])[0],s=o[o.length-1],n[0]===a[0]&&n[1]===a[1])l=u.concat(o.slice(1));else{if(e[0]!==s[0]||e[1]!==s[1])continue;l=o.concat(u.slice(1))}t.splice(c,1),t[i]=u=l,c=i,e=u[0],n=u[u.length-1];break}if(i<0)break}return t},this._chainVertex=function(t,e,n){var i=n[0],r=n[1],o=3*i,a=3*r,s=(e.value-t.value[i])/(t.value[r]-t.value[i]),l=1-s;return{x:t.pos[o]*l+t.pos[a]*s,y:t.pos[o+1]*l+t.pos[a+1]*s,z:t.pos[o+2]*l+t.pos[a+2]*s}},this._isolinesForValue=function(t,e){var n,i,r,o=e.value,a=Array(t.value.length),l=[];for(n=a.length-1;n>=0;n-=1)a[n]=t.value[n]<=o?0:1;var u=t.verticesPerElement,c="square"===t.shape,h=t.elements,p=h.length;for(i=0;i<p;i+=u){if(c){if(0===(r=8*a[h[i]]+4*a[h[i+1]]+2*a[h[i+2]]+a[h[i+3]])||15===r)continue}else if(16===(r=16+4*a[h[i]]+2*a[h[i+1]]+a[h[i+2]])||23===r)continue;s[r].forEach(function(t){l=g._addSegment(l,[h[i+t.l0],h[i+t.h0]],[h[i+t.l1],h[i+t.h1]])})}return l.map(function(n){var i=[];return n.forEach(function(n){var r=g._chainVertex(t,e,n);i.length&&r.x===i[i.length-1].x&&r.y===i[i.length-1].y||i.push(r)}),i.closed=i[0].x===i[i.length-1].x&&i[0].y===i[i.length-1].y,i.value=e.value,i.level=e.level,i.position=e.position,i.label=e.label,i}).filter(function(t){return t.length>1})},this.modified=function(){var t=_();return d&&d.modified(),v&&v.modified(),t},this.labelPositions=function(){if(g.dataTime().getMTime()>=g.buildTime().getMTime()&&g._build(),p=null,!v)return g;if(!(h&&h.hasLabels&&h.lines&&h.lines.length))return v.data([]),g;var t=g.isoline,e=t.get("labelSpacing"),n=t.get("labelOffset"),r=t.get("labelViewport")(h.mesh),o=g.gcs(),s=g.layer().map(),l=s.gcs(),u=s.rotation(),c=s.size(),d=[],f=0;return h.lines.forEach(function(t,h){if(t.label){var p,v,g,m,y,x,_,A,b,w,O,S=e(t.value,t.value.position),M=n(t.value,t.value.position)||0,T=s.gcsToDisplay(t,o),D=0;if(!(S<=0||isNaN(S))&&(f=Math.max(S,f),M=M+.5-Math.floor(M+.5),p=T.map(function(e,n){if(!t.closed&&n+1===T.length)return 0;var i=Math.sqrt(a.distance2dSquared(e,T[n+1<T.length?n+1:0]));return D+=i,i}),v=Math.floor(D/S)))for(O=i.transformCoordinates(o,l,t),m=(g=D/v)*M,y=0,x=0;x<T.length;x+=1){for(;y+p[x]>=m;)_=x+1===T.length?0:x+1,b=1-(A=(m-y)/p[x]),m+=g,r>0&&((w={x:T[x].x*b+T[_].x*A,y:T[x].y*b+T[_].y*A}).x<-r||w.x>c.width+r||w.y<-r||w.y>c.height+r)||d.push({x:O[x].x*b+O[_].x*A,y:O[x].y*b+O[_].y*A,z:O[x].z*b+O[_].z*A,line:t,rotation:Math.atan2(T[x].y-T[_].y,T[x].x-T[_].x)-u});y+=p[x]}}}),v.gcs(l),v.data(d),v.style("renderThreshold",2*f),p={zoom:s.zoom(),center:s.center(),rotation:u,size:c,labelViewport:r,maxSpacing:f,labelAutoUpdate:t.get("labelAutoUpdate")(h.mesh)},g},this.lastLabelPositions=function(){return e.extend({},p)},this._updateLabelPositions=function(){var t=p;if(!t||!t.labelAutoUpdate)return g;var e=g.layer().map(),n=e.zoom(),i=e.size(),r=!!(Math.abs(n-t.zoom)>=2);if(!r&&t.labelViewport>0){var o=Math.sqrt(a.distance2dSquared(e.gcsToDisplay(e.center()),e.gcsToDisplay(t.center)))*Math.pow(2,t.zoom-n),s=t.labelViewport/2-2*t.maxSpacing-Math.max(i.width-t.size.width,i.height-t.size.height,0);r=r||o>=s}return r&&g.labelPositions().draw(),g},this._build=function(){if((h=g._createIsolines())&&h.lines&&h.lines.length){d||(d=g.layer().createFeature("line",{selectionAPI:!1,gcs:g.gcs(),visible:g.visible(void 0,!0),style:{closed:function(t){return t.closed}}}),g.dependentFeatures([d]));var t=g.style();if(d.data(h.lines).style({antialiasing:t.antialiasing,lineCap:t.lineCap,lineJoin:t.lineJoin,miterLimit:t.miterLimit,strokeWidth:t.strokeWidth,strokeStyle:t.strokeStyle,strokeColor:t.strokeColor,strokeOffset:t.strokeOffset,strokeOpacity:t.strokeOpacity}),h.hasLabels){if(!v){if(!(o.registries.features[g.layer().rendererName()]||{}).text){var e=o.rendererForFeatures(["text"]);f=o.createLayer("feature",g.layer().map(),{renderer:e}),g.layer().addChild(f),g.layer().node().append(f.node())}v=(f||g.layer()).createFeature("text",{selectionAPI:!1,gcs:g.gcs(),visible:g.visible(void 0,!0),style:{text:function(t){return t.line.label}}}).geoOn(u.pan,g._updateLabelPositions)}c.usedStyles.forEach(function(e){"visible"!==e&&v.style(e,t[e])}),g.dependentFeatures([d,v])}}else d&&d.data([]);return g.buildTime().modified(),g.labelPositions(),g},this._update=function(){return A.call(g),(g.dataTime().getMTime()>=g.buildTime().getMTime()||g.updateTime().getMTime()<=g.getMTime())&&g._build(),g.updateTime().modified(),g},this.draw=function(){var t=m();return d&&d.draw(),v&&v.draw(),t},this._exit=function(){v&&((f||g.layer())&&(f||g.layer()).deleteFeature(v),f&&g.layer()&&g.layer().removeChild(f)),d&&g.layer()&&g.layer().deleteFeature(d),v=null,f=null,d=null,g.dependentFeatures([]),y()},this._init=function(t){t=t||{},x.call(g,t);var n=e.extend({},{opacity:1,value:function(t,e){return g.position()(t,e).z},rotateWithMap:!0,rotation:l.rotationFunction(),strokeWidth:function(t,e,n,i){return n.level+.5},strokeColor:{r:0,g:0,b:0},textStrokeColor:{r:1,g:1,b:1,a:.75},textStrokeWidth:2,fontSize:"12px"},void 0===t.style?{}:t.style);g.style(n),g.isoline(e.extend({},{count:15,autofit:!0,levels:[5,5],label:function(t){return t.level>=1},labelSpacing:200,labelViewport:1e4,labelAutoUpdate:!0},t.mesh||{},t.contour||{},t.isoline||{})),(t.mesh||t.contour||t.isoline)&&g.dataTime().modified()},this};l.rotationFunction=function(t,e){var n={higher:function(t){return t.rotation},lower:function(t){return t.rotation+Math.PI},map:function(t){var e=t.rotation,n=a.wrapAngle(e,!0);return(n>Math.PI/2||n<-Math.PI/2)&&(e+=Math.PI),e},screen:function(t){var n=t.rotation,i=a.wrapAngle(n+e.rotation(),!0);return(i>Math.PI/2||i<-Math.PI/2)&&(n+=Math.PI),n}};return n[t]||n.higher},i(l,r),t.exports=l},function(t,e,n){var i=n(0),r=n(13),o=n(2),a=function(t){"use strict";if(!(this instanceof a))return new a(t);t=t||{},r.call(this,t);var e=n(6),i=this,s=this._exit,l=t.layer,u=null,c=void 0===t.position?{left:0,top:0}:t.position;if(!(void 0===t.parent||t.parent instanceof a))throw new Error("Parent must be of type geo.gui.widget");t.parent&&i.parent(t.parent),this._init=function(){return i.modified(),i},this._exit=function(){if(i.children().forEach(function(t){i.removeChild(t),t._exit()}),i.layer().geoOff(e.pan,i.repositionEvent),i.parentCanvas().removeChild&&i.canvas())try{i.parentCanvas().removeChild(i.canvas())}catch(t){}s()},this.layer=function(){return l||i.parent()&&i.parent().layer()},this._createCanvas=function(){throw new Error("Must be defined in derived classes")},this.canvas=function(t){return void 0===t?u:(u=t,i)},this._appendCanvasToParent=function(){i.parentCanvas().appendChild(i.canvas())},this.parentCanvas=function(){return i.parent()?i.parent().canvas():i.layer().canvas()},this.position=function(t,n){if(void 0!==t){this.layer().geoOff(e.pan,i.repositionEvent);var r={};for(var a in c)c.hasOwnProperty(a)&&(r[a]=null);return(c=t).hasOwnProperty("x")&&c.hasOwnProperty("y")&&this.layer().geoOn(e.pan,i.repositionEvent),this.reposition(o.extend(r,i.position())),this}if(c.hasOwnProperty("x")&&c.hasOwnProperty("y")&&!n){var s=i.layer().map().gcsToDisplay(c);return{left:s.x,top:s.y,right:null,bottom:null}}return c},this.reposition=function(t){if(t=t||i.position(),i.canvas()&&i.canvas().style)for(var e in i.canvas().style.position="absolute",t)t.hasOwnProperty(e)&&(/^\s*(-|\+)?(\d+(\.\d*)?|\d*\.\d+)([eE](-|\+)?\d+)?\s*$/.test(t[e])?i.canvas().style[e]=parseFloat(parseFloat(t[e]).toFixed(3))+"px":i.canvas().style[e]=t[e]);return i},this.repositionEvent=function(){return i.reposition()},this.isInViewport=function(){var t=i.position(),e=i.layer();return t.left>=0&&t.top>=0&&t.left<=e.width()&&t.top<=e.height()},c.hasOwnProperty("x")&&c.hasOwnProperty("y")&&this.layer().geoOn(e.pan,i.repositionEvent)};i(a,r),t.exports=a},function(t,e,n){var i=n(2),r=n(0),o=n(6),a=n(38),s=n(7),l=n(3),u=n(1).registerAnnotation,c=n(23),h=n(33),p=n(49),d=n(25),f=0,v={create:"create",done:"done",highlight:"highlight",edit:"edit"},g={fill:!0,fillColor:function(t){return t.selected?{r:0,g:1,b:1}:{r:.3,g:.3,b:.3}},fillOpacity:function(t){return t.selected?.5:.25},radius:function(t){return"edge"===t.type||"rotate"===t.type?8:10},scaled:!1,stroke:!0,strokeColor:{r:0,g:0,b:1},strokeOpacity:1,strokeWidth:function(t){return"edge"===t.type||"rotate"===t.type?2:3},rotateHandleOffset:24,rotateHandleRotation:-Math.PI/4,resizeHandleOffset:48,resizeHandleRotation:-Math.PI/4,handles:{vertex:!0,edge:!0,center:!0,rotate:!0,resize:!0}},m=function(t,e){"use strict";if(!(this instanceof m))return new m(t,e);var n=this,r=i.extend({},{showLabel:!0},e||{}),u=r.annotationId;delete r.annotationId,void 0===u||r.layer&&r.layer.annotationById(u)?(f+=1,void 0!==u&&console.warn("Annotation id "+u+" is in use; using "+f+" instead."),u=f):u>f&&(f=u);var c=r.name||t.charAt(0).toUpperCase()+t.substr(1)+" "+u,h=r.label||null,p=r.description||void 0,y=t,x=r.layer,_=r.state||v.done;delete r.state,delete r.layer,delete r.name,delete r.label,delete r.description,this._exit=function(){},this.id=function(){return u},this.name=function(t){return void 0===t?c:(null!==t&&(""+t).trim()&&(t=(""+t).trim())!==c&&(c=t,n.modified()),n)},this.label=function(t,e){return void 0===t?null!==h||e?h:c:(t!==h&&(h=t,n.modified()),n)},this._labelPosition=function(){return l.centerFromPerimeter(n._coordinates())},this._rotateHandlePosition=function(t,e){var i,r,o,a=n.layer().map(),s=n._coordinates(),u=l.centerFromPerimeter(n._coordinates()),c=u?a.gcsToDisplay(u,null):void 0,h=0;if(u){for(t=t||0,e=e||0,i=0;i<s.length;i+=1)r=a.gcsToDisplay(s[i],null),h=Math.max(h,Math.pow(r.x-c.x,2)+Math.pow(r.y-c.y,2));return o=Math.sqrt(h)+t,r=a.displayToGcs({x:c.x+o*Math.cos(e),y:c.y-o*Math.sin(e)},null)}},this.labelRecord=function(){var t=n.options("showLabel");if(t){var e=n.state();if(!(!0===t&&e===v.create||!0!==t&&t.indexOf(e)<0)){var i=n.labelStyle(),r={text:n.label(),position:n._labelPosition()};if(r.position)return i&&(r.style=i),r}}},this.description=function(t){return void 0===t?p:(t!==p&&(p=t,n.modified()),n)},this.layer=function(t){return void 0===t?x:(x=t,n)},this.state=function(t){return void 0===t?_:(_!==t&&(_=t,n.layer()&&n.layer().geoTrigger(o.annotation.state,{annotation:this})),n)},this.actions=function(t){switch(t||(t=n.state()),t){case v.edit:return[{action:a.annotation_edit_handle,name:"annotation edit",owner:"annotationAction",input:"left"},{action:a.annotation_edit_handle,name:"annotation edit",owner:"annotationAction",input:"pan"}];default:return[]}},this.processAction=function(){},this.processEditAction=function(t){if(t&&n._editHandle&&n._editHandle.handle)switch(n._editHandle.handle.type){case"vertex":return n._processEditActionVertex(t);case"edge":return n._processEditActionEdge(t);case"center":return n._processEditActionCenter(t);case"rotate":return n._processEditActionRotate(t);case"resize":return n._processEditActionResize(t)}},this.selectEditHandle=function(t,e){e&&n._editHandle&&n._editHandle.handle&&n._editHandle.handle.selected&&(n._editHandle.handle.selected=!1),t.selected=e;var i=(n._editHandle||{}).amountRotated||0;return n._editHandle={handle:t,startCoordinates:n._coordinates().slice(),center:l.centerFromPerimeter(n._coordinates()),rotatePosition:n._rotateHandlePosition(t.style.rotateHandleOffset,t.style.rotateHandleRotation+i),startAmountRotated:i,amountRotated:i,resizePosition:n._rotateHandlePosition(t.style.resizeHandleOffset,t.style.resizeHandleRotation)},n.layer()&&n.layer().geoTrigger(o.annotation.select_edit_handle,{annotation:n,handle:n._editHandle,enable:e}),n},this.options=function(t,e){if(void 0===t)return r;if("string"==typeof t&&void 0===e)return r[t];var a;if(void 0===e?(a=void 0!==t[n._coordinateOption],r=i.extend(!0,r,t),["style","createStyle","editStyle","editHandleStyle","labelStyle","highlightStyle"].forEach(function(e){void 0!==t[e]&&i.extend(r[e],t[e])})):(a=t===n._coordinateOption,r[t]=e),r.coordinates){var s=r.coordinates;delete r.coordinates,n._coordinates(s)}if(void 0!==r.name){var l=r.name;delete r.name,n.name(l)}if(void 0!==r.label){var u=r.label;delete r.label,n.label(u)}if(void 0!==r.description){var c=r.description;delete r.description,n.description(c)}return n.modified(),a&&n.layer()&&n.layer().geoTrigger(o.annotation.coordinates,{annotation:n}),this},this.style=function(t,e,o){return o=o||"style",void 0===t?r[o]:"string"==typeof t&&void 0===e?(r[o]||{})[t]:(void 0===r[o]&&(r[o]={}),void 0===e?r[o]=i.extend(!0,r[o],t):r[o][t]=e,n.modified(),n)},["createStyle","editStyle","editHandleStyle","labelStyle","highlightStyle"].forEach(function(t){n[t]=function(e,i){return n.style(e,i,t)}}),this.styleForState=function(t){return(t=t||n.state())===v.edit||t===v.highlight?i.extend({},r.style,r[t+"Style"]):t===v.create?i.extend({},r.style,r.editStyle,r[t+"Style"]):r[t+"Style"]||r.style||{}},this.type=function(){return y},this.features=function(){return[]},this.mouseClick=function(t){},this.mouseClickEdit=function(t){},this.mouseMove=function(t){},this._coordinates=function(t){return[]},this._coordinateOption="vertices",this.coordinates=function(t){var e=n._coordinates()||[];if(n.layer()){var i=n.layer().map();(t=null===t?i.gcs():void 0===t?i.ingcs():t)!==i.gcs()&&(e=s.transformCoordinates(i.gcs(),t,e))}return e},this.modified=function(){return n.layer()&&n.layer().modified(),n},this.draw=function(){return n.layer()&&(n.layer()._update(),n.layer().draw()),n},this._geojsonStyles=function(){return["closed","fill","fillColor","fillOpacity","lineCap","lineJoin","radius","stroke","strokeColor","strokeOffset","strokeOpacity","strokeWidth"]},this._geojsonCoordinates=function(t){return[]},this._geojsonGeometryType=function(){return""},this.geojson=function(t,e){var i,r,o,a=n._geojsonCoordinates(t),s=n._geojsonGeometryType(),u=n._geojsonStyles(),c=n.options("style")||{},f=n.labelStyle()||{};if(a&&a.length&&s){var v={type:"Feature",geometry:{type:s,coordinates:a},properties:{annotationType:y,name:n.name(),annotationId:n.id()}};for(h&&(v.properties.label=h),p&&(v.properties.description=p),!1===n.options("showLabel")&&(v.properties.showLabel=n.options("showLabel")),i=0;i<u.length;i+=1)r=u[i],void 0!==(o=l.ensureFunction(c[r])())&&(r.toLowerCase().match(/color$/)&&(o=l.convertColorToHex(o,"needed")),v.properties[r]=o);for(i=0;i<d.usedStyles.length;i+=1)r=d.usedStyles[i],void 0!==(o=l.ensureFunction(f[r])())&&(r.toLowerCase().match(/color$/)&&(o=l.convertColorToHex(o,"needed")),v.properties["label"+r.charAt(0).toUpperCase()+r.slice(1)]=o);if(e){var g=n.layer().map();t=null===t?g.gcs():void 0===t?g.ingcs():t,v.crs={type:"name",properties:{type:"proj4",name:t}}}return v}},this._addEditHandles=function(t,e,r,o){var a,s=i.extend({},g,n.editHandleStyle()),u=l.ensureFunction(s.handles)()||{},c=n._editHandle&&n._editHandle.handle&&n._editHandle.handle.selected?n._editHandle.handle:void 0;r=i.extend({},r),Object.keys(u).forEach(function(t){!1===u[t]&&(r[t]=!1)}),t[3]||(t[3]={point:[]}),a=t[3].point,e.forEach(function(t,n){!1!==r.vertex&&a.push(i.extend({},t,{type:"vertex",index:n,style:s,editHandle:!0})),!1===r.edge||n===e.length-1||t.x===e[n+1].x&&t.y===e[n+1].y||a.push(i.extend({x:(t.x+e[n+1].x)/2,y:(t.y+e[n+1].y)/2},{type:"edge",index:n,style:s,editHandle:!0})),!1===r.edge||o||n!==e.length-1||t.x===e[0].x&&t.y===e[0].y||a.push(i.extend({x:(t.x+e[0].x)/2,y:(t.y+e[0].y)/2},{type:"edge",index:n,style:s,editHandle:!0}))}),!1!==r.center&&a.push(i.extend({},l.centerFromPerimeter(n._coordinates()),{type:"center",style:s,editHandle:!0})),!1!==r.rotate&&(a.push(i.extend(n._rotateHandlePosition(s.rotateHandleOffset,s.rotateHandleRotation+(c&&"rotate"===c.type?n._editHandle.amountRotated:0)),{type:"rotate",style:s,editHandle:!0})),!n._editHandle||c&&"rotate"===c.type||(n._editHandle.amountRotated=0)),!1!==r.resize&&a.push(i.extend(n._rotateHandlePosition(s.resizeHandleOffset,s.resizeHandleRotation),{type:"resize",style:s,editHandle:!0})),c&&a.forEach(function(t){t.type===c.type&&t.index===c.index&&(t.selected=!0)})},this._processEditActionCenter=function(t){var e=n._editHandle.startCoordinates,i=t.mouse.mapgcs.x-t.state.origin.mapgcs.x,r=t.mouse.mapgcs.y-t.state.origin.mapgcs.y,o=n._coordinates(),a=e.map(function(t){return{x:t.x+i,y:t.y+r}});return(a[0].x!==o[0].x||a[0].y!==o[0].y)&&(n._coordinates(a),!0)},this._processEditActionRotate=function(t){var e=n._editHandle,i=e.startCoordinates,r=t.mouse.mapgcs.x-t.state.origin.mapgcs.x,o=t.mouse.mapgcs.y-t.state.origin.mapgcs.y,a=Math.atan2(e.rotatePosition.y-e.center.y,e.rotatePosition.x-e.center.x),s=Math.atan2(e.rotatePosition.y+o-e.center.y,e.rotatePosition.x+r-e.center.x)-a,l=n._coordinates(),u=i.map(function(t){var n=t.x-e.center.x,i=t.y-e.center.y;return{x:n*Math.cos(s)-i*Math.sin(s)+e.center.x,y:n*Math.sin(s)+i*Math.cos(s)+e.center.y}});return(u[0].x!==l[0].x||u[0].y!==l[0].y)&&(n._coordinates(u),e.amountRotated=e.startAmountRotated+s,!0)},this._processEditActionResize=function(t){var e=n._editHandle,i=e.startCoordinates,r=t.mouse.mapgcs.x-t.state.origin.mapgcs.x,o=t.mouse.mapgcs.y-t.state.origin.mapgcs.y,a=n.layer().map(),s=a.gcsToDisplay(e.center,null),l=a.gcsToDisplay(e.resizePosition,null),u=a.gcsToDisplay({x:e.resizePosition.x+r,y:e.resizePosition.y+o},null),c=Math.pow(Math.pow(l.y-s.y,2)+Math.pow(l.x-s.x,2),.5)-e.handle.style.resizeHandleOffset,h=Math.pow(Math.pow(u.y-s.y,2)+Math.pow(u.x-s.x,2),.5)-e.handle.style.resizeHandleOffset,p=n._coordinates();if(h&&c){var d=h/c,f=i.map(function(t){return{x:(t.x-e.center.x)*d+e.center.x,y:(t.y-e.center.y)*d+e.center.y}});if(f[0].x!==p[0].x||f[0].y!==p[0].y)return n._coordinates(f),!0}return!1},this._processEditActionEdge=function(t){var e=n._editHandle,i=e.handle.index,r=n._coordinates();return r.splice(i+1,0,{x:e.handle.x,y:e.handle.y}),e.handle.type="vertex",e.handle.index+=1,e.startCoordinates=r.slice(),n.modified(),!0},this._processEditActionVertex=function(t,e){var i,r,a=n._editHandle,s=a.handle.index,l=a.startCoordinates,u=n._coordinates(),c=u.length,h=u[s],p=t.mouse.mapgcs.x-t.state.origin.mapgcs.x,d=t.mouse.mapgcs.y-t.state.origin.mapgcs.y,f=n.layer(),v=f.options("adjacentPointProximity");return u[s]={x:l[s].x+p,y:l[s].y+d},f.displayDistance(u[s],null,l[s],null)<=v||(f.displayDistance(u[s],null,u[(s+1)%u.length],null)<=v?i=(s+1)%u.length:f.displayDistance(u[s],null,u[(s+u.length-1)%u.length],null)<=v&&(i=(s+u.length-1)%u.length)),r=0===i&&s===u.length-1||i===u.length-1&&0===s,!1===e&&r&&(i=void 0),void 0!==i&&u.length>(e||n.options("style").closed?3:2)&&(u[s]={x:u[i].x,y:u[i].y},t.event===o.actionup&&(e&&r&&(n.options("style").closed=!0),u.splice(s,1))),(u.length!==c||u[s].x!==h.x||u[s].y!==h.y)&&(n._coordinates(u),!0)}},y=function(t){"use strict";if(!(this instanceof y))return new y(t);(t=i.extend(!0,{},{style:{fill:!0,fillColor:{r:0,g:1,b:0},fillOpacity:.25,polygon:function(t){return t.polygon},stroke:!0,strokeColor:{r:0,g:0,b:0},strokeOpacity:1,strokeWidth:3,uniformPolygon:!0},highlightStyle:{fillColor:{r:0,g:1,b:1},fillOpacity:.5,strokeWidth:5},createStyle:{fillColor:{r:.3,g:.3,b:.3},fillOpacity:.25,strokeColor:{r:0,g:0,b:1}}},t||{})).corners=t.corners||t.coordinates||[],delete t.coordinates,m.call(this,"rectangle",t);var e=this,n=this.actions,r=this.processEditAction;this.actions=function(t){switch(t||(t=e.state()),t){case v.create:return[{action:a.annotation_rectangle,name:"rectangle create",owner:"annotationAction",input:"left",modifiers:{shift:!1,ctrl:!1},selectionRectangle:!0}];default:return n.apply(e,arguments)}},this.processAction=function(t){var n=e.layer();if(e.state()===v.create&&n&&t.event===o.actionselection&&t.state.action===a.annotation_rectangle){var i=n.map(),r=[i.displayToGcs({x:t.lowerLeft.x,y:t.lowerLeft.y},null),i.displayToGcs({x:t.lowerLeft.x,y:t.upperRight.y},null),i.displayToGcs({x:t.upperRight.x,y:t.upperRight.y},null),i.displayToGcs({x:t.upperRight.x,y:t.lowerLeft.y},null)];return n.displayDistance(r[0],null,r[1],null)*n.displayDistance(r[0],null,r[3],null)<.01?"remove":(e.options("corners",r),e.state(v.done),"done")}},this.features=function(){var t,n=e.options(),i=e.state();switch(i){case v.create:t=[],n.corners&&n.corners.length>=4&&(t=[{polygon:{polygon:n.corners,style:e.styleForState(i)}}]);break;default:t=[{polygon:{polygon:n.corners,style:e.styleForState(i)}}],i===v.edit&&e._addEditHandles(t,n.corners)}return t},this._coordinates=function(t){return t&&t.length>=4&&e.options("corners",t.slice(0,4)),e.options("corners")},this._coordinateOption="corners",this._geojsonCoordinates=function(t){var n=e.coordinates(t);if(n&&e.state()!==v.create&&!(n.length<4)){for(var i=[],r=0;r<4;r+=1)i.push([n[r].x,n[r].y]);return i.push([n[0].x,n[0].y]),[i]}},this._geojsonGeometryType=function(){return"Polygon"},this._geojsonStyles=function(){return["fill","fillColor","fillOpacity","lineCap","lineJoin","stroke","strokeColor","strokeOffset","strokeOpacity","strokeWidth"]},this._setCornersFromMouse=function(t,n){var r=e.layer().map(),o=r.gcsToDisplay({x:t[0].x,y:t[0].y},null),a=r.gcsToDisplay(n.mapgcs,null),s={x:a.x,y:o.y},l={x:o.x,y:a.y};t[2]=i.extend({},n.mapgcs),t[1]=r.displayToGcs(s,null),t[3]=r.displayToGcs(l,null)},this.mouseMove=function(t){if(e.state()===v.create){var n=e.options("corners");return n.length?(e._setCornersFromMouse(n,t),!0):void 0}},this.mouseClick=function(t){var n=e.layer();if(e.state()===v.create&&n&&(t.buttonsDown.left||t.buttonsDown.right)){var r=e.options("corners");if(!t.buttonsDown.right||r.length)return t.handled=!0,r.length?(e._setCornersFromMouse(r,t),n.displayDistance(r[0],null,r[1],null)*n.displayDistance(r[0],null,r[3],null)<.01?"remove":(e.state(v.done),"done")):t.buttonsDown.left?(r.push(i.extend({},t.mapgcs)),r.push(i.extend({},t.mapgcs)),r.push(i.extend({},t.mapgcs)),r.push(i.extend({},t.mapgcs)),!0):void 0}},this.processEditAction=function(t){var n,i,o,a,s,l=e._editHandle.startCoordinates,u={x:t.mouse.mapgcs.x-t.state.origin.mapgcs.x,y:t.mouse.mapgcs.y-t.state.origin.mapgcs.y},c=e._editHandle.handle.type,h=e._editHandle.handle.index,p=[Math.atan2(l[1].y-l[0].y,l[1].x-l[0].x),Math.atan2(l[2].y-l[1].y,l[2].x-l[1].x),Math.atan2(l[3].y-l[2].y,l[3].x-l[2].x),Math.atan2(l[0].y-l[3].y,l[0].x-l[3].x)];switch(p[0]||p[1]||p[2]||p[3]||(p[1]=Math.PI/2,p[2]=Math.PI,p[3]=-Math.PI/2),p[0]||p[2]||(p[0]=p[1]-Math.PI/2,p[2]=p[1]+Math.PI/2),p[1]||p[3]||(p[1]=p[2]-Math.PI/2,p[3]=p[2]+Math.PI/2),c){case"vertex":return n=l.map(function(t){return{x:t.x,y:t.y}}),a=p[(h+1)%4],i={x:(u.x*Math.cos(a)+u.y*Math.sin(a))*Math.cos(a),y:(u.y*Math.sin(a)+u.x*Math.cos(a))*Math.sin(a)},s=p[h],o={x:(u.x*Math.cos(s)+u.y*Math.sin(s))*Math.cos(s),y:(u.y*Math.sin(s)+u.x*Math.cos(s))*Math.sin(s)},n[h].x+=u.x,n[h].y+=u.y,n[(h+1)%4].x+=i.x,n[(h+1)%4].y+=i.y,n[(h+3)%4].x+=o.x,n[(h+3)%4].y+=o.y,e.options("corners",n),!0;case"edge":return n=l.map(function(t){return{x:t.x,y:t.y}}),a=p[(h+1)%4],u={x:(u.x*Math.cos(a)+u.y*Math.sin(a))*Math.cos(a),y:(u.y*Math.sin(a)+u.x*Math.cos(a))*Math.sin(a)},n[h].x+=u.x,n[h].y+=u.y,n[(h+1)%4].x+=u.x,n[(h+1)%4].y+=u.y,e.options("corners",n),!0}return r.apply(e,arguments)}};r(y,m);var x={};x[p.capabilities.feature]=!0,u("rectangle",y,x);var _=function(t){"use strict";if(!(this instanceof _))return new _(t);(t=i.extend(!0,{},{style:{fill:!0,fillColor:{r:0,g:1,b:0},fillOpacity:.25,polygon:function(t){return t.polygon},stroke:!0,strokeColor:{r:0,g:0,b:0},strokeOpacity:1,strokeWidth:3,uniformPolygon:!0},highlightStyle:{fillColor:{r:0,g:1,b:1},fillOpacity:.5,strokeWidth:5},createStyle:{closed:!1,fillColor:{r:.3,g:.3,b:.3},fillOpacity:.25,line:function(t){return Array.apply(null,Array(e.options("vertices").length)).map(function(){return t})},position:function(t,n){return e.options("vertices")[n]},stroke:!1,strokeColor:{r:0,g:0,b:1}}},t||{})).vertices=t.vertices||t.coordinates||[],delete t.coordinates,m.call(this,"polygon",t);var e=this;this.features=function(){var t,n=e.options(),i=e.state(),r=e.styleForState(i);switch(i){case v.create:t=[],n.vertices&&n.vertices.length>=3&&(t[1]={polygon:{polygon:n.vertices,style:r}}),n.vertices&&n.vertices.length>=2&&(t[2]={line:{line:n.vertices,style:r}});break;default:t=[{polygon:{polygon:n.vertices,style:r}}],i===v.edit&&e._addEditHandles(t,n.vertices)}return t},this._coordinates=function(t){return t&&e.options("vertices",t),e.options("vertices")},this.mouseMove=function(t){if(e.state()===v.create){var n=e.options("vertices");return n.length?(n[n.length-1]=t.mapgcs,!0):void 0}},this.mouseClick=function(t){var n=e.layer();if(e.state()===v.create&&n){var i,r=!!t.buttonsDown.right;if(t.buttonsDown.left||t.buttonsDown.right){var o=e.options("vertices");if(!t.buttonsDown.right||o.length)return t.handled=!0,t.buttonsDown.left&&(o.length?o.length>=2&&n.displayDistance(o[o.length-2],null,t.map,"display")<=n.options("adjacentPointProximity")?(i=!0,e._lastClick&&t.time-e._lastClick<n.options("dblClickTime")&&(r=!0)):o.length>=2&&n.displayDistance(o[0],null,t.map,"display")<=n.options("finalPointProximity")?r=!0:o[o.length-1]=t.mapgcs:o.push(t.mapgcs),r||i||o.push(t.mapgcs),e._lastClick=t.time),r?o.length<4?"remove":(o.pop(),e.state(v.done),"done"):r||!i}}},this._geojsonCoordinates=function(t){var n=e.coordinates(t);if(n&&!(n.length<3)&&e.state()!==v.create){for(var i=[],r=0;r<n.length;r+=1)i.push([n[r].x,n[r].y]);return i.push([n[0].x,n[0].y]),[i]}},this._geojsonGeometryType=function(){return"Polygon"},this._geojsonStyles=function(){return["fill","fillColor","fillOpacity","lineCap","lineJoin","stroke","strokeColor","strokeOffset","strokeOpacity","strokeWidth"]}};r(_,m);var A={};A[p.capabilities.feature]=!0,A[c.capabilities.basic]=[v.create],u("polygon",_,A);var b=function(t){"use strict";if(!(this instanceof b))return new b(t);(t=i.extend(!0,{},{style:{line:function(t){return Array.apply(null,Array(e.options("vertices").length)).map(function(){return t})},position:function(t,n){return e.options("vertices")[n]},strokeColor:{r:0,g:0,b:0},strokeOpacity:1,strokeWidth:3,closed:!1,lineCap:"butt",lineJoin:"miter"},highlightStyle:{strokeWidth:5},createStyle:{line:function(t){return Array.apply(null,Array(e.options("vertices").length)).map(function(){return t})},position:function(t,n){return e.options("vertices")[n]},strokeColor:{r:0,g:0,b:1},strokeOpacity:1,strokeWidth:3,closed:!1,lineCap:"butt",lineJoin:"miter"}},t||{})).vertices=t.vertices||t.coordinates||[],delete t.coordinates,m.call(this,"line",t);var e=this,n=this.actions,r=this.processEditAction;this.features=function(){var t,n=e.options(),i=e.state();switch(i){case v.create:t=[{line:{line:n.vertices,style:e.styleForState(i)}}];break;default:t=[{line:{line:n.vertices,style:e.styleForState(i)}}],i===v.edit&&e._addEditHandles(t,n.vertices,void 0,!e.style("closed"))}return t},this._coordinates=function(t){return t&&e.options("vertices",t),e.options("vertices")},this.mouseMove=function(t){if(e.state()===v.create){var n=e.options("vertices");return n.length?(n[n.length-1]=t.mapgcs,!0):void 0}},this.mouseClick=function(t){var n=e.layer();if(e.state()===v.create&&n){var i,r=!!t.buttonsDown.right;if(t.buttonsDown.left||t.buttonsDown.right){var o=e.options("vertices");if(!t.buttonsDown.right||o.length)return t.handled=!0,t.buttonsDown.left&&(o.length?o.length>=2&&n.displayDistance(o[o.length-2],null,t.map,"display")<=n.options("adjacentPointProximity")?(i=!0,e._lastClick&&t.time-e._lastClick<n.options("dblClickTime")&&(r=!0)):o.length>=2&&n.displayDistance(o[0],null,t.map,"display")<=n.options("finalPointProximity")?r="close":o[o.length-1]=t.mapgcs:o.push(t.mapgcs),r||i||o.push(t.mapgcs),e._lastClick=t.time,e._lastClickVertexCount=o.length),r?o.length<3?"remove":(o.pop(),e.options("style").closed="close"===r,e.state(v.done),"done"):r||!i}}},this.actions=function(t){switch(t||(t=e.state()),t){case v.create:return[{action:a.annotation_line,name:"line create",owner:"annotationAction",input:"left",modifiers:{shift:!1,ctrl:!1}},{action:a.annotation_line,name:"line create",owner:"annotationAction",input:"pan"}];default:return n.apply(e,arguments)}},this.processAction=function(t){var n=e.layer();if(e.state()===v.create&&n&&t.state.action===a.annotation_line){var i=n.options("continuousPointProximity"),r=n.options("continuousPointColinearity");if(i||0===i){var o=e.options("vertices");if(!o.length)return o.push(t.mouse.mapgcs),o.push(t.mouse.mapgcs),!0;var s=n.displayDistance(o[o.length-2],null,t.mouse.map,"display");if(s&&s>i){if(o.length>=(e._lastClickVertexCount||1)+3){var l=n.displayDistance(o[o.length-3],null,o[o.length-2],null),u=s,c=n.displayDistance(o[o.length-3],null,t.mouse.map,"display");if(l&&c)(c*c-l*l-u*u)/(2*l*u)>Math.cos(r)&&o.pop()}return o[o.length-1]=t.mouse.mapgcs,o.push(t.mouse.mapgcs),!0}}}},this._geojsonCoordinates=function(t){var n=e.coordinates(t);if(n&&!(n.length<2)&&e.state()!==v.create){for(var i=[],r=0;r<n.length;r+=1)i.push([n[r].x,n[r].y]);return i}},this._geojsonGeometryType=function(){return"LineString"},this._geojsonStyles=function(){return["closed","lineCap","lineJoin","strokeColor","strokeOffset","strokeOpacity","strokeWidth"]},this.processEditAction=function(t){switch(e._editHandle.handle.type){case"vertex":return e._processEditActionVertex(t,!0)}return r.apply(e,arguments)},this.mouseClickEdit=function(t){var n,i=e.layer(),r=e._editHandle;if(e.state()===v.edit&&i&&t.buttonsDown.left&&r&&r.handle.selected&&"edge"===r.handle.type&&e.options("style").closed&&(t.handled=!0,e._lastClick&&t.time-e._lastClick<i.options("dblClickTime")&&(n=!0),e._lastClick=t.time,n)){var o=r.handle.index,a=e._coordinates(),s=a.slice(o+1).concat(a.slice(0,o+1));return e._coordinates(s),e.options("style").closed=!1,r.handle.index=void 0,!0}}};r(b,m);var w={};w[c.capabilities.basic]=[v.create],u("line",b,w);var O=function(t){"use strict";if(!(this instanceof O))return new O(t);(t=i.extend(!0,{},{style:{fill:!0,fillColor:{r:0,g:1,b:0},fillOpacity:.25,radius:10,scaled:!1,stroke:!0,strokeColor:{r:0,g:0,b:0},strokeOpacity:1,strokeWidth:3},createStyle:{fillColor:{r:.3,g:.3,b:.3},fillOpacity:.25,strokeColor:{r:0,g:0,b:1}},highlightStyle:{fillColor:{r:0,g:1,b:1},fillOpacity:.5,strokeWidth:5}},t||{})).position=t.position||(t.coordinates?t.coordinates[0]:void 0),delete t.coordinates,m.call(this,"point",t);var e=this;this.features=function(){var t,n,r,o=e.options(),a=e.state();switch(a){case v.create:t=[];break;default:n=e.styleForState(a),(o.style.scaled||0===o.style.scaled)&&(!0===o.style.scaled&&(o.style.scaled=e.layer().map().zoom()),n=i.extend({},n,{radius:function(){var t=o.style.radius,n=e.layer().map().zoom();return l.isFunction(t)&&(t=t.apply(e,arguments)),t*=Math.pow(2,n-o.style.scaled)}}),r=!0),t=[{point:{x:o.position.x,y:o.position.y,style:n,scaleOnZoom:r}}],a===v.edit&&e._addEditHandles(t,[o.position],{edge:!1,center:!1,resize:!1,rotate:!1})}return t},this._coordinates=function(t){return t&&t.length>=1&&e.options("position",t[0]),e.state()===v.create?[]:[e.options("position")]},this._coordinateOption="position",this.mouseClick=function(t){if(e.state()===v.create&&t.buttonsDown.left)return t.handled=!0,e.options("position",t.mapgcs),e.state(v.done),"done"},this._geojsonStyles=function(){return["fill","fillColor","fillOpacity","radius","scaled","stroke","strokeColor","strokeOpacity","strokeWidth"]},this._geojsonCoordinates=function(t){var n=e.coordinates(t);if(n&&e.state()!==v.create&&!(n.length<1)&&void 0!==n[0])return[n[0].x,n[0].y]},this._geojsonGeometryType=function(){return"Point"}};r(O,m);var S={};S[h.capabilities.feature]=!0,u("point",O,S),t.exports={state:v,actionOwner:"annotationAction",annotation:m,lineAnnotation:b,pointAnnotation:O,polygonAnnotation:_,rectangleAnnotation:y,_editHandleFeatureLevel:3,defaultEditHandleStyle:g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(136),r=n(39),o=n(153),a=n(64),s=n(58),l=n(63),u=n(65),c=n(154),h=n(156);i.a.defaultDatum="WGS84",i.a.Proj=r.a,i.a.WGS84=new i.a.Proj("WGS84"),i.a.Point=o.a,i.a.toPoint=a.a,i.a.defs=s.a,i.a.transform=l.a,i.a.mgrs=u.a,i.a.version=c.a,Object(h.a)(i.a),e.default=i.a},function(t,e,n){"use strict";var i=n(138),r=n(59),o=n(60);function a(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?a[t]=Object(r.a)(arguments[1]):a[t]=Object(o.a)(arguments[1]):a[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?a.apply(e,t):a(t)});if("string"==typeof t){if(t in a)return a[t]}else"EPSG"in t?a["EPSG:"+t.EPSG]=t:"ESRI"in t?a["ESRI:"+t.ESRI]=t:"IAU2000"in t?a["IAU2000:"+t.IAU2000]=t:console.log(t);return}}Object(i.a)(a),e.a=a},function(t,e,n){"use strict";var i=n(4),r=n(139),o=n(140),a=n(40);e.a=function(t){var e,n,s,l={},u=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),c={proj:"projName",datum:"datumCode",rf:function(t){l.rf=parseFloat(t)},lat_0:function(t){l.lat0=t*i.a},lat_1:function(t){l.lat1=t*i.a},lat_2:function(t){l.lat2=t*i.a},lat_ts:function(t){l.lat_ts=t*i.a},lon_0:function(t){l.long0=t*i.a},lon_1:function(t){l.long1=t*i.a},lon_2:function(t){l.long2=t*i.a},alpha:function(t){l.alpha=parseFloat(t)*i.a},lonc:function(t){l.longc=t*i.a},x_0:function(t){l.x0=parseFloat(t)},y_0:function(t){l.y0=parseFloat(t)},k_0:function(t){l.k0=parseFloat(t)},k:function(t){l.k0=parseFloat(t)},a:function(t){l.a=parseFloat(t)},b:function(t){l.b=parseFloat(t)},r_a:function(){l.R_A=!0},zone:function(t){l.zone=parseInt(t,10)},south:function(){l.utmSouth=!0},towgs84:function(t){l.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){l.to_meter=parseFloat(t)},units:function(t){l.units=t;var e=Object(a.a)(o.a,t);e&&(l.to_meter=e.to_meter)},from_greenwich:function(t){l.from_greenwich=t*i.a},pm:function(t){var e=Object(a.a)(r.a,t);l.from_greenwich=(e||parseFloat(t))*i.a},nadgrids:function(t){"@null"===t?l.datumCode="none":l.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(l.axis=t)}};for(e in u)n=u[e],e in c?"function"==typeof(s=c[e])?s(n):l[s]=n:l[e]=n;return"string"==typeof l.datumCode&&"WGS84"!==l.datumCode&&(l.datumCode=l.datumCode.toLowerCase()),l}},function(t,e,n){"use strict";var i=n(141),r=n(142),o=.017453292519943295;function a(t){return t*o}e.a=function(t){var e=Object(i.a)(t),n=e.shift(),o=e.shift();e.unshift(["name",o]),e.unshift(["type",n]);var s={};return Object(r.a)(e,s),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",a],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["azimuth","Azimuth"],["alpha","azimuth",a],["srsCode","name"]].forEach(function(e){return function(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],3===e.length&&(t[n]=e[2](t[n])))}(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=a(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(s),s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=l,e.forward=u,e.inverse=c,n.d(e,"names",function(){return h});var i=n(15),r=n(5),o=n(26),a=n(27),s=n(4);function l(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Object(i.a)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function u(t){var e,n,i=t.x,a=t.y;if(a*s.i>90&&a*s.i<-90&&i*s.i>180&&i*s.i<-180)return null;if(Math.abs(Math.abs(a)-s.d)<=s.b)return null;if(this.sphere)e=this.x0+this.a*this.k0*Object(r.a)(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(s.c+.5*a));else{var l=Math.sin(a),u=Object(o.a)(this.e,a,l);e=this.x0+this.a*this.k0*Object(r.a)(i-this.long0),n=this.y0-this.a*this.k0*Math.log(u)}return t.x=e,t.y=n,t}function c(t){var e,n,i=t.x-this.x0,o=t.y-this.y0;if(this.sphere)n=s.d-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var l=Math.exp(-o/(this.a*this.k0));if(-9999===(n=Object(a.a)(this.e,l)))return null}return e=Object(r.a)(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t}var h=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];e.default={init:l,forward:u,inverse:c,names:h}},function(t,e,n){"use strict";function i(){}function r(t){return t}Object.defineProperty(e,"__esModule",{value:!0}),e.init=i,n.d(e,"forward",function(){return r}),n.d(e,"inverse",function(){return r}),n.d(e,"names",function(){return o});var o=["longlat","identity"];e.default={init:i,forward:r,inverse:r,names:o}},function(t,e,n){"use strict";e.a=function t(e,n,u){var c;Array.isArray(u)&&(u=Object(s.a)(u));Object(l.a)(u);e.datum&&n.datum&&function(t,e){return(t.datum.datum_type===i.e||t.datum.datum_type===i.f)&&"WGS84"!==e.datumCode||(e.datum.datum_type===i.e||e.datum.datum_type===i.f)&&"WGS84"!==t.datumCode}(e,n)&&(c=new a.a("WGS84"),u=t(e,c,u),e=c);"enu"!==e.axis&&(u=Object(o.a)(e,!1,u));"longlat"===e.projName?u={x:u.x*i.a,y:u.y*i.a}:(e.to_meter&&(u={x:u.x*e.to_meter,y:u.y*e.to_meter}),u=e.inverse(u));e.from_greenwich&&(u.x+=e.from_greenwich);u=Object(r.a)(e.datum,n.datum,u);n.from_greenwich&&(u={x:u.x-n.from_greenwich,y:u.y});"longlat"===n.projName?u={x:u.x*i.i,y:u.y*i.i}:(u=n.forward(u),n.to_meter&&(u={x:u.x/n.to_meter,y:u.y/n.to_meter}));if("enu"!==n.axis)return Object(o.a)(n,!0,u);return u};var i=n(4),r=n(149),o=n(151),a=n(39),s=n(64),l=n(152)},function(t,e,n){"use strict";e.a=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},function(t,e,n){"use strict";e.b=h,e.c=p;var i=6,r="AJSAJS",o="AFAFAF",a=65,s=73,l=79,u=86,c=90;function h(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,n){var i=g(n),h=Math.floor(t/1e5),p=Math.floor(e/1e5)%20;return function(t,e,n){var i=n-1,h=r.charCodeAt(i),p=o.charCodeAt(i),d=h+t-1,f=p+e,v=!1;d>c&&(d=d-c+a-1,v=!0);(d===s||h<s&&d>s||(d>s||h<s)&&v)&&d++;(d===l||h<l&&d>l||(d>l||h<l)&&v)&&++d===s&&d++;d>c&&(d=d-c+a-1);f>u?(f=f-u+a-1,v=!0):v=!1;(f===s||p<s&&f>s||(f>s||p<s)&&v)&&f++;(f===l||p<l&&f>l||(f>l||p<l)&&v)&&++f===s&&f++;f>u&&(f=f-u+a-1);return String.fromCharCode(d)+String.fromCharCode(f)}(h,p,i)}(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}(function(t){var e,n,i,r,o,a,s,l=t.lat,u=t.lon,c=6378137,h=d(l),p=d(u);s=Math.floor((u+180)/6)+1,180===u&&(s=60);l>=56&&l<64&&u>=3&&u<12&&(s=32);l>=72&&l<84&&(u>=0&&u<9?s=31:u>=9&&u<21?s=33:u>=21&&u<33?s=35:u>=33&&u<42&&(s=37));a=d(6*(s-1)-180+3),.006739496752268451,e=c/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),n=Math.tan(h)*Math.tan(h),i=.006739496752268451*Math.cos(h)*Math.cos(h),r=Math.cos(h)*(p-a),o=c*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-3.418046101696858e-9*Math.sin(6*h));var f=.9996*e*(r+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,v=.9996*(o+e*Math.tan(h)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));l<0&&(v+=1e7);return{northing:Math.round(v),easting:Math.round(f),zoneNumber:s,zoneLetter:function(t){var e="Z";84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C");return e}(l)}}({lat:t[1],lon:t[0]}),e)}function p(t){var e=v(m(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function d(t){return t*(Math.PI/180)}function f(t){return t/Math.PI*180}function v(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,a,s,l,u,c,h,p,d=6378137,g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=n-5e5,y=e;i<"N"&&(y-=1e7),c=6*(r-1)-180+3,p=(h=y/.9996/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*h)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*h)+151*g*g*g/96*Math.sin(6*h),o=d/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),a=Math.tan(p)*Math.tan(p),s=.006739496752268451*Math.cos(p)*Math.cos(p),l=.99330562*d/Math.pow(1-.00669438*Math.sin(p)*Math.sin(p),1.5),u=m/(.9996*o);var x=p-o*Math.tan(p)/l*(u*u/2-(5+3*a+10*s-4*s*s-.06065547077041606)*u*u*u*u/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*u*u*u*u*u*u/720);x=f(x);var _,A=(u-(1+2*a+s)*u*u*u/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*u*u*u*u*u/120)/Math.cos(p);if(A=c+f(A),t.accuracy){var b=v({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:b.lat,right:b.lon,bottom:x,left:A}}else _={lat:x,lon:A};return _}function g(t){var e=t%i;return 0===e&&(e=i),e}function m(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,h="",p=0;!/[A-Z]/.test(e=t.charAt(p));){if(p>=2)throw"MGRSPoint bad conversion from: "+t;h+=e,p++}var d=parseInt(h,10);if(0===p||p+3>n)throw"MGRSPoint bad conversion from: "+t;var f=t.charAt(p++);if(f<="A"||"B"===f||"Y"===f||f>="Z"||"I"===f||"O"===f)throw"MGRSPoint zone letter "+f+" not handled: "+t;i=t.substring(p,p+=2);for(var v=g(d),m=function(t,e){var n=r.charCodeAt(e-1),i=1e5,o=!1;for(;n!==t.charCodeAt(0);){if(++n===s&&n++,n===l&&n++,n>c){if(o)throw"Bad character: "+t;n=a,o=!0}i+=1e5}return i}(i.charAt(0),v),x=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=o.charCodeAt(e-1),i=0,r=!1;for(;n!==t.charCodeAt(0);){if(++n===s&&n++,n===l&&n++,n>u){if(r)throw"Bad character: "+t;n=a,r=!0}i+=1e5}return i}(i.charAt(1),v);x<y(f);)x+=2e6;var _=n-p;if(_%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var A,b,w,O=_/2,S=0,M=0;return O>0&&(A=1e5/Math.pow(10,O),b=t.substring(p,p+O),S=parseFloat(b)*A,w=t.substring(p+O),M=parseFloat(w)*A),{easting:S+m,northing:M+x,zoneLetter:f,zoneNumber:d,accuracy:A}}function y(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}e.a={forward:h,inverse:function(t){var e=v(m(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=u,e.forward=c,e.inverse=h,n.d(e,"names",function(){return p});var i=n(67),r=n(41),o=n(68),a=n(5),s=n(4),l=n(20);function u(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Object(i.a)(this.es),this.ml0=Object(r.a)(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function c(t){var e,n,i,o=t.x,l=t.y,u=Object(a.a)(o-this.long0),c=Math.sin(l),h=Math.cos(l);if(this.es){var p=h*u,d=Math.pow(p,2),f=this.ep2*Math.pow(h,2),v=Math.pow(f,2),g=Math.abs(h)>s.b?Math.tan(l):0,m=Math.pow(g,2),y=Math.pow(m,2);e=1-this.es*Math.pow(c,2),p/=Math.sqrt(e);var x=Object(r.a)(l,c,h,this.en);n=this.a*(this.k0*p*(1+d/6*(1-m+f+d/20*(5-18*m+y+14*f-58*m*f+d/42*(61+179*y-y*m-479*m)))))+this.x0,i=this.a*(this.k0*(x-this.ml0+c*u*p/2*(1+d/12*(5-m+9*f+4*v+d/30*(61+y-58*m+270*f-330*m*f+d/56*(1385+543*y-y*m-3111*m))))))+this.y0}else{var _=h*Math.sin(u);if(Math.abs(Math.abs(_)-1)<s.b)return 93;if(n=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,i=h*Math.cos(u)/Math.sqrt(1-Math.pow(_,2)),(_=Math.abs(i))>=1){if(_-1>s.b)return 93;i=0}else i=Math.acos(i);l<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t}function h(t){var e,n,i,r,u=(t.x-this.x0)*(1/this.a),c=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+c/this.k0,n=Object(o.a)(e,this.es,this.en),Math.abs(n)<s.d){var h=Math.sin(n),p=Math.cos(n),d=Math.abs(p)>s.b?Math.tan(n):0,f=this.ep2*Math.pow(p,2),v=Math.pow(f,2),g=Math.pow(d,2),m=Math.pow(g,2);e=1-this.es*Math.pow(h,2);var y=u*Math.sqrt(e)/this.k0,x=Math.pow(y,2);i=n-(e*=d)*x/(1-this.es)*.5*(1-x/12*(5+3*g-9*f*g+f-4*v-x/30*(61+90*g-252*f*g+45*m+46*f-x/56*(1385+3633*g+4095*m+1574*m*g)))),r=Object(a.a)(this.long0+y*(1-x/6*(1+2*g+f-x/20*(5+28*g+24*m+8*f*g+6*f-x/42*(61+662*g+1320*m+720*m*g))))/p)}else i=s.d*Object(l.a)(c),r=0;else{var _=Math.exp(u/this.k0),A=.5*(_-1/_),b=this.lat0+c/this.k0,w=Math.cos(b);e=Math.sqrt((1-Math.pow(w,2))/(1+Math.pow(A,2))),i=Math.asin(e),c<0&&(i=-i),r=0===A&&0===w?0:Object(a.a)(Math.atan2(A,w)+this.long0)}return t.x=r,t.y=i,t}var p=["Transverse_Mercator","Transverse Mercator","tmerc"];e.default={init:u,forward:c,inverse:h,names:p}},function(t,e,n){"use strict";var i=.01068115234375;e.a=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*i))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*i)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e}},function(t,e,n){"use strict";var i=n(41),r=n(4);e.a=function(t,e,n){for(var o=1/(1-e),a=t,s=20;s;--s){var l=Math.sin(a),u=1-e*l*l;if(a-=u=(Object(i.a)(a,l,Math.cos(a),n)-t)*(u*Math.sqrt(u))*o,Math.abs(u)<r.b)return a}return a}},function(t,e,n){"use strict";e.a=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}},function(t,e,n){"use strict";e.a=function(t){var e=Math.exp(t);return e=(e+1/e)/2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"dependsOn",function(){return a}),e.init=s,n.d(e,"names",function(){return l});var i=n(162),r=n(42),o=n(4),a="etmerc";function s(){var t=Object(i.a)(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*o.a,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,r.default.init.apply(this),this.forward=r.default.forward,this.inverse=r.default.inverse}var l=["Universal Transverse Mercator System","utm"];e.default={init:s,names:l,dependsOn:a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=o,e.forward=a,e.inverse=s,n.d(e,"names",function(){return l});var i=n(73),r=n(5);function o(){i.default.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function a(t){var e,n,o,a;return t.x=Object(r.a)(t.x-this.long0),i.default.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),o=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*o),t.x=a*n*Math.sin(t.x),t.y=a*(this.cosc0*e-this.sinc0*n*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function s(t){var e,n,o,a,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var l=2*Math.atan2(s,this.R2);e=Math.sin(l),n=Math.cos(l),a=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),o=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else a=this.phic0,o=0;return t.x=o,t.y=a,i.default.inverse.apply(this,[t]),t.x=Object(r.a)(t.x+this.long0),t}var l=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"];e.default={init:o,forward:a,inverse:s,names:l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=a,e.forward=s,e.inverse=l,n.d(e,"names",function(){return u});var i=n(163),r=n(4),o=20;function a(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+r.c)/(Math.pow(Math.tan(.5*this.lat0+r.c),this.C)*Object(i.a)(this.e*t,this.ratexp))}function s(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+r.c),this.C)*Object(i.a)(this.e*Math.sin(n),this.ratexp))-r.d,t.x=this.C*e,t}function l(t){for(var e=t.x/this.C,n=t.y,a=Math.pow(Math.tan(.5*n+r.c)/this.K,1/this.C),s=o;s>0&&(n=2*Math.atan(a*Object(i.a)(this.e*Math.sin(t.y),-.5*this.e))-r.d,!(Math.abs(n-t.y)<1e-14));--s)t.y=n;return s?(t.x=e,t.y=n,t):null}var u=["gauss"];e.default={init:a,forward:s,inverse:l,names:u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ssfn_=u,e.init=c,e.forward=h,e.inverse=p,n.d(e,"names",function(){return d});var i=n(4),r=n(20),o=n(15),a=n(26),s=n(27),l=n(5);function u(t,e,n){return e*=n,Math.tan(.5*(i.d+t))*Math.pow((1-e)/(1+e),.5*n)}function c(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=i.b&&(this.k0=.5*(1+Object(r.a)(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=i.b&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=i.b&&(this.k0=.5*this.cons*Object(o.a)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Object(a.a)(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Object(o.a)(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-i.d,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function h(t){var e,n,r,o,s,u,c=t.x,h=t.y,p=Math.sin(h),d=Math.cos(h),f=Object(l.a)(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=i.b&&Math.abs(h+this.lat0)<=i.b?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*p+this.coslat0*d*Math.cos(f)),t.x=this.a*e*d*Math.sin(f)+this.x0,t.y=this.a*e*(this.coslat0*p-this.sinlat0*d*Math.cos(f))+this.y0,t):(n=2*Math.atan(this.ssfn_(h,p,this.e))-i.d,o=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=i.b?(s=Object(a.a)(this.e,h*this.con,this.con*p),u=2*this.a*this.k0*s/this.cons,t.x=this.x0+u*Math.sin(c-this.long0),t.y=this.y0-this.con*u*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<i.b?(e=2*this.a*this.k0/(1+o*Math.cos(f)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*o*Math.cos(f))),t.y=e*(this.cosX0*r-this.sinX0*o*Math.cos(f))+this.y0),t.x=e*o*Math.sin(f)+this.x0,t))}function p(t){var e,n,r,o,a;t.x-=this.x0,t.y-=this.y0;var u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(u/(.5*this.a*this.k0));return e=this.long0,n=this.lat0,u<=i.b?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/u),e=Math.abs(this.coslat0)<i.b?this.lat0>0?Object(l.a)(this.long0+Math.atan2(t.x,-1*t.y)):Object(l.a)(this.long0+Math.atan2(t.x,t.y)):Object(l.a)(this.long0+Math.atan2(t.x*Math.sin(c),u*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=i.b){if(u<=i.b)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=u*this.cons/(2*this.a*this.k0),n=this.con*Object(s.a)(this.e,r),e=this.con*Object(l.a)(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,u<=i.b?a=this.X0:(a=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/u),e=Object(l.a)(this.long0+Math.atan2(t.x*Math.sin(o),u*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),n=-1*Object(s.a)(this.e,Math.tan(.5*(i.d+a)));return t.x=e,t.y=n,t}var d=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];e.default={init:c,forward:h,inverse:p,names:d,ssfn_:u}},function(t,e,n){"use strict";function i(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*l}function r(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t}function o(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,l=0,u=o,c=-1e3,h=0;Math.abs(u-c)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=u,t}Object.defineProperty(e,"__esModule",{value:!0}),e.init=i,e.forward=r,e.inverse=o,n.d(e,"names",function(){return a});var a=["somerc"];e.default={init:i,forward:r,inverse:o,names:a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=s,e.forward=l,e.inverse=u,n.d(e,"names",function(){return c});var i=n(26),r=n(5),o=n(27),a=n(4);function s(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var o,a,s=Object(i.a)(this.e,this.lat0,t),l=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(l*l<1&&(l=1),isNaN(this.longc)){var u=Object(i.a)(this.e,this.lat1,Math.sin(this.lat1)),c=Object(i.a)(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(l+Math.sqrt(l*l-1))*Math.pow(s,this.bl):this.el=(l-Math.sqrt(l*l-1))*Math.pow(s,this.bl);var h=Math.pow(u,this.bl),p=Math.pow(c,this.bl);a=.5*((o=this.el/h)-1/o);var d=(this.el*this.el-p*h)/(this.el*this.el+p*h),f=(p-h)/(p+h),v=Object(r.a)(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*v)/f)/this.bl,this.long0=Object(r.a)(this.long0);var g=Object(r.a)(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/a),this.alpha=Math.asin(l*Math.sin(this.gamma0))}else o=this.lat0>=0?l+Math.sqrt(l*l-1):l-Math.sqrt(l*l-1),this.el=o*Math.pow(s,this.bl),a=.5*(o-1/o),this.gamma0=Math.asin(Math.sin(this.alpha)/l),this.long0=this.longc-Math.asin(a*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(l*l-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(l*l-1),Math.cos(this.alpha))}function l(t){var e,n,o,s=t.x,l=t.y,u=Object(r.a)(s-this.long0);if(Math.abs(Math.abs(l)-a.d)<=a.b)o=l>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(a.c+o*this.gamma0*.5)),e=-1*o*a.d*this.al/this.bl;else{var c=Object(i.a)(this.e,l,Math.sin(l)),h=this.el/Math.pow(c,this.bl),p=.5*(h-1/h),d=.5*(h+1/h),f=Math.sin(this.bl*u),v=(p*Math.sin(this.gamma0)-f*Math.cos(this.gamma0))/d;n=Math.abs(Math.abs(v)-1)<=a.b?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-v)/(1+v))/this.bl,e=Math.abs(Math.cos(this.bl*u))<=a.b?this.al*this.bl*u:this.al*Math.atan2(p*Math.cos(this.gamma0)+f*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t}function u(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),s=.5*(i-1/i),l=.5*(i+1/i),u=Math.sin(this.bl*e/this.al),c=(u*Math.cos(this.gamma0)+s*Math.sin(this.gamma0))/l,h=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);return Math.abs(c-1)<a.b?(t.x=this.long0,t.y=a.d):Math.abs(c+1)<a.b?(t.x=this.long0,t.y=-1*a.d):(t.y=Object(o.a)(this.e,h),t.x=Object(r.a)(this.long0-Math.atan2(s*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t}var c=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"];e.default={init:s,forward:l,inverse:u,names:c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=u,e.forward=c,e.inverse=h,n.d(e,"names",function(){return p});var i=n(15),r=n(26),o=n(20),a=n(5),s=n(27),l=n(4);function u(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<l.b)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),o=Object(i.a)(this.e,e,n),a=Object(r.a)(this.e,this.lat1,e),s=Math.sin(this.lat2),u=Math.cos(this.lat2),c=Object(i.a)(this.e,s,u),h=Object(r.a)(this.e,this.lat2,s),p=Object(r.a)(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>l.b?this.ns=Math.log(o/c)/Math.log(a/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(p,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function c(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=l.b&&(n=Object(o.a)(n)*(l.d-2*l.b));var i,s,u=Math.abs(Math.abs(n)-l.d);if(u>l.b)i=Object(r.a)(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if((u=n*this.ns)<=0)return null;s=0}var c=this.ns*Object(a.a)(e-this.long0);return t.x=this.k0*(s*Math.sin(c))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(c))+this.y0,t}function h(t){var e,n,i,r,o,u=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(u*u+c*c),n=1):(e=-Math.sqrt(u*u+c*c),n=-1);var h=0;if(0!==e&&(h=Math.atan2(n*u,n*c)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=Object(s.a)(this.e,i)))return null}else r=-l.d;return o=Object(a.a)(h/this.ns+this.long0),t.x=o,t.y=r,t}var p=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"];e.default={init:u,forward:c,inverse:h,names:p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=r,e.forward=o,e.inverse=a,n.d(e,"names",function(){return s});var i=n(5);function r(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function o(t){var e,n,r,o,a,s,l,u=t.x,c=t.y,h=Object(i.a)(u-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-h*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),a=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(o)),s=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=l*Math.cos(s)/1,t.x=l*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function a(t){var e,n,i,r,o,a,s,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,s=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,u+=1}while(0===s&&u<15);return u>=15?null:t}var s=["Krovak","krovak"];e.default={init:r,forward:o,inverse:a,names:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=d,e.forward=f,e.inverse=v,n.d(e,"names",function(){return g});var i=n(28),r=n(29),o=n(30),a=n(31),s=n(32),l=n(44),u=n(5),c=n(21),h=n(45),p=n(4);function d(){this.sphere||(this.e0=Object(r.a)(this.es),this.e1=Object(o.a)(this.es),this.e2=Object(a.a)(this.es),this.e3=Object(s.a)(this.es),this.ml0=this.a*Object(i.a)(this.e0,this.e1,this.e2,this.e3,this.lat0))}function f(t){var e,n,r=t.x,o=t.y;if(r=Object(u.a)(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(o),Math.cos(r))-this.lat0);else{var a=Math.sin(o),s=Math.cos(o),c=Object(l.a)(this.a,this.e,a),h=Math.tan(o)*Math.tan(o),p=r*Math.cos(o),d=p*p,f=this.es*s*s/(1-this.es);e=c*p*(1-d*h*(1/6-(8-h+8*f)*d/120)),n=this.a*Object(i.a)(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+c*a/s*d*(.5+(5-h+6*f)*d/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function v(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var a=this.ml0/this.a+r,s=Object(h.a)(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-p.d)<=p.b)return t.x=this.long0,t.y=p.d,r<0&&(t.y*=-1),t;var d=Object(l.a)(this.a,this.e,Math.sin(s)),f=d*d*d/this.a/this.a*(1-this.es),v=Math.pow(Math.tan(s),2),g=i*this.a/d,m=g*g;e=s-d*Math.tan(s)/f*g*g*(.5-(1+3*v)*g*g/24),n=g*(1-m*(v/3+(1+3*v)*v*m/15))/Math.cos(s)}return t.x=Object(u.a)(n+this.long0),t.y=Object(c.a)(e),t}var g=["Cassini","Cassini_Soldner","cass"];e.default={init:d,forward:f,inverse:v,names:g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"S_POLE",function(){return a}),n.d(e,"N_POLE",function(){return s}),n.d(e,"EQUIT",function(){return l}),n.d(e,"OBLIQ",function(){return u}),e.init=c,e.forward=h,e.inverse=p,n.d(e,"names",function(){return x});var i=n(4),r=n(46),o=n(5),a=1,s=2,l=3,u=4;function c(){var t,e=Math.abs(this.lat0);if(Math.abs(e-i.d)<i.b?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<i.b?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Object(r.a)(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*d,e=t*t,n[0]+=e*f,n[1]=e*g,e*=t,n[0]+=e*v,n[1]+=e*m,n[2]=e*y,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Object(r.a)(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function h(t){var e,n,a,s,l,u,c,h,p,d,f=t.x,v=t.y;if(f=Object(o.a)(f-this.long0),this.sphere){if(l=Math.sin(v),d=Math.cos(v),a=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+d*a:1+this.sinph0*l+this.cosph0*d*a)<=i.b)return null;e=(n=Math.sqrt(2/n))*d*Math.sin(f),n*=this.mode===this.EQUIT?l:this.cosph0*l-this.sinph0*d*a}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(a=-a),Math.abs(v+this.phi0)<i.b)return null;n=i.c-.5*v,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(f),n*=a}}else{switch(c=0,h=0,p=0,a=Math.cos(f),s=Math.sin(f),l=Math.sin(v),u=Object(r.a)(this.e,l),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=u/this.qp,h=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:p=1+this.sinb1*c+this.cosb1*h*a;break;case this.EQUIT:p=1+h*a;break;case this.N_POLE:p=i.d+v,u=this.qp-u;break;case this.S_POLE:p=v-i.d,u=this.qp+u}if(Math.abs(p)<i.b)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),n=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*c-this.sinb1*h*a):(p=Math.sqrt(2/(1+h*a)))*c*this.ymf,e=this.xmf*p*h*s;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(p=Math.sqrt(u))*s,n=a*(this.mode===this.S_POLE?p:-p)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function p(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,a,s,l,u,c=t.x/this.a,h=t.y/this.a;if(this.sphere){var p,d=0,f=0;if((n=.5*(p=Math.sqrt(c*c+h*h)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(p)<=i.b?0:Math.asin(h*f/p),c*=f,h=d*p;break;case this.OBLIQ:n=Math.abs(p)<=i.b?this.phi0:Math.asin(d*this.sinph0+h*f*this.cosph0/p),c*=f*this.cosph0,h=(d-Math.sin(n)*this.sinph0)*p;break;case this.N_POLE:h=-h,n=i.d-n;break;case this.S_POLE:n-=i.d}e=0!==h||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,h):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,h*=this.dd,(l=Math.sqrt(c*c+h*h))<i.b)return t.x=0,t.y=this.phi0,t;a=2*Math.asin(.5*l/this.rq),r=Math.cos(a),c*=a=Math.sin(a),this.mode===this.OBLIQ?(u=r*this.sinb1+h*a*this.cosb1/l,s=this.qp*u,h=l*this.cosb1*r-h*this.sinb1*a):(u=h*a/l,s=this.qp*u,h=l*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),!(s=c*c+h*h))return t.x=0,t.y=this.phi0,t;u=1-s/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(c,h),n=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}(Math.asin(u),this.apa)}return t.x=Object(o.a)(this.long0+e),t.y=n,t}var d=.3333333333333333,f=.17222222222222222,v=.10257936507936508,g=.06388888888888888,m=.0664021164021164,y=.016415012942191543;var x=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];e.default={init:c,forward:h,inverse:p,names:x,S_POLE:a,N_POLE:s,EQUIT:l,OBLIQ:u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=l,e.forward=u,e.inverse=c,e.phi1z=h,n.d(e,"names",function(){return p});var i=n(15),r=n(46),o=n(5),a=n(16),s=n(4);function l(){Math.abs(this.lat1+this.lat2)<s.b||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Object(i.a)(this.e3,this.sin_po,this.cos_po),this.qs1=Object(r.a)(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Object(i.a)(this.e3,this.sin_po,this.cos_po),this.qs2=Object(r.a)(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Object(r.a)(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>s.b?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function u(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Object(r.a)(this.e3,this.sin_phi,this.cos_phi),a=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*Object(o.a)(e-this.long0),l=a*Math.sin(s)+this.x0,u=this.rh-a*Math.cos(s)+this.y0;return t.x=l,t.y=u,t}function c(t){var e,n,i,r,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,n)),a=Object(o.a)(r/this.ns0+this.long0),t.x=a,t.y=s,t}function h(t,e){var n,i,r,o,l,u=Object(a.a)(.5*e);if(t<s.b)return u;for(var c=t*t,h=1;h<=25;h++)if(n=Math.sin(u),i=Math.cos(u),u+=l=.5*(o=1-(r=t*n)*r)*o/i*(e/(1-c)-n/o+.5/t*Math.log((1-r)/(1+r))),Math.abs(l)<=1e-7)return u;return null}var p=["Albers_Conic_Equal_Area","Albers","aea"];e.default={init:l,forward:u,inverse:c,names:p,phi1z:h}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=a,e.forward=s,e.inverse=l,n.d(e,"names",function(){return u});var i=n(5),r=n(16),o=n(4);function a(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function s(t){var e,n,r,a,s,l,u,c=t.x,h=t.y;return r=Object(i.a)(c-this.long0),e=Math.sin(h),n=Math.cos(h),a=Math.cos(r),1,(s=this.sin_p14*e+this.cos_p14*n*a)>0||Math.abs(s)<=o.b?(l=this.x0+1*this.a*n*Math.sin(r)/s,u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*a)/s):(l=this.x0+this.infinity_dist*n*Math.sin(r),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*a)),t.x=l,t.y=u,t}function l(t){var e,n,o,a,s,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(e,this.rc),n=Math.sin(a),o=Math.cos(a),l=Object(r.a)(o*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*o-t.y*this.sin_p14*n),s=Object(i.a)(this.long0+s)):(l=this.phic0,s=0),t.x=s,t.y=l,t}var u=["gnom"];e.default={init:a,forward:s,inverse:l,names:u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=s,e.forward=l,e.inverse=u,n.d(e,"names",function(){return c});var i=n(5),r=n(46),o=n(15),a=n(164);function s(){this.sphere||(this.k0=Object(o.a)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function l(t){var e,n,o=t.x,a=t.y,s=Object(i.a)(o-this.long0);if(this.sphere)e=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var l=Object(r.a)(this.e,Math.sin(a));e=this.x0+this.a*this.k0*s,n=this.y0+this.a*l*.5/this.k0}return t.x=e,t.y=n,t}function u(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=Object(i.a)(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=Object(a.a)(this.e,2*t.y*this.k0/this.a),e=Object(i.a)(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var c=["cea"];e.default={init:s,forward:l,inverse:u,names:c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=o,e.forward=a,e.inverse=s,n.d(e,"names",function(){return l});var i=n(5),r=n(21);function o(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function a(t){var e=t.x,n=t.y,o=Object(i.a)(e-this.long0),a=Object(r.a)(n-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*a,t}function s(t){var e=t.x,n=t.y;return t.x=Object(i.a)(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Object(r.a)(this.lat0+(n-this.y0)/this.a),t}var l=["Equirectangular","Equidistant_Cylindrical","eqc"];e.default={init:o,forward:a,inverse:s,names:l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=d,e.forward=f,e.inverse=v,n.d(e,"names",function(){return g});var i=n(29),r=n(30),o=n(31),a=n(32),s=n(5),l=n(21),u=n(28),c=n(4),h=n(44),p=20;function d(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Object(i.a)(this.es),this.e1=Object(r.a)(this.es),this.e2=Object(o.a)(this.es),this.e3=Object(a.a)(this.es),this.ml0=this.a*Object(u.a)(this.e0,this.e1,this.e2,this.e3,this.lat0)}function f(t){var e,n,i,r=t.x,o=t.y,a=Object(s.a)(r-this.long0);if(i=a*Math.sin(o),this.sphere)Math.abs(o)<=c.b?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(Object(l.a)(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=c.b)e=this.a*a,n=-1*this.ml0;else{var p=Object(h.a)(this.a,this.e,Math.sin(o))/Math.tan(o);e=p*Math.sin(i),n=this.a*Object(u.a)(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+p*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t}function v(t){var e,n,i,r,o,a,l,h,d;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=c.b)e=Object(s.a)(i/this.a+this.long0),n=0;else{var f;for(a=this.lat0+r/this.a,l=i*i/this.a/this.a+a*a,h=a,o=p;o;--o)if(h+=d=-1*(a*(h*(f=Math.tan(h))+1)-h-.5*(h*h+l)*f)/((h-a)/f-1),Math.abs(d)<=c.b){n=h;break}e=Object(s.a)(this.long0+Math.asin(i*Math.tan(h)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=c.b)n=0,e=Object(s.a)(this.long0+i/this.a);else{var v,g,m,y,x;for(a=(this.ml0+r)/this.a,l=i*i/this.a/this.a+a*a,h=a,o=p;o;--o)if(x=this.e*Math.sin(h),v=Math.sqrt(1-x*x)*Math.tan(h),g=this.a*Object(u.a)(this.e0,this.e1,this.e2,this.e3,h),m=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),h-=d=(a*(v*(y=g/this.a)+1)-y-.5*v*(y*y+l))/(this.es*Math.sin(2*h)*(y*y+l-2*a*y)/(4*v)+(a-y)*(v*m-2/Math.sin(2*h))-m),Math.abs(d)<=c.b){n=h;break}v=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=Object(s.a)(this.long0+Math.asin(i*v/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var g=["Polyconic","poly"];e.default={init:d,forward:f,inverse:v,names:g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"iterations",function(){return r}),e.init=o,e.forward=a,e.inverse=s,n.d(e,"names",function(){return l});var i=n(4),r=1;function o(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function a(t){var e,n=t.x,r=t.y-this.lat0,o=n-this.long0,a=r/i.l*1e-5,s=o,l=1,u=0;for(e=1;e<=10;e++)l*=a,u+=this.A[e]*l;var c,h=u,p=s,d=1,f=0,v=0,g=0;for(e=1;e<=6;e++)c=f*h+d*p,d=d*h-f*p,f=c,v=v+this.B_re[e]*d-this.B_im[e]*f,g=g+this.B_im[e]*d+this.B_re[e]*f;return t.x=g*this.a+this.x0,t.y=v*this.a+this.y0,t}function s(t){var e,n,r=t.x,o=t.y,a=r-this.x0,s=(o-this.y0)/this.a,l=a/this.a,u=1,c=0,h=0,p=0;for(e=1;e<=6;e++)n=c*s+u*l,u=u*s-c*l,c=n,h=h+this.C_re[e]*u-this.C_im[e]*c,p=p+this.C_im[e]*u+this.C_re[e]*c;for(var d=0;d<this.iterations;d++){var f,v=h,g=p,m=s,y=l;for(e=2;e<=6;e++)f=g*h+v*p,v=v*h-g*p,g=f,m+=(e-1)*(this.B_re[e]*v-this.B_im[e]*g),y+=(e-1)*(this.B_im[e]*v+this.B_re[e]*g);v=1,g=0;var x=this.B_re[1],_=this.B_im[1];for(e=2;e<=6;e++)f=g*h+v*p,v=v*h-g*p,g=f,x+=e*(this.B_re[e]*v-this.B_im[e]*g),_+=e*(this.B_im[e]*v+this.B_re[e]*g);var A=x*x+_*_;h=(m*x+y*_)/A,p=(y*x-m*_)/A}var b=h,w=p,O=1,S=0;for(e=1;e<=9;e++)O*=b,S+=this.D[e]*O;var M=this.lat0+S*i.l*1e5,T=this.long0+w;return t.x=T,t.y=M,t}var l=["New_Zealand_Map_Grid","nzmg"];e.default={init:o,forward:a,inverse:s,names:l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=r,e.forward=o,e.inverse=a,n.d(e,"names",function(){return s});var i=n(5);function r(){}function o(t){var e=t.x,n=t.y,r=Object(i.a)(e-this.long0),o=this.x0+this.a*r,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=o,t.y=a,t}function a(t){t.x-=this.x0,t.y-=this.y0;var e=Object(i.a)(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var s=["Miller_Cylindrical","mill"];e.default={init:r,forward:o,inverse:a,names:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=h,e.forward=p,e.inverse=d,n.d(e,"names",function(){return f});var i=n(5),r=n(21),o=n(67),a=n(41),s=n(68),l=n(4),u=n(16),c=20;function h(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Object(o.a)(this.es)}function p(t){var e,n,r=t.x,o=t.y;if(r=Object(i.a)(r-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(o),u=c;u;--u){var h=(this.m*o+Math.sin(o)-s)/(this.m+Math.cos(o));if(o-=h,Math.abs(h)<l.b)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*r*(this.m+Math.cos(o)),n=this.a*this.C_y*o}else{var p=Math.sin(o),d=Math.cos(o);n=this.a*Object(a.a)(o,p,d,this.en),e=this.a*r*d/Math.sqrt(1-this.es*p*p)}return t.x=e,t.y=n,t}function d(t){var e,n,o,a;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=Object(u.a)((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Object(u.a)(Math.sin(e)/this.n)),o=Object(i.a)(o+this.long0),e=Object(r.a)(e)):(e=Object(s.a)(t.y/this.a,this.es,this.en),(a=Math.abs(e))<l.d?(a=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(e)),o=Object(i.a)(n)):a-l.b<l.d&&(o=this.long0)),t.x=o,t.y=e,t}var f=["Sinusoidal","sinu"];e.default={init:h,forward:p,inverse:d,names:f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=o,e.forward=a,e.inverse=s,n.d(e,"names",function(){return l});var i=n(5),r=n(4);function o(){}function a(t){for(var e=t.x,n=t.y,o=Object(i.a)(e-this.long0),a=n,s=Math.PI*Math.sin(n);;){var l=-(a+Math.sin(a)-s)/(1+Math.cos(a));if(a+=l,Math.abs(l)<r.b)break}a/=2,Math.PI/2-Math.abs(n)<r.b&&(o=0);var u=.900316316158*this.a*o*Math.cos(a)+this.x0,c=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=u,t.y=c,t}function s(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=Object(i.a)(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var o=Math.asin(n);return t.x=r,t.y=o,t}var l=["Mollweide","moll"];e.default={init:o,forward:a,inverse:s,names:l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=d,e.forward=f,e.inverse=v,n.d(e,"names",function(){return g});var i=n(29),r=n(30),o=n(31),a=n(32),s=n(15),l=n(28),u=n(5),c=n(21),h=n(45),p=n(4);function d(){Math.abs(this.lat1+this.lat2)<p.b||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Object(i.a)(this.es),this.e1=Object(r.a)(this.es),this.e2=Object(o.a)(this.es),this.e3=Object(a.a)(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Object(s.a)(this.e,this.sinphi,this.cosphi),this.ml1=Object(l.a)(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<p.b?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Object(s.a)(this.e,this.sinphi,this.cosphi),this.ml2=Object(l.a)(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Object(l.a)(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function f(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=Object(l.a)(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*Object(u.a)(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t}function v(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=Object(u.a)(this.long0+o/this.ns),i=Object(c.a)(this.g-n/this.a),t.x=r,t.y=i,t;var a=this.g-n/this.a;return i=Object(h.a)(a,this.e0,this.e1,this.e2,this.e3),r=Object(u.a)(this.long0+o/this.ns),t.x=r,t.y=i,t}var g=["Equidistant_Conic","eqdc"];e.default={init:d,forward:f,inverse:v,names:g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=a,e.forward=s,e.inverse=l,n.d(e,"names",function(){return u});var i=n(5),r=n(4),o=n(16);function a(){this.R=this.a}function s(t){var e,n,a=t.x,s=t.y,l=Object(i.a)(a-this.long0);Math.abs(s)<=r.b&&(e=this.x0+this.R*l,n=this.y0);var u=Object(o.a)(2*Math.abs(s/Math.PI));(Math.abs(l)<=r.b||Math.abs(Math.abs(s)-r.d)<=r.b)&&(e=this.x0,n=s>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var c=.5*Math.abs(Math.PI/l-l/Math.PI),h=c*c,p=Math.sin(u),d=Math.cos(u),f=d/(p+d-1),v=f*f,g=f*(2/p-1),m=g*g,y=Math.PI*this.R*(c*(f-m)+Math.sqrt(h*(f-m)*(f-m)-(m+h)*(v-m)))/(m+h);l<0&&(y=-y),e=this.x0+y;var x=h+f;return y=Math.PI*this.R*(g*x-c*Math.sqrt((m+h)*(h+1)-x*x))/(m+h),n=s>=0?this.y0+y:this.y0-y,t.x=e,t.y=n,t}function l(t){var e,n,o,a,s,l,u,c,h,p,d,f;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,s=(o=t.x/d)*o+(a=t.y/d)*a,d=3*(a*a/(c=-2*(l=-Math.abs(a)*(1+s))+1+2*a*a+s*s)+(2*(u=l-2*a*a+o*o)*u*u/c/c/c-9*l*u/c/c)/27)/(h=(l-u*u/3/c)/c)/(p=2*Math.sqrt(-h/3)),Math.abs(d)>1&&(d=d>=0?1:-1),f=Math.acos(d)/3,n=t.y>=0?(-p*Math.cos(f+Math.PI/3)-u/3/c)*Math.PI:-(-p*Math.cos(f+Math.PI/3)-u/3/c)*Math.PI,e=Math.abs(o)<r.b?this.long0:Object(i.a)(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(o*o-a*a)+s*s))/2/o),t.x=e,t.y=n,t}var u=["Van_der_Grinten_I","VanDerGrinten","vandg"];e.default={init:a,forward:s,inverse:l,names:u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=d,e.forward=f,e.inverse=v,n.d(e,"names",function(){return g});var i=n(5),r=n(4),o=n(28),a=n(29),s=n(30),l=n(31),u=n(32),c=n(44),h=n(16),p=n(45);function d(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function f(t){var e,n,h,p,d,f,v,g,m,y,x,_,A,b,w,O,S,M,T,D,C,F,E=t.x,P=t.y,L=Math.sin(t.y),R=Math.cos(t.y),k=Object(i.a)(E-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=r.b?(t.x=this.x0+this.a*(r.d-P)*Math.sin(k),t.y=this.y0-this.a*(r.d-P)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=r.b?(t.x=this.x0+this.a*(r.d+P)*Math.sin(k),t.y=this.y0+this.a*(r.d+P)*Math.cos(k),t):(M=this.sin_p12*L+this.cos_p12*R*Math.cos(k),S=(O=Math.acos(M))/Math.sin(O),t.x=this.x0+this.a*S*R*Math.sin(k),t.y=this.y0+this.a*S*(this.cos_p12*L-this.sin_p12*R*Math.cos(k)),t):(e=Object(a.a)(this.es),n=Object(s.a)(this.es),h=Object(l.a)(this.es),p=Object(u.a)(this.es),Math.abs(this.sin_p12-1)<=r.b?(d=this.a*Object(o.a)(e,n,h,p,r.d),f=this.a*Object(o.a)(e,n,h,p,P),t.x=this.x0+(d-f)*Math.sin(k),t.y=this.y0-(d-f)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=r.b?(d=this.a*Object(o.a)(e,n,h,p,r.d),f=this.a*Object(o.a)(e,n,h,p,P),t.x=this.x0+(d+f)*Math.sin(k),t.y=this.y0+(d+f)*Math.cos(k),t):(v=L/R,g=Object(c.a)(this.a,this.e,this.sin_p12),m=Object(c.a)(this.a,this.e,L),y=Math.atan((1-this.es)*v+this.es*g*this.sin_p12/(m*R)),T=0===(x=Math.atan2(Math.sin(k),this.cos_p12*Math.tan(y)-this.sin_p12*Math.cos(k)))?Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.abs(Math.abs(x)-Math.PI)<=r.b?-Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.asin(Math.sin(k)*Math.cos(y)/Math.sin(x)),_=this.e*this.sin_p12/Math.sqrt(1-this.es),O=g*T*(1-(D=T*T)*(w=(A=this.e*this.cos_p12*Math.cos(x)/Math.sqrt(1-this.es))*A)*(1-w)/6+(C=D*T)/8*(b=_*A)*(1-2*w)+(F=C*T)/120*(w*(4-7*w)-3*_*_*(1-7*w))-F*T/48*b),t.x=this.x0+O*Math.sin(x),t.y=this.y0+O*Math.cos(x),t))}function v(t){var e,n,d,f,v,g,m,y,x,_,A,b,w,O,S,M,T,D,C,F,E,P,L;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*r.d*this.a)return;return n=e/this.a,d=Math.sin(n),f=Math.cos(n),v=this.long0,Math.abs(e)<=r.b?g=this.lat0:(g=Object(h.a)(f*this.sin_p12+t.y*d*this.cos_p12/e),m=Math.abs(this.lat0)-r.d,v=Math.abs(m)<=r.b?this.lat0>=0?Object(i.a)(this.long0+Math.atan2(t.x,-t.y)):Object(i.a)(this.long0-Math.atan2(-t.x,t.y)):Object(i.a)(this.long0+Math.atan2(t.x*d,e*this.cos_p12*f-t.y*this.sin_p12*d))),t.x=v,t.y=g,t}return y=Object(a.a)(this.es),x=Object(s.a)(this.es),_=Object(l.a)(this.es),A=Object(u.a)(this.es),Math.abs(this.sin_p12-1)<=r.b?(w=(b=this.a*Object(o.a)(y,x,_,A,r.d))-(e=Math.sqrt(t.x*t.x+t.y*t.y)),g=Object(p.a)(w/this.a,y,x,_,A),v=Object(i.a)(this.long0+Math.atan2(t.x,-1*t.y)),t.x=v,t.y=g,t):Math.abs(this.sin_p12+1)<=r.b?(b=this.a*Object(o.a)(y,x,_,A,r.d),w=(e=Math.sqrt(t.x*t.x+t.y*t.y))-b,g=Object(p.a)(w/this.a,y,x,_,A),v=Object(i.a)(this.long0+Math.atan2(t.x,t.y)),t.x=v,t.y=g,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),M=Math.atan2(t.x,t.y),O=Object(c.a)(this.a,this.e,this.sin_p12),T=Math.cos(M),C=-(D=this.e*this.cos_p12*T)*D/(1-this.es),F=3*this.es*(1-C)*this.sin_p12*this.cos_p12*T/(1-this.es),L=1-C*(P=(E=e/O)-C*(1+C)*Math.pow(E,3)/6-F*(1+3*C)*Math.pow(E,4)/24)*P/2-E*P*P*P/6,S=Math.asin(this.sin_p12*Math.cos(P)+this.cos_p12*Math.sin(P)*T),v=Object(i.a)(this.long0+Math.asin(Math.sin(M)*Math.sin(P)/Math.cos(S))),g=Math.atan((1-this.es*L*this.sin_p12/Math.sin(S))*Math.tan(S)/(1-this.es)),t.x=v,t.y=g,t)}var g=["Azimuthal_Equidistant","aeqd"];e.default={init:d,forward:f,inverse:v,names:g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=a,e.forward=s,e.inverse=l,n.d(e,"names",function(){return u});var i=n(5),r=n(16),o=n(4);function a(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function s(t){var e,n,r,a,s,l,u,c=t.x,h=t.y;return r=Object(i.a)(c-this.long0),e=Math.sin(h),n=Math.cos(h),a=Math.cos(r),1,((s=this.sin_p14*e+this.cos_p14*n*a)>0||Math.abs(s)<=o.b)&&(l=1*this.a*n*Math.sin(r),u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*a)),t.x=l,t.y=u,t}function l(t){var e,n,a,s,l,u,c;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Object(r.a)(e/this.a),a=Math.sin(n),s=Math.cos(n),u=this.long0,Math.abs(e)<=o.b?(c=this.lat0,t.x=u,t.y=c,t):(c=Object(r.a)(s*this.sin_p14+t.y*a*this.cos_p14/e),l=Math.abs(this.lat0)-o.d,Math.abs(l)<=o.b?(u=this.lat0>=0?Object(i.a)(this.long0+Math.atan2(t.x,-t.y)):Object(i.a)(this.long0-Math.atan2(-t.x,t.y)),t.x=u,t.y=c,t):(u=Object(i.a)(this.long0+Math.atan2(t.x*a,e*this.cos_p14*s-t.y*this.sin_p14*a)),t.x=u,t.y=c,t))}var u=["ortho"];e.default={init:a,forward:s,inverse:l,names:u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=a,e.forward=s,e.inverse=l,n.d(e,"names",function(){return h});var i=n(4),r={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},o={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function a(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=i.d-i.c/2?this.face=r.TOP:this.lat0<=-(i.d-i.c/2)?this.face=r.BOTTOM:Math.abs(this.long0)<=i.c?this.face=r.FRONT:Math.abs(this.long0)<=i.d+i.c?this.face=this.long0>0?r.RIGHT:r.LEFT:this.face=r.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function s(t){var e,n,a,s,l,h,p={x:0,y:0},d={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===r.TOP)s=i.d-e,n>=i.c&&n<=i.d+i.c?(d.value=o.AREA_0,a=n-i.d):n>i.d+i.c||n<=-(i.d+i.c)?(d.value=o.AREA_1,a=n>0?n-i.n:n+i.n):n>-(i.d+i.c)&&n<=-i.c?(d.value=o.AREA_2,a=n+i.d):(d.value=o.AREA_3,a=n);else if(this.face===r.BOTTOM)s=i.d+e,n>=i.c&&n<=i.d+i.c?(d.value=o.AREA_0,a=-n+i.d):n<i.c&&n>=-i.c?(d.value=o.AREA_1,a=-n):n<-i.c&&n>=-(i.d+i.c)?(d.value=o.AREA_2,a=-n-i.d):(d.value=o.AREA_3,a=n>0?-n+i.n:-n-i.n);else{var f,v,g,m,y,x;this.face===r.RIGHT?n=c(n,+i.d):this.face===r.BACK?n=c(n,+i.n):this.face===r.LEFT&&(n=c(n,-i.d)),m=Math.sin(e),y=Math.cos(e),x=Math.sin(n),f=y*Math.cos(n),v=y*x,g=m,this.face===r.FRONT?a=u(s=Math.acos(f),g,v,d):this.face===r.RIGHT?a=u(s=Math.acos(v),g,-f,d):this.face===r.BACK?a=u(s=Math.acos(-f),g,-v,d):this.face===r.LEFT?a=u(s=Math.acos(-v),g,f,d):(s=a=0,d.value=o.AREA_0)}return h=Math.atan(12/i.n*(a+Math.acos(Math.sin(a)*Math.cos(i.c))-i.d)),l=Math.sqrt((1-Math.cos(s))/(Math.cos(h)*Math.cos(h))/(1-Math.cos(Math.atan(1/Math.cos(a))))),d.value===o.AREA_1?h+=i.d:d.value===o.AREA_2?h+=i.n:d.value===o.AREA_3&&(h+=1.5*i.n),p.x=l*Math.cos(h),p.y=l*Math.sin(h),p.x=p.x*this.a+this.x0,p.y=p.y*this.a+this.y0,t.x=p.x,t.y=p.y,t}function l(t){var e,n,a,s,l,u,h,p,d,f,v,g,m={lam:0,phi:0},y={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?y.value=o.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(y.value=o.AREA_1,e-=i.d):t.x<0&&-t.x>=Math.abs(t.y)?(y.value=o.AREA_2,e=e<0?e+i.n:e-i.n):(y.value=o.AREA_3,e+=i.d),d=i.n/12*Math.tan(e),l=Math.sin(d)/(Math.cos(d)-1/Math.sqrt(2)),u=Math.atan(l),(h=1-(a=Math.cos(e))*a*(s=Math.tan(n))*s*(1-Math.cos(Math.atan(1/Math.cos(u)))))<-1?h=-1:h>1&&(h=1),this.face===r.TOP)p=Math.acos(h),m.phi=i.d-p,y.value===o.AREA_0?m.lam=u+i.d:y.value===o.AREA_1?m.lam=u<0?u+i.n:u-i.n:y.value===o.AREA_2?m.lam=u-i.d:m.lam=u;else if(this.face===r.BOTTOM)p=Math.acos(h),m.phi=p-i.d,y.value===o.AREA_0?m.lam=-u+i.d:y.value===o.AREA_1?m.lam=-u:y.value===o.AREA_2?m.lam=-u-i.d:m.lam=u<0?-u-i.n:-u+i.n;else{var x,_,A;d=(x=h)*x,_=(d+=(A=d>=1?0:Math.sqrt(1-d)*Math.sin(u))*A)>=1?0:Math.sqrt(1-d),y.value===o.AREA_1?(d=_,_=-A,A=d):y.value===o.AREA_2?(_=-_,A=-A):y.value===o.AREA_3&&(d=_,_=A,A=-d),this.face===r.RIGHT?(d=x,x=-_,_=d):this.face===r.BACK?(x=-x,_=-_):this.face===r.LEFT&&(d=x,x=_,_=-d),m.phi=Math.acos(-A)-i.d,m.lam=Math.atan2(_,x),this.face===r.RIGHT?m.lam=c(m.lam,-i.d):this.face===r.BACK?m.lam=c(m.lam,-i.n):this.face===r.LEFT&&(m.lam=c(m.lam,+i.d))}0!==this.es&&(f=m.phi<0?1:0,v=Math.tan(m.phi),g=this.b/Math.sqrt(v*v+this.one_minus_f_squared),m.phi=Math.atan(Math.sqrt(this.a*this.a-g*g)/(this.one_minus_f*g)),f&&(m.phi=-m.phi));return m.lam+=this.long0,t.x=m.lam,t.y=m.phi,t}function u(t,e,n,r){var a;return t<i.b?(r.value=o.AREA_0,a=0):(a=Math.atan2(e,n),Math.abs(a)<=i.c?r.value=o.AREA_0:a>i.c&&a<=i.d+i.c?(r.value=o.AREA_1,a-=i.d):a>i.d+i.c||a<=-(i.d+i.c)?(r.value=o.AREA_2,a=a>=0?a-i.n:a+i.n):(r.value=o.AREA_3,a+=i.d)),a}function c(t,e){var n=t+e;return n<-i.n?n+=i.o:n>+i.n&&(n-=i.o),n}var h=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];e.default={init:a,forward:s,inverse:l,names:h}},function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e,n){t.exports={create:n(203),clone:n(204),fromValues:n(205),copy:n(206),set:n(207),add:n(208),subtract:n(209),multiply:n(210),divide:n(211),min:n(212),max:n(213),scale:n(97),scaleAndAdd:n(214),distance:n(215),squaredDistance:n(216),length:n(217),squaredLength:n(218),negate:n(219),inverse:n(220),normalize:n(98),dot:n(221),lerp:n(222),random:n(223),transformMat4:n(224),transformQuat:n(225)}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}},function(t,e){t.exports=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o;a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=i*a,t[2]=r*a,t[3]=o*a);return t}},function(t,e,n){t.exports={EPSILON:n(100),create:n(101),clone:n(226),angle:n(227),fromValues:n(102),copy:n(228),set:n(229),equals:n(230),exactEquals:n(231),add:n(232),subtract:n(105),sub:n(233),multiply:n(106),mul:n(234),divide:n(107),div:n(235),min:n(236),max:n(237),floor:n(238),ceil:n(239),round:n(240),scale:n(241),scaleAndAdd:n(242),distance:n(108),dist:n(243),squaredDistance:n(109),sqrDist:n(244),length:n(110),len:n(245),squaredLength:n(111),sqrLen:n(246),negate:n(247),inverse:n(248),normalize:n(103),dot:n(104),cross:n(249),lerp:n(250),random:n(251),transformMat4:n(252),transformMat3:n(253),transformQuat:n(254),rotateX:n(255),rotateY:n(256),rotateZ:n(257),forEach:n(258)}},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(t,e){t.exports=function(t,e,n){var i=new Float32Array(3);return i[0]=t,i[1]=e,i[2]=n,i}},function(t,e){t.exports=function(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o);return t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}},function(t,e,n){var i,r=n(0),o=n(1).registerRenderer,a=n(22),s=function(t){"use strict";if(!(this instanceof s))return new s(t);t=t||{},a.call(this,t);var e,i=n(2),r=n(9),o=n(47),l=n(3),u=n(6),c=this,h=null,p=null,d=0,f=0,v=!1,g=this._init,m=this._exit;return this.width=function(){return d},this.height=function(){return f},this.contextRenderer=function(){return h},this.api=function(){return"vgl"},this._init=function(){if(c.initialized())return c;g.call(c);var e=i(document.createElement("canvas"));if(e.addClass("webgl-canvas"),i(c.layer().node().get(0)).append(e),window.overrideContextAttributes){var n=e.get(0),o=n.getContext;n.getContext=function(t,e){if(e=e||{},window.overrideContextAttributes)for(var i in window.overrideContextAttributes)window.overrideContextAttributes.hasOwnProperty(i)&&(e[i]=window.overrideContextAttributes[i]);return o.call(n,t,e)}}(p=r.viewer(e.get(0),t.options)).init(),(h=p.renderWindow().activeRenderer()).setResetScene(!1),p.renderWindow().renderers().length>0&&h.setLayer(p.renderWindow().renderers().length),c.canvas(e);var a=c.layer().map().size();return c._resize(0,0,a.width,a.height),c},this._resize=function(t,e,n,i){var r=p.renderWindow();return t===r.windowPosition[0]&&e===r.windowPosition[1]&&n===d&&i===f||(d=n,f=i,c.canvas().attr("width",n),c.canvas().attr("height",i),r.positionAndResize(t,e,n,i),v=!0,c._render()),c},this._render=function(){return c.layer().map().scheduleAnimationFrame(this._renderFrame,!0),c},this._renderFrame=function(){p&&(v&&(v=!1,c._updateRendererCamera()),p.render())},this._glContext=function(){return p&&p.renderWindow()?p.renderWindow().context():r.GL},this._exit=function(){if(c.layer().map().scheduleAnimationFrame(this._renderFrame,"remove"),c.canvas().remove(),p){var t=new r.renderState;t.m_renderer=p,t.m_context=this._glContext(),p.exit(t),this._glContext()!==r.GL&&this._glContext().getExtension("WEBGL_lose_context")&&this._glContext().getExtension("WEBGL_lose_context").loseContext&&this._glContext().getExtension("WEBGL_lose_context").loseContext()}r.clearCachedShaders(r.GL),p=null,m()},this._updateRendererCamera=function(){var t=p.renderWindow(),n=c.layer().map(),i=n.camera(),r=n.rotation()||0,a=i.view,s=i.projectionMatrix;s[15]&&(s=o.scale(l.mat4AsArray(),s,[1,1,-1])),s=o.translate(l.mat4AsArray(),s,[0,0,i.constructor.bounds.far]);var u=Math.PI/2,h=r%u,d=Math.min(Math.abs(h),Math.abs(h-u))<1e-5;t.renderers().forEach(function(t){var r=t.camera();if(!l.compareArrays(a,r.viewMatrix())||!l.compareArrays(s,r.projectionMatrix())||e!==n.zoom()){e=n.zoom(),r.setViewMatrix(a,!0),r.setProjectionMatrix(s);var o=i.viewport;s[1]||s[2]||s[3]||s[4]||s[6]||s[7]||s[8]||s[9]||s[11]||1!==s[15]||!d||o.left&&o.left%1||o.top&&o.top%1||parseFloat(e.toFixed(6))!==parseFloat(e.toFixed(0))?r.viewAlignment=function(){return null}:r.viewAlignment=function(){var t={roundx:2/o.width,roundy:2/o.height};return t.dx=o.width%2?.5*t.roundx:0,t.dy=o.height%2?.5*t.roundy:0,t}}})},c.layer().geoOn(u.pan,function(t){v=!0}),c.layer().geoOn(u.parallelprojection,function(t){var e=c.contextRenderer(),n=c.layer();if(t.geo&&t.geo._triggeredBy!==n){if(!e||!e.camera())return void console.log("Parallel projection event triggered on unconnected VGL renderer.");e.camera().setEnableParallelProjection(t.parallelProjection),v=!0}}),this};r(s,a),o("vgl",s),s.supported=function(){if(void 0===i){var t;try{((t=document.createElement("canvas")).getContext("webgl")||t.getContext("experimental-webgl")).getSupportedExtensions(),i=!0}catch(t){console.warn("No webGL support"),i=!1}t=void 0,void 0,void 0}return i},s.fallback=function(){return null},t.exports=s},function(t,e,n){var i=n(2),r={};r.Util={stamp:function(t){return t._leaflet_id=t._leaflet_id||++r.Util.lastId,t._leaflet_id},lastId:0};var o=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}};o.prototype={addObject:function(t,e){var n=this._getCoord(e.x),i=this._getCoord(e.y),o=this._grid,a=o[i]=o[i]||{},s=a[n]=a[n]||[],l=r.Util.stamp(t);e.obj=t,this._objectPoint[l]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,i,o=this._getCoord(e.x),a=this._getCoord(e.y),s=this._grid,l=s[a]=s[a]||{},u=l[o]=l[o]||[];for(delete this._objectPoint[r.Util.stamp(t)],n=0,i=u.length;n<i;n++)if(u[n]===t)return u.splice(n,1),1===i&&delete l[o],!0},eachObject:function(t,e){var n,i,r,o,a,s,l=this._grid;for(n in l)for(i in a=l[n])for(r=0,o=(s=a[i]).length;r<o;r++)t.call(e,s[r])&&(r--,o--)},getNearObject:function(t){var e,n,i,o,a,s,l,u,c=this._getCoord(t.x),h=this._getCoord(t.y),p=this._objectPoint,d=this._sqCellSize,f=null;for(e=h-1;e<=h+1;e++)if(o=this._grid[e])for(n=c-1;n<=c+1;n++)if(a=o[n])for(i=0,s=a.length;i<s;i++)l=a[i],(u=this._sqDist(p[r.Util.stamp(l)],t))<d&&(d=u,f=l);return f},contents:function(){return i.map(this._objectPoint,function(t){return t})},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},t.exports=o},function(t,e,n){var i=n(2),r=n(9);function o(t,e,n){this._group=t,this._zoom=e,this._points=[],this._clusters=[],this._count=0,this._parent=null,this._coord=null;var i=this;(n||[]).forEach(function(t){i._add(t)})}function a(t,e,r){var a,s,l=n(113);for(this._opts=i.extend({maxZoom:18,radius:.05},t),this._opts.width=this._opts.width||e||256,this._opts.height=this._opts.height||r||256,this._clusters={},this._points={},a=this._opts.maxZoom;a>=0;a-=1)s=this._scaleAtLevel(a,this._opts.width,this._opts.height),this._clusters[a]=new l(s),this._points[a]=new l(s);this._topClusterLevel=new o(this,-1)}o.prototype._add=function(t){var e=1;t instanceof o?(this._clusters.push(t),e=t._count):this._points.push(t),t._parent=this,this._increment(e)},o.prototype._increment=function(t){this._coord=null,this._count+=t,this._parent&&this._parent._increment(t)},o.prototype.count=function(){return this._count},o.prototype.each=function(t){var e;for(e=0;e<this._points.length;e+=1)t.call(this,this._points[e],this._zoom);for(e=0;e<this._clusters.length;e+=1)this._clusters[e].each.call(this._clusters[e],t)},o.prototype.coords=function(){var t,e={x:0,y:0};if(this._coord)return this._coord;for(t=0;t<this._points.length;t+=1)e.x+=this._points[t].x,e.y+=this._points[t].y;for(t=0;t<this._clusters.length;t+=1)e.x+=this._clusters[t].coords().x*this._clusters[t].count(),e.y+=this._clusters[t].coords().y*this._clusters[t].count();return{x:e.x/this.count(),y:e.y/this.count()}},a.prototype._scaleAtLevel=function(t,e,n){return r.zoomToHeight(t,e,n)/2*this._opts.radius},a.prototype.addPoint=function(t){var e,n,r,a,s,l;for(e=this._opts.maxZoom;e>=0;e-=1){if(n=this._clusters[e].getNearObject(t))return void n._add(t);if(n=this._points[e].getNearObject(t)){if(r=n._parent)for(l=r._points.length-1;l>=0;l-=1)if(r._points[l]===n){r._points.splice(l,1),r._increment(-1);break}for(r||i.noop(),a=new o(this,e,[n,t]),this._clusters[e].addObject(a,a.coords()),s=a,l=e-1;l>r._zoom;l-=1)s=new o(this,l,[s]),this._clusters[l].addObject(s,s.coords());for(r._add(s),l=e;l>=0&&this._points[l].removeObject(n,n);l-=1);return}this._points[e].addObject(t,t)}this._topClusterLevel._add(t)},a.prototype.points=function(t){return t=Math.min(Math.max(Math.floor(t),0),this._opts.maxZoom-1),this._points[Math.floor(t)].contents()},a.prototype.clusters=function(t){return t=Math.min(Math.max(Math.floor(t),0),this._opts.maxZoom-1),this._clusters[Math.floor(t)].contents()},t.exports=a},function(t,e,n){var i;!function(r,o,a){if(r){for(var s,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},h={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)l[111+p]="f"+p;for(p=0;p<=9;++p)l[p+96]=p.toString();x.prototype.bind=function(t,e,n){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,n),this},x.prototype.unbind=function(t,e){return this.bind.call(this,t,function(){},e)},x.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},x.prototype.reset=function(){return this._callbacks={},this._directMap={},this},x.prototype.stopCallback=function(t,e){return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(!function t(e,n){return null!==e&&e!==o&&(e===n||t(e.parentNode,n))}(e,this.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable))},x.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},x.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(l[e]=t[e]);s=null},x.init=function(){var t=x(o);for(var e in t)"_"!==e.charAt(0)&&(x[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},x.init(),r.Mousetrap=x,void 0!==t&&t.exports&&(t.exports=x),void 0===(i=function(){return x}.call(e,n,e,t))||(t.exports=i)}function d(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function f(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return l[t.which]?l[t.which]:u[t.which]?u[t.which]:String.fromCharCode(t.which).toLowerCase()}function v(t,e){return t.sort().join(",")===e.sort().join(",")}function g(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function m(t,e,n){return n||(n=function(){if(!s)for(var t in s={},l)t>95&&t<112||l.hasOwnProperty(t)&&(s[l[t]]=t);return s}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function y(t,e){var n,i,r,o=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),r=0;r<n.length;++r)i=n[r],h[i]&&(i=h[i]),e&&"keypress"!=e&&c[i]&&(i=c[i],o.push("shift")),g(i)&&o.push(i);return{key:i,modifiers:o,action:e=m(i,o,e)}}function x(t){var e=this;if(t=t||o,!(e instanceof x))return new x(t);e.target=t,e._callbacks={},e._directMap={};var n,i={},r=!1,a=!1,s=!1;function l(t){t=t||{};var e,n=!1;for(e in i)t[e]?n=!0:i[e]=0;n||(s=!1)}function u(t,n,r,o,a,s){var l,u,c=[],h=r.type;if(!e._callbacks[t])return[];for("keyup"==h&&g(t)&&(n=[t]),l=0;l<e._callbacks[t].length;++l)if(u=e._callbacks[t][l],(o||!u.seq||i[u.seq]==u.level)&&h==u.action&&("keypress"==h&&!r.metaKey&&!r.ctrlKey||v(n,u.modifiers))){var p=!o&&u.combo==a,d=o&&u.seq==o&&u.level==s;(p||d)&&e._callbacks[t].splice(l,1),c.push(u)}return c}function c(t,n,i,r){e.stopCallback(n,n.target||n.srcElement,i,r)||!1===t(n,i)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function h(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=f(t);n&&("keyup"!=t.type||r!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):r=!1)}function p(t,e,o,a){function u(e){return function(){s=e,++i[t],clearTimeout(n),n=setTimeout(l,1e3)}}function h(e){c(o,e,t),"keyup"!==a&&(r=f(e)),setTimeout(l,10)}i[t]=0;for(var p=0;p<e.length;++p){var d=p+1===e.length?h:u(a||y(e[p+1]).action);m(e[p],d,a,t,p)}}function m(t,n,i,r,o){e._directMap[t+":"+i]=n;var a,s=(t=t.replace(/\s+/g," ")).split(" ");s.length>1?p(t,s,n,i):(a=y(t,i),e._callbacks[a.key]=e._callbacks[a.key]||[],u(a.key,a.modifiers,{type:a.action},r,t,o),e._callbacks[a.key][r?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:r,level:o,combo:t}))}e._handleKey=function(t,e,n){var i,r=u(t,e,n),o={},h=0,p=!1;for(i=0;i<r.length;++i)r[i].seq&&(h=Math.max(h,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=h)continue;p=!0,o[r[i].seq]=1,c(r[i].callback,n,r[i].combo,r[i].seq)}else p||c(r[i].callback,n,r[i].combo);var d="keypress"==n.type&&a;n.type!=s||g(t)||d||l(o),a=p&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var i=0;i<t.length;++i)m(t[i],e,n)},d(t,"keypress",h),d(t,"keydown",h),d(t,"keyup",h)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,n){var i=n(0),r=n(8),o=function(t){"use strict";if(!(this instanceof o))return new o(t);t=t||{},r.call(this,t);var e=n(2),i=n(3).ensureFunction,a=n(11).d3,s=this,l=this._init,u=e.extend({},{colorRange:[{r:.07514311,g:.468049805,b:1},{r:.468487184,g:.588057293,b:1},{r:.656658579,g:.707001303,b:1},{r:.821573924,g:.837809045,b:1},{r:.943467973,g:.943498599,b:.943398095},{r:1,g:.788626485,b:.750707739},{r:1,g:.6289553,b:.568237474},{r:1,g:.472800903,b:.404551679},{r:.916482116,g:.236630659,b:.209939162}],scale:a.scale.quantize(),accessors:{geoId:function(t){return t.properties.GEO_ID},scalarId:function(t){return t.id},scalarValue:function(t){return t.value}}},t.choropleth);return this.scalar=function(t,e){var n,i;return void 0===t?s.choropleth.get("scalar")()||[]:(n=s.choropleth.get("accessors")().scalarId,i=s.choropleth.get("accessors")().scalarValue,u.scalar=t,u.scalarAggregator=e||a.mean,u.scalar._dictionary=t.reduce(function(t,e){var r,o;return r=n(e),o=i(e),t[r]=t[r]?t[r].push(o):[o],t},{}),s.dataTime().modified(),s)},this.choropleth=function(t,n){var i;return void 0===t?u:"string"==typeof t&&void 0===n?u[t]:(void 0===n?(i=e.extend({},u,t),u=i):u[t]=n,s.modified(),s)},this.choropleth.get=function(t){var e,n={};if(void 0===t){for(e in u)u.hasOwnProperty(e)&&(n[e]=s.choropleth.get(e));return n}return i(u[t])},this._addPolygonFeature=function(t,e){var n=s.layer().createFeature("polygon",{});return"Polygon"===t.geometry.type?n.data([{type:"Polygon",coordinates:t.geometry.coordinates}]):"MultiPolygon"===t.geometry.type&&n.data(t.geometry.coordinates.map(function(t){return{type:"Polygon",coordinates:t}})),n.polygon(function(t){return{outer:t.coordinates[0],inner:t.coordinates[1]}}).position(function(t){return{x:t[0],y:t[1]}}).style({fillColor:e}),n},this._featureToPolygons=function(t,e){return s._addPolygonFeature(t,e)},this._generateScale=function(t){var e=a.extent(s.scalar(),t||void 0);return s.choropleth().scale.domain(e).range(s.choropleth().colorRange),s},this.createChoropleth=function(){var t=s.choropleth,e=s.data(),n=s.scalar(),i=t.get("accessors")().scalarValue,r=t.get("accessors")().geoId;return s._generateScale(i),e.map(function(e){var i=r(e),o=n._dictionary[i],a=t().scalarAggregator(o),l=s.choropleth().scale(a);return s._featureToPolygons(e,l)})},this._init=function(t){l.call(s,t),u&&s.dataTime().modified()},this._init(t),this};i(o,r),t.exports=o},function(t,e){t.exports="geo_d3_rescale"},function(t,e,n){var i=n(0),r=n(52),o=function(t){"use strict";if(!(this instanceof o))return new o(t);var e=n(2),i=n(3);t=t||{},r.call(this,t);var a=this,s=this._init;return this._createContours=function(){var t,n,r,o,s,l=a.contour,u=a.style.get("value"),c=void 0!==a.style("used")?a.style.get("used"):function(t,e){return i.isNonNullFinite(u(t,e))},h=this._createMesh({used:c,opacity:a.style.get("opacity"),value:u});if(!h.numVertices||!h.numElements)return h;var p=l.get("stepped")(h),d=l.get("opacityRange")(h),f=l.get("rangeValues")(h);if(h.stepped=!(void 0!==p&&!p),h.colorMap=[],h.minColor=e.extend({a:l.get("minOpacity")(h)||0},i.convertColor(l.get("minColor")(h))),h.maxColor=e.extend({a:l.get("maxOpacity")(h)||0},i.convertColor(l.get("maxColor")(h))),l.get("colorRange")(h).forEach(function(t,n){h.colorMap.push(e.extend({a:d&&void 0!==d[n]?d[n]:1},i.convertColor(t)))}),t=i.getMinMaxValues(h.value,l.get("min")(h),l.get("max")(h)),h.minValue=t.min,h.maxValue=t.max,f&&f.length===h.colorMap.length+1||(f=null),f)for(s=1;s<f.length;s+=1)if(f[s-1]>f[s]){f=null;break}for(f&&(h.minValue=f[0],h.maxValue=f[f.length-1]),(r=h.maxValue-h.minValue)||(h.colorMap=h.colorMap.slice(0,1),r=1,f=null),h.rangeValues=f,h.factor=h.colorMap.length/r,o=0;o<h.numVertices;o+=1)if(n=h.value[o],f&&n>=h.minValue&&n<=h.maxValue){for(s=1;s<f.length;s+=1)if(n<=f[s]){h.value[o]=s-1+(n-f[s-1])/(f[s]-f[s-1]);break}}else h.value[o]=(n-h.minValue)*h.factor;return h},this.contour=a.mesh,this._init=function(t){s.call(a,t);var n=e.extend({},{opacity:1,value:function(t,e){return a.position()(t,e).z}},void 0===t.style?{}:t.style);a.style(n),a.contour(e.extend({},{minColor:"black",minOpacity:0,maxColor:"black",maxOpacity:0,colorRange:[{r:.07514311,g:.468049805,b:1},{r:.468487184,g:.588057293,b:1},{r:.656658579,g:.707001303,b:1},{r:.821573924,g:.837809045,b:1},{r:.943467973,g:.943498599,b:.943398095},{r:1,g:.788626485,b:.750707739},{r:1,g:.6289553,b:.568237474},{r:1,g:.472800903,b:.404551679},{r:.916482116,g:.236630659,b:.209939162}]},t.mesh||{},t.contour||{})),(t.mesh||t.contour)&&a.dataTime().modified()},this._init(t),this};i(o,r),t.exports=o},function(t,e,n){t.exports=function(){"use strict";var t=n(2),e=function(n){if(!(this instanceof e))return new e(n);n=n||{},this._size=n.size||6,this._track=n.track||600,this._needed=n.needed||null,this._batch=!1;var i=this,r=1;return Object.defineProperty(this,"size",{get:function(){return this._size},set:function(t){this._size=t,this.next_item()}}),Object.defineProperty(this,"length",{get:function(){return this._queue.length}}),Object.defineProperty(this,"processing",{get:function(){return this._processing}}),this.clear=function(){return this._queue=[],this._processing=0,this},this.add=function(e,n,r){if(e.__fetchQueue){var o=t.inArray(e,this._queue);if(o>=0)return this._queue.splice(o,1),this._addToQueue(e,r),e}var a=t.Deferred(),s=t.Deferred();return a.done(function(){t.when(n.call(e)).always(s.resolve)}).fail(s.resolve),e.__fetchQueue=a,this._addToQueue(e,r),t.when(a,s).always(function(){i._processing>0&&(i._processing-=1),i.next_item()}).promise(e),i.next_item(),e},this._addToQueue=function(t,e){if(t.__fetchQueue._batch=this._batch,e)this._queue.push(t);else if(this._batch){for(var n=0;n<this._queue.length&&this._queue[n].__fetchQueue._batch===this._batch;n+=1);this._queue.splice(n,0,t)}else this._queue.unshift(t)},this.get=function(e){return t.inArray(e,this._queue)},this.remove=function(e){var n=t.inArray(e,this._queue);return n>=0&&(this._queue.splice(n,1),!0)},this.batch=function(t){return void 0===t?this._batch:(t?(this._batch=r,r+=1):this._batch=!1,this)},this.next_item=function(){if(!i._innextitem){if(i._innextitem=!0,i._queue.length>i._track&&this._needed)for(var t=i._queue.length-1;t>=0;t-=1)if(!i._needed(i._queue[t])){var e=i._queue.splice(t,1)[0];i._processing+=1,e.__fetchQueue.reject(),delete e.__fetchQueue}for(;i._processing<i._size&&i._queue.length;){var n=i._queue.shift();if(n.__fetchQueue)i._processing+=1,!i._needed||i._needed(n)?n.__fetchQueue.resolve():n.__fetchQueue.reject(),delete n.__fetchQueue}i._innextitem=!1}},this.clear(),this};return e}()},function(t,e,n){var i=n(0),r=n(34),o=n(12),a=function(t){"use strict";if(!(this instanceof a))return new a(t);if(o.call(this),!((t=t||{}).layer instanceof r))throw new Error("fileReader must be given a feature layer");var e=t.layer;function n(t,e){var n=new FileReader;return e&&(n.onprogress=e),n.onloadend=function(){n.result||t(n.error),t(n.result)},n}return this.layer=function(){return e},this.canRead=function(){return!1},this.read=function(t,e){e(!1)},this._getString=function(t,e,i){n(e,i).readAsText(t)},this._getArrayBuffer=function(t,e,i){n(e,i).readAsText(t)},this};i(a,o),t.exports=a},function(t,e,n){var i=n(0),r=n(8),o=function(t){"use strict";if(!(this instanceof o))return new o(t);t=t||{},r.call(this,t);var e=n(2),i=n(3),a=n(1),s=this,l=this.draw,u=this.style,c=null,h=null,p=function(t){return t.children},d=[],f=this._init,v=this._exit;return this._init=function(t){f.call(s,t);var n=e.extend(!0,{},{nodes:{radius:5,fill:!0,fillColor:{r:1,g:0,b:0},strokeColor:{r:0,g:0,b:0}},links:{strokeColor:{r:0,g:0,b:0}},linkType:"path"},void 0===t.style?{}:t.style);s.style(n),s.nodes(function(t){return t})},this._build=function(){s.children().forEach(function(t){t._build()})},this._update=function(){s.children().forEach(function(t){t._update()})},this._exit=function(){return s.data([]),d.forEach(function(t){t._exit(),s.removeChild(t)}),d=[],h._exit(),s.removeChild(h),v(),s},this.style=function(t,e){var n=u.call(s,t,e);return n!==s?n:(h.style(t.nodes),d.forEach(function(e){e.style(t.links)}),s)},this.links=function(t){return void 0===t?p:(p=i.ensureFunction(t),s)},this.nodes=function(t){return void 0===t?c:(c=t,s.modified(),s)},this.nodeFeature=function(){return h},this.linkFeatures=function(){return d},this.draw=function(){var t,e=s.layer(),n=s.data(),i=0;return t=s.style(),h.data(n),h.style(t.nodes),n.forEach(function(n){(n.children||[]).forEach(function(r){var o;i+=1,d.length<i&&(o=a.createFeature(t.linkType,e,e.renderer()).style(t.links),s.addChild(o),d.push(o)),d[i-1].data([n,r])})}),d.splice(i,d.length-i).forEach(function(t){t._exit(),s.removeChild(t)}),l(),s},h=a.createFeature("point",this.layer(),this.layer().renderer()),s.addChild(h),t.nodes&&this.nodes(t.nodes),this._init(t),this};i(o,r),t.exports=o},function(t,e,n){var i=n(2),r=n(0),o=n(8),a=n(7),s=function(t){"use strict";if(!(this instanceof s))return new s(t);t=t||{},o.call(this,t);var e,n,r,l,u,c,h,p=this,d=this._init;return e=t.position||function(t){return t},n=t.intensity||function(t){return 1},r=void 0!==t.maxIntensity?t.maxIntensity:null,l=void 0!==t.minIntensity?t.minIntensity:null,c=void 0!==t.binned?t.binned:"auto",u=t.updateDelay?parseInt(t.updateDelay,10):1e3,this.maxIntensity=function(t){return void 0===t?r:(r=t,p.dataTime().modified(),p.modified(),p)},this.minIntensity=function(t){return void 0===t?l:(l=t,p.dataTime().modified(),p.modified(),p)},this.updateDelay=function(t){return void 0===t?u:(u=parseInt(t,10),p)},this.binned=function(t){return void 0===t?c:("true"===t?t=!0:"false"===t?t=!1:"auto"!==t&&!0!==t&&!1!==t&&((t=parseInt(t,10))<=0||isNaN(t))&&(t=!1),c=t,p.dataTime().modified(),p.modified(),p)},this.position=function(t){return void 0===t?e:(e=t,p.dataTime().modified(),p.modified(),p)},this.gcsPosition=function(){return this._update(),h},this.intensity=function(t){return void 0===t?n:(n=t,p.dataTime().modified(),p.modified(),p)},this._init=function(t){d.call(p,t);var n=i.extend({},{radius:10,blurRadius:10,gaussian:!0,color:{0:{r:0,g:0,b:0,a:0},.25:{r:0,g:0,b:1,a:.5},.5:{r:0,g:1,b:1,a:.6},.75:{r:1,g:1,b:0,a:.7},1:{r:1,g:0,b:0,a:.8}}},void 0===t.style?{}:t.style);p.style(n),e&&p.dataTime().modified()},this._build=function(){var t=p.data(),e=null,n=[],i=null===r||void 0===r,o=null===l||void 0===l;return t.forEach(function(t,a){n.push(p.position()(t,a)),(i||o)&&(e=p.intensity()(t,a),null!==r&&void 0!==r||(r=e),null!==l&&void 0!==l||(l=e),i&&e>r&&(r=e),o&&e<l&&(l=e))}),o&&i&&l===r&&(l-=1),h=a.transformCoordinates(p.gcs(),p.layer().map().gcs(),n),p.buildTime().modified(),p},this._init(t),this};r(s,o),t.exports=s},function(t,e,n){var i=n(0),r=n(53);t.exports=function(){"use strict";var t=function(e){if(!(this instanceof t))return new t(e);var i=n(2);return e.size=e.size||{x:256,y:256},this._image=null,this._cors=e.crossDomain||null===e.crossDomain?e.crossDomain:"anonymous",r.call(this,e),Object.defineProperty(this,"image",{get:function(){return this._image}}),this.fetch=function(){var t;return this._image||(this._image=new Image(this.size.x,this.size.y),this._cors&&this._url.indexOf(":")>=0&&this._url.indexOf("/")===this._url.indexOf(":")+1&&(this._image.crossOrigin=this._cors),t=i.Deferred(),this._image.onload=t.resolve,this._image.onerror=t.reject,this._image.src=this._url,t.done(function(){this._fetched=!0}.bind(this)).promise(this)),this},this.fadeIn=function(t){var e=this.fetch(),n=i.Deferred();return i(this._image).css("display","none"),e.done(function(){i(this._image).fadeIn(t,function(){n.resolve()})}.bind(this)),n.promise(this)},this};return i(t,r),t}()},function(t,e,n){var i=n(0),r=n(1).registerLayer,o=n(24),a=function(t){"use strict";var e=n(1).createWidget;if(t.renderer="dom",t.sticky=!1,!(this instanceof a))return new a(t);o.call(this,t);var i=this,r=this._exit;this.createWidget=function(t,n){var r=e(t,i,n);return n&&"parent"in n||i.addChild(r),r._init(n),i.modified(),r},this.deleteWidget=function(t){return t._exit(),i.removeChild(t),i.modified(),i},this._exit=function(){i.children().forEach(function(t){i.deleteWidget(t)}),r()}};i(a,o),r("ui",a),t.exports=a},function(t,e,n){t.exports=function(){"use strict";var t=n(0),e=n(34);function i(t,e){return(t%e+e)%e}function r(t){var e,n=new RegExp(/\$?\{[xX]\}/),r=new RegExp(/\$?\{[yY]\}/),o=new RegExp(/\$?\{[zZ]\}/),a=new RegExp(/\$?\{(s|S|[sS]:[^{}]+|[^-{}]-[^-{}]|([^,{}]+,)+[^,{}]+)\}/),s=t.replace(a,"{s}").replace(n,"{x}").replace(r,"{y}").replace(o,"{z}"),l=t.match(a);if(l)if(l[2])e=l[1].split(",");else if(":"===l[1][1])e=l[1].substr(2).split("");else if("-"===l[1][1]){e=[];for(var u=l[1].charCodeAt(0),c=l[1].charCodeAt(2),h=Math.min(u,c);h<=Math.max(u,c);h+=1)e.push(String.fromCharCode(h))}return function(t,n,r,o){return s.replace("{s}",function(t,e,n,r){return r[i(t+e+n,r.length)]}(t,n,r,e||o)).replace("{x}",t).replace("{y}",n).replace("{z}",r)}}var o=function(t){if(!(this instanceof o))return new o(t);e.call(this,t);var a=n(2),s=n(6),l=n(7),u=n(126),c=n(119),h=n(1).adjustLayerForRenderer,p=n(53);if((t=a.extend(!0,{},this.constructor.defaults,t||{})).cacheSize||(t.cacheSize=t.keepLower?600:200),"string"===a.type(t.subdomains)&&(t.subdomains=t.subdomains.split("")),t.baseUrl){var d=t.baseUrl;d&&"/"!==d.charAt(d.length-1)&&(d+="/"),t.url=d+"{z}/{x}/{y}."+(t.imageFormat||"png")}t.originalUrl=t.url,"string"===a.type(t.url)&&(t.url=r(t.url));var f,v=this._init,g=this._exit,m=this.visible,y=[],x=[];this._options=a.extend(!0,{},t),this.attribution(t.attribution),this._activeTiles={},this._tileTree={},this._cache=u({size:t.cacheSize}),this._queue=c({size:6,track:t.cacheSize,needed:function(t){return t===this.cache.get(t.toString(),!0)}.bind(this)});var _={};return Object.defineProperty(this,"options",{get:function(){return a.extend({},this._options)}}),Object.defineProperty(this,"cache",{get:function(){return this._cache}}),Object.defineProperty(this,"activeTiles",{get:function(){return a.extend({},this._activeTiles)}}),this.tilesAtZoom=function(t){if(this._options.tilesAtZoom)return this._options.tilesAtZoom.call(this,t);var e=Math.pow(2,t);return{x:e,y:e}},this.tilesMaxBounds=function(t){return this._options.tilesMaxBounds?this._options.tilesMaxBounds.call(this,t):null},this.tileCropFromBounds=function(t){if(this._options.tilesMaxBounds){var e=t.index.level,n=this._tileBounds(t);return void 0===x[e]&&(x[e]=this.tilesMaxBounds(e)||null),x[e]&&(n.right>x[e].x||n.bottom>x[e].y)?{x:Math.max(0,Math.min(x[e].x,n.right)-n.left),y:Math.max(0,Math.min(x[e].y,n.bottom)-n.top)}:void 0}},this.isValid=function(t){return this._options.minLevel<=t.level&&t.level<=this._options.maxLevel&&(!!(this._options.wrapX||0<=t.x&&t.x<=this.tilesAtZoom(t.level).x-1)&&!!(this._options.wrapY||0<=t.y&&t.y<=this.tilesAtZoom(t.level).y-1))},this._origin=function(t){var e,n=this.toLevel(this.toLocal(this.map().origin()),t),i=this._options;return{index:e={x:Math.floor(n.x/i.tileWidth),y:Math.floor(n.y/i.tileHeight)},offset:{x:n.x-i.tileWidth*e.x,y:n.y-i.tileHeight*e.y}}},this._tileBounds=function(t){var e=this._origin(t.index.level);return t.bounds(e.index,e.offset)},this.tileAtPoint=function(t,e){var n=this._origin(e),i=this.map();t=this.displayToLevel(i.gcsToDisplay(t,null),e),isNaN(t.x)&&(t.x=0),isNaN(t.y)&&(t.y=0);var r=this._tileOffset(e);return r&&(t.x+=r.x,t.y+=r.y),{x:Math.floor(n.index.x+(n.offset.x+t.x)/this._options.tileWidth),y:Math.floor(n.index.y+(n.offset.y+t.y)/this._options.tileHeight)}},this.gcsTileBounds=function(t,e){var n=t.index?t:p({index:t,size:{x:this._options.tileWidth,y:this._options.tileHeight},url:""}),i=this._tileOffset(n.index.level),r=n.bounds({x:0,y:0},i),o=this.map(),a=o.unitsPerPixel(n.index.level),s=[{x:r.left*a,y:this._topDown()*r.top*a},{x:r.right*a,y:this._topDown()*r.bottom*a}];return(e=null===e?o.gcs():void 0===e?o.ingcs():e)!==o.gcs()&&(s=l.transformCoordinates(o.gcs(),e,s)),{left:s[0].x,top:s[0].y,right:s[1].x,bottom:s[1].y}},this._getTile=function(t,e){var n=e||t;return p({index:t,size:{x:this._options.tileWidth,y:this._options.tileHeight},queue:this._queue,url:this._options.url.call(this,n.x,n.y,n.level||0,this._options.subdomains)})},this._getTileCached=function(t,e,n){var i=this.cache.get(this._tileHash(t));return null===i&&(i=this._getTile(t,e),this.cache.add(i,this.remove.bind(this),n)),i},this._tileHash=function(t){return[t.level||0,t.y,t.x].join("_")},this._getTileRange=function(t,e){var n=[this.tileAtPoint({x:e.left,y:e.top},t),this.tileAtPoint({x:e.right,y:e.top},t),this.tileAtPoint({x:e.left,y:e.bottom},t),this.tileAtPoint({x:e.right,y:e.bottom},t)];return{start:{x:Math.min(n[0].x,n[1].x,n[2].x,n[3].x),y:Math.min(n[0].y,n[1].y,n[2].y,n[3].y)},end:{x:Math.max(n[0].x,n[1].x,n[2].x,n[3].x),y:Math.max(n[0].y,n[1].y,n[2].y,n[3].y)}}},this._getTiles=function(t,e,n,r){var o,s,l,u,c,h,p,d,f,v,g,m=[],x=!1,_=this._options.keepLower?this._options.minLevel:t;for(t<_&&(t=_),g=_;g<=t&&(c=(p=this._getTileRange(g,e)).start,h=p.end,u=this.tilesAtZoom(g),this._options.wrapX||(c.x=Math.min(Math.max(c.x,0),u.x-1),h.x=Math.min(Math.max(h.x,0),u.x-1),g===_&&this._options.keepLower&&(c.x=0,h.x=u.x-1)),this._options.wrapY||(c.y=Math.min(Math.max(c.y,0),u.y-1),h.y=Math.min(Math.max(h.y,0),u.y-1),g===_&&this._options.keepLower&&(c.y=0,h.y=u.y-1)),!(this._options.gcs&&this._options.gcs!==this.map().gcs()&&g!==_&&(h.x+1-c.x)*(h.y+1-c.y)>this.map().size().width*this.map().size().height/this._options.tileWidth/this._options.tileHeight*16));g+=1)for(o=c.x;o<=h.x;o+=1)for(s=c.y;s<=h.y;s+=1)l={level:g,x:o,y:s},d={level:g,x:o,y:s},this._options.wrapX&&(d.x=i(d.x,u.x)),this._options.wrapY&&(d.y=i(d.y,u.y)),this.isValid(d)&&(r&&m.length<y.length&&(v=y[m.length],x=x||l.level!==v.level||l.x!==v.x||l.y!==v.y),m.push({index:l,source:d}));if(r){if(!x&&m.length===y.length)return;y.splice(0,y.length),a.each(m,function(t,e){y.push(e.index)})}if(n){f={x:(c.x+h.x)/2,y:(c.y+h.y)/2,level:t,bottomLevel:t};for(var A=Math.max(h.x-c.x,h.y-c.y)+1;A>=1;A/=2)f.bottomLevel-=1;m.sort(this._loadMetric(f)),this._queue&&this._queue.batch(!0)}for(this.cache.size<m.length&&(console.log("Increasing cache size to "+m.length),this.cache.size=m.length),o=0;o<m.length;o+=1)m[o]=this._getTileCached(m[o].index,m[o].source,!0);return this.cache.purge(this.remove.bind(this)),m},this.prefetch=function(t,e){var n;return n=this._getTiles(t,e,!0),a.when.apply(a,n.map(function(t){return t.fetch()}))},this._loadMetric=function(t){return function(e,n){var i,r,o,a,s;return e=e.index||e,n=n.index||n,e.level!==n.level?t.bottomLevel&&e.level>=t.bottomLevel!=n.level>=t.bottomLevel?e.level>=t.bottomLevel?-1:1:e.level-n.level:(s=Math.pow(2,e.level-t.level),o=(t.x+.5)*s-.5,a=(t.y+.5)*s-.5,(i=e.x-o)*i+(r=e.y-a)*r-((i=n.x-o)*i+(r=n.y-a)*r))}},this.fromLevel=function(t,e){var n=Math.pow(2,-e);return{x:t.x*n,y:t.y*n}},this.toLevel=function(t,e){var n=Math.pow(2,e);return{x:t.x*n,y:t.y*n}},this.drawTile=function(t){var e=t.toString();this._activeTiles.hasOwnProperty(e)?this._moveToTop(t):this._drawTile(t),this._activeTiles[e]=t},this._drawTile=function(t){if(null!==this.renderer())throw new Error("This draw method is not valid on renderer managed layers.");var e,n=t.index.level,i=a(this._getSubLayer(n)),r=this._tileBounds(t),o=this._options.animationDuration,s=a('<div class="geo-tile-container"/>').attr("tile-reference",t.toString());s.append(t.image),s.css({left:r.left-parseInt(i.attr("offsetx")||0,10)+"px",top:r.top-parseInt(i.attr("offsety")||0,10)+"px"}),(e=this.tileCropFromBounds(t))&&s.addClass("crop").css({width:e.x+"px",height:e.y+"px"}),o>0&&t.fadeIn(o),i.append(s),t.catch(function(){console.warn("Could not load tile at "+t.toString()),this._remove(t)}.bind(this))},this.remove=function(t){var e=t.toString(),n=this._activeTiles[e];return n instanceof p&&this._remove(n),delete this._activeTiles[e],n},this._remove=function(t){t.image&&(t.image.parentElement?a(t.image.parentElement).remove():console.log("No parent element to remove "+t.toString(),t),a(t.image).remove())},this._moveToTop=function(t){a.noop(t)},this._getViewBounds=function(){var t=this.map(),e=t.zoom(),n=this._options.tileRounding(e),i=Math.pow(2,e-n),r=t.size(),o=this.displayToLevel({x:0,y:0}),a=this.displayToLevel({x:r.width,y:0}),s=this.displayToLevel({x:0,y:r.height}),l=this.displayToLevel({x:r.width,y:r.height});return{level:n,scale:i,left:Math.min(o.x,a.x,s.x,l.x),right:Math.max(o.x,a.x,s.x,l.x),top:Math.min(o.y,a.y,s.y,l.y),bottom:Math.max(o.y,a.y,s.y,l.y)}},this._purge=function(t,e,n){var i,r;if(this._updating)return this;for(r in n||(n=this._getViewBounds()),this._activeTiles)i=this._activeTiles[r],this._canPurge(i,n,t,e)&&this.remove(i);return this},this.clear=function(){var t,e=[];for(t in this._activeTiles)e.push(this.remove(t));return this._tileTree={},y=[],e},this.reset=function(){return this.clear(),this._cache.clear(),this},this.toLocal=function(t,e){var n=this.map(),i=n.unitsPerPixel(void 0===e?n.zoom():e);return{x:t.x/i,y:this._topDown()*t.y/i}},this.fromLocal=function(t,e){var n=this.map(),i=n.unitsPerPixel(void 0===e?n.zoom():e);return{x:t.x*i,y:this._topDown()*t.y*i}},this._topDown=function(){return this._options.topDown?1:-1},this._getSubLayer=function(t){if(this.canvas()){var e=this.canvas().find("div[data-tile-layer="+t.toFixed()+"]").get(0);return e||(e=a('<div class=geo-tile-layer data-tile-layer="'+t.toFixed()+'"/>').get(0),this.canvas().append(e)),e}},this._updateSubLayers=function(t,e){var n=this.canvas(),i=parseInt(n.attr("lastlevel"),10),r=parseInt(n.attr("lastoffsetx")||0,10),o=parseInt(n.attr("lastoffsety")||0,10);if(i===t&&Math.abs(r-e.left)<65536&&Math.abs(o-e.top)<65536)return{x:r,y:o};var s=this.map(),l=this._tileOffset(t),u=parseInt((e.left+e.right-s.size().width)/2+l.x,10),c=parseInt((e.top+e.bottom-s.size().height)/2+l.y,10);return n.find(".geo-tile-layer").each(function(e,n){var i=a(n),r=parseInt(i.data("tileLayer"),10);i.css("transform","scale("+Math.pow(2,t-r)+")");var o=parseInt(u/Math.pow(2,t-r),10),s=parseInt(c/Math.pow(2,t-r),10),l=o-parseInt(i.attr("offsetx")||0,10),h=s-parseInt(i.attr("offsety")||0,10);i.attr({offsetx:o,offsety:s}),i.find(".geo-tile-container").each(function(t,e){a(e).css({left:parseInt(a(e).css("left"),10)-l+"px",top:parseInt(a(e).css("top"),10)-h+"px"})})}),n.attr({lastoffsetx:u,lastoffsety:c,lastlevel:t}),{x:u,y:c}},this._update=function(t){if(t&&t.event&&(t.event.event===s.zoom||t.event.event===s.rotate))return this;if(!this.visible())return this;var e,n=this.map(),i=n.bounds(void 0,null),r=n.zoom(),o=this._options.tileRounding(r);if(this._updateSubLayers){var l=this._getViewBounds(),u=this._updateSubLayers(o,l)||{x:0,y:0},c=this._tileOffset(o);if(null===this.renderer()){var h=Math.pow(2,r-o),p=n.rotation(),d=-c.x+-(l.left+l.right)/2+u.x,v=-c.y+-(l.bottom+l.top)/2+u.y,g=d+n.size().width/2,m=v+n.size().height/2;this.canvas().css({"transform-origin":-d+"px "+-v+"px"});var y="translate("+g+"px,"+m+"px)scale("+h+")";p&&(y+="rotate("+180*p/Math.PI+"deg)"),this.canvas().css("transform",y)}this.canvas().attr({scale:Math.pow(2,r-o),dx:-c.x+-(l.left+l.right)/2,dy:-c.y+-(l.bottom+l.top)/2,offsetx:u.x,offsety:u.y,rotation:n.rotation()})}return void 0===(e=this._getTiles(o,i,!0,!0))?this:(this._tileTree={},e.forEach(function(t){t.fetched()?(this.drawTile(t),this._setTileTree(t)):t._queued?(this._queue?this._queue.get(t):-1)>=0&&this._queue.add(t):(t.then(function(){if(!f&&t===this.cache.get(t.toString())){var e=n.zoom(),i=this._options.tileRounding(e),r=this._getViewBounds();this._canPurge(t,r,i)?this.remove(t):(this.drawTile(t),this._setTileTree(t))}}.bind(this)),this.addPromise(t),t._queued=!0)}.bind(this)),a.when.apply(a,e).done(function(){var t=this.map().zoom(),e=this._options.tileRounding(t);this._purge(e,!0)}.bind(this)),this)},this._setTileTree=function(t){if(!this._options.keepLower){var e=t.index;this._tileTree[e.level]=this._tileTree[e.level]||{},this._tileTree[e.level][e.x]=this._tileTree[e.level][e.x]||{},this._tileTree[e.level][e.x][e.y]=t}},this._getTileTree=function(t){return((this._tileTree[t.level]||{})[t.x]||{})[t.y]||null},this._isCovered=function(t){var e=t.index.level,n=t.index.x,i=t.index.y,r=[];return(r=this._getTileTree({level:e-1,x:Math.floor(n/2),y:Math.floor(i/2)}))?[r]:(r=[this._getTileTree({level:e+1,x:2*n,y:2*i}),this._getTileTree({level:e+1,x:2*n+1,y:2*i}),this._getTileTree({level:e+1,x:2*n,y:2*i+1}),this._getTileTree({level:e+1,x:2*n+1,y:2*i+1})]).every(function(t){return null!==t})?r:null},this._outOfBounds=function(t,e){var n=this._tileOffset(t.index.level),i=1;return t.index.level!==e.level&&(i=Math.pow(2,(e.level||0)-(t.index.level||0))),(t.bottom-n.y)*i<e.top||(t.left-n.x)*i>e.right||(t.top-n.y)*i>e.bottom||(t.right-n.x)*i<e.left},this._canPurge=function(t,e,n,i){if(this._options.keepLower){if((n=n||0)<t.index.level&&t.index.level!==this._options.minLevel)return!0;if(t.index.level===this._options.minLevel&&!this._options.wrapX&&!this._options.wrapY)return!1}else if((i||this._isCovered(t))&&n!==t.index.level)return!0;return!!e&&this._outOfBounds(t,e)},this.displayToLevel=function(t,e){var n,i=this.map(),r=i.zoom(),o=this._options.tileRounding(r),a=i.unitsPerPixel(void 0===e?o:e);if(void 0===t){var s=i.size();t={x:s.width/2,y:s.height/2}}try{n=i.displayToGcs(t,this._options.gcs||null)}catch(t){n={x:0,y:0}}return{x:n.x/a,y:this._topDown()*n.y/a}},this.url=function(t){return void 0===t?this._options.originalUrl:t===this._options.originalUrl?this:(this._options.originalUrl=t,"string"===a.type(t)&&(t=r(t)),this._options.url=t,this.reset(),this.map().draw(),this)},this.subdomains=function(t){return void 0===t?this._options.subdomains:(t&&("string"===a.type(t)&&(t=t.indexOf(",")>=0?t.split(","):t.split("")),this._options.subdomains=t,this.reset(),this.map().draw()),this)},this._tileOffset=function(t){return void 0===_[t]&&(_[t]=this._options.tileOffset(t)),_[t]},this.visible=function(t){return void 0===t?m():(this.visible()!==t&&(m(t),t&&this._update()),this)},this._init=function(){var t;if(v.apply(this,arguments),null===this.renderer())for(t=0;t<=this._options.maxLevel;t+=1)this._getSubLayer(t);return this},this._exit=function(){return this.reset(),g.apply(this,arguments),f=!0,this},h("tile",this),this};return o.defaults={minLevel:0,maxLevel:18,tileOverlap:{x:0,y:0},tileWidth:256,tileHeight:256,wrapX:!0,wrapY:!1,url:null,subdomains:"abc",tileOffset:function(t){return{x:0,y:0}},tilesMaxBounds:null,topDown:!1,keepLower:!0,tileRounding:Math.round,attribution:"",animationDuration:0},t(o,e),o}()},function(t,e){t.exports=function(){"use strict";var t=function(e){return this instanceof t?(e=e||{},this._size=e.size||64,Object.defineProperty(this,"size",{get:function(){return this._size},set:function(t){for(;this._atime.length>t;)this.remove(this._atime[this._atime.length-1]);this._size=t}}),Object.defineProperty(this,"length",{get:function(){return this._atime.length}}),this._access=function(t){return this._atime.indexOf(t)},this.remove=function(t){var e="string"==typeof t?t:t.toString();return e in this._cache&&(this._atime.splice(this._access(e),1),delete this._cache[e],!0)},this.clear=function(){return this._cache={},this._atime=[],this},this.get=function(t,e){return(t="string"==typeof t?t:t.toString())in this._cache?(e||(this._atime.splice(this._access(t),1),this._atime.unshift(t)),this._cache[t]):null},this.add=function(t,e,n){this.remove(t);var i=t.toString();this._cache[i]=t,this._atime.unshift(i),n||this.purge(e)},this.purge=function(t){for(var e;this._atime.length>this.size;){e=this._atime.pop();var n=this._cache[e];t&&t(n),delete this._cache[e]}},this.clear(),this):new t(e)};return t}()},function(t,e,n){var i=n(2),r=n(0),o=n(8),a=function(t){"use strict";if(!(this instanceof a))return new a(t);t=t||{},o.call(this,t);var e=this,n=void 0===t.position?[]:t.position,r=this._init;return this.position=function(t){return void 0===t?n:(n=t,e.dataTime().modified(),e.modified(),e)},this._init=function(t){r.call(e,t);var o=i.extend({},{strokeWidth:function(){return 1},strokeColor:function(){return{r:1,g:1,b:1}}},void 0===t.style?{}:t.style);e.style(o),n&&e.dataTime().modified()},this._init(t),this};r(a,o),t.exports=a},function(t,e,n){var i=n(2),r=n(0),o=n(8),a=n(6),s=n(3),l=function(t){"use strict";if(!(this instanceof l))return new l(t);t=t||{},o.call(this,t);var e,n,r,u=this,c=this._update,h=this._init,p=this._exit;return this.position=function(t){return void 0===t?u.style("position"):(t!==u.style("position")&&(u.style("position",t),u.dataTime().modified(),u.modified()),u)},this.url=function(t){return void 0===t?u.style("url"):(t!==u.style("url")&&(n=r=void 0,u.style("url",t),u.dataTime().modified(),u.modified()),u)},this.maxIndex=function(){if(r){if(void 0===r.maxIndex)for(var t in r.maxIndex=0,r.mappedColors)r.mappedColors.hasOwnProperty(t)&&(r.maxIndex=Math.max(r.maxIndex,t));return r.maxIndex}},this.color=function(t){return void 0===t?u.style("color"):(t!==u.style("color")&&(u.style("color",t),u.dataTime().modified(),u.modified()),u)},this.pointSearch=function(t){if(e&&r){var n=e.pointSearch(t);if(1===n.index.length&&n.extra&&n.extra[n.index[0]].basis){var i,o,a,s=n.extra[n.index[0]].basis;if(i=Math.floor(s.x*r.width),o=Math.floor(s.y*r.height),i>=0&&i<r.width&&o>=0&&o<r.height)return n={index:[a=r.indices[o*r.width+i]],found:[u.data()[a]]}}}return{index:[],found:[]}},this._build=function(){if(u.buildTime().modified(),n)r&&this._computePixelmap();else{var t=this.style.get("url")();if(s.isReadyImage(t))n=t,this._computePixelmap();else if(t){var e,o,a=i.Deferred();t instanceof Image?(n=t,e=t.onload,o=t.onerror):(n=new Image,t.indexOf(":")>=0&&t.indexOf("/")===t.indexOf(":")+1&&(n.crossOrigin=this.style.get("crossDomain")()||"anonymous")),n.onload=function(){e&&e.apply(this,arguments),u.style.get("url")()===t&&(r=void 0,u._computePixelmap()),a.resolve()},n.onerror=function(){o&&o.apply(this,arguments),a.reject()},a.promise(this),this.layer().addPromise(this),t instanceof Image||(n.src=t)}}return u},this._preparePixelmap=function(){var t,e,i;if(s.isReadyImage(n)){for((r={width:n.naturalWidth,height:n.naturalHeight,canvas:document.createElement("canvas"),updateIdx:{}}).canvas.width=r.width,r.canvas.height=r.height,r.context=r.canvas.getContext("2d"),r.context.drawImage(n,0,0),r.imageData=r.context.getImageData(0,0,r.canvas.width,r.canvas.height),i=r.imageData.data,r.indices=new Array(i.length/4),r.area=i.length/4,r.mappedColors={},t=0;t<i.length;t+=4)e=i[t]+(i[t+1]<<8)+(i[t+2]<<16),r.indices[t/4]=e,r.mappedColors[e]||(r.mappedColors[e]={first:t/4}),r.mappedColors[e].last=t/4;return r}},this._computePixelmap=function(){var t,n,i,o,s,l,c,h,p,d,f=u.data()||[],v=u.style.get("color"),g=-1;if(!r){if(!u._preparePixelmap())return;d=!0}for(n in c=r.mappedColors,h=r.area,c)c.hasOwnProperty(n)&&(o=[255*((o=v(f[n],+n)||{}).r||0),255*(o.g||0),255*(o.b||0),void 0===o.a?255:255*o.a],c[n].update=!c[n].color||c[n].color[0]!==o[0]||c[n].color[1]!==o[1]||c[n].color[2]!==o[2]||c[n].color[3]!==o[3],c[n].update&&(c[n].color=o,h=Math.min(c[n].first,h),g=Math.max(c[n].last,g)));if(!(h>=g)){for(s=r.imageData.data,l=r.indices,t=h;t<=g;t+=1)(n=l[t])!==i&&(i=n,o=c[n].color,p=c[n].update),p&&(s[4*t]=o[0],s[4*t+1]=o[1],s[4*t+2]=o[2],s[4*t+3]=o[3]);r.context.putImageData(r.imageData,0,0,0,Math.floor(h/r.width),r.width,Math.ceil((g+1)/r.width)),e||(e=u.layer().createFeature("quad",{selectionAPI:!1,gcs:u.gcs(),visible:u.visible(void 0,!0)}),u.dependentFeatures([e]),e.style({image:r.canvas,position:u.style.get("position")}).data([{}]).draw()),d&&u.geoTrigger(a.pixelmap.prepared,{pixelmap:u})}},this._update=function(){return c.call(u),(u.buildTime().getMTime()<=u.dataTime().getMTime()||u.updateTime().getMTime()<u.getMTime())&&u._build(),u.updateTime().modified(),u},this._exit=function(t){e&&u.layer()&&(u.layer().deleteFeature(e),e=null,u.dependentFeatures([])),p()},this._init=function(t){t=t||{},h.call(u,t);var e=i.extend({},{color:function(t,e){return{r:(255&e)/255,g:(e>>8&255)/255,b:(e>>16&255)/255,a:1}},position:function(t){return t}},void 0===t.style?{}:t.style);void 0!==t.position&&(e.position=t.position),void 0!==t.url&&(e.url=t.url),void 0!==t.color&&(e.color=t.color),u.style(e),u.dataTime().modified()},this};l.create=function(t,e){"use strict";return(e=e||{}).type="pixelmap",o.create(t,e)},l.capabilities={feature:"pixelmap"},r(l,o),t.exports=l},function(t,e,n){var i=n(0),r=n(8),o=function(t){"use strict";if(!(this instanceof o))return new o(t);var e=n(2);t=t||{},r.call(this,t);var i=this,a=this._init,s=this.style;this.origin=function(t){return void 0===t?s("origin"):(s("origin",t),i.dataTime().modified(),i.modified(),i)},this.delta=function(t){return void 0===t?s("delta"):(s("delta",t),i.dataTime().modified(),i.modified(),i)},this._init=function(t){a.call(i,t);var n=e.extend({},{strokeColor:"black",strokeWidth:2,strokeOpacity:1,originStyle:"none",endStyle:"arrow",origin:{x:0,y:0,z:0},delta:function(t){return t},scale:null},void 0===t.style?{}:t.style);void 0!==t.origin&&(n.origin=t.origin),i.style(n),i.dataTime().modified()}};i(o,r),t.exports=o},function(t,e,n){var i=n(55),r=n(0),o=n(1).registerWidget,a=function(t){"use strict";if(!(this instanceof a))return new a(t);i.call(this,t);var e=this;return this._init=function(){return t.hasOwnProperty("parent")&&t.parent.addChild(e),e._createCanvas(),e._appendCanvasToParent(),e.canvas().addEventListener("mousedown",function(t){t.stopPropagation()}),e.reposition(),e},this._createCanvas=function(){e.canvas(document.createElement(t.el||"div"))},this};r(a,i),o("dom","dom",a),t.exports=a},function(t,e,n){
/**
 * GeoJS
 * @copyright 2013-2018, Kitware, Inc.
 * @license Apache-2.0
 *
 * Bundled with the following libraries:
 *
 * vgl
 * @copyright 2014-2016, Kitware, Inc.
 * @license Apache-2.0
 *
 * Proj4js
 * @copyright 2014, Mike Adair, Richard Greenwood, Didier Richard, Stephen Irons, Olivier Terral and Calvin Metcalf
 * @license MIT
 *
 * gl-matrix
 * @copyright 2015, Brandon Jones, Colin MacKenzie IV
 * @license MIT
 *
 * JQuery
 * @copyright jQuery Foundation and other contributors
 * @license MIT
 *
 * earcut
 * @copyright 2016, Mapbox
 * @license ISC
 *
 * kdbush
 * @copyright 2017, Vladimir Agafonkin
 * @license ISC
 */
var i=n(2);n(132),n(133),t.exports=i.extend({annotation:n(56),annotationLayer:n(263),camera:n(48),choroplethFeature:n(116),contourFeature:n(118),domRenderer:n(266),event:n(6),feature:n(8),featureLayer:n(34),fetchQueue:n(119),fileReader:n(120),geo_action:n(38),graphFeature:n(121),heatmapFeature:n(122),imageTile:n(123),isolineFeature:n(54),jsonReader:n(267),layer:n(24),lineFeature:n(23),map:n(268),mapInteractor:n(50),meshFeature:n(52),object:n(12),osmLayer:n(269),pathFeature:n(127),pointFeature:n(33),polygonFeature:n(49),quadFeature:n(17),pixelmapFeature:n(128),renderer:n(22),sceneObject:n(13),textFeature:n(25),tile:n(53),tileCache:n(126),tileLayer:n(125),timestamp:n(10),transform:n(7),typedef:n(270),vectorFeature:n(129),inherit:n(0),version:n(271),sha:n(272),util:n(3),jQuery:i,d3:n(273),gl:n(281),canvas:n(291),gui:n(319)},n(1)),window&&!window.$&&(window.$=i),window&&!window.jQuery&&(window.jQuery=i)},function(t,e){if(!window.requestAnimationFrame){var n=[];window.performance&&window.performance.now||(window.performance={now:function(){return(new Date).getTime()}}),window.requestAnimationFrame=function(t){"use strict";if(!n.length){var e=window.performance.now();window.setTimeout(function(){var t=n;n=[];for(var e=window.performance.now(),i=0;i<t.length;i+=1)t[i].call(window,e)},15-parseInt(e,10)%15)}n.push(t)}}"log2"in Math||(Math.log2=function(){return Math.log.apply(Math,arguments)/Math.LN2}),"log10"in Math||(Math.log10=function(){return Math.log.apply(Math,arguments)/Math.LN10},Math.log10.polyfilled=!0)},function(t,e,n){var i=n(134);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(37)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(36)(!1)).push([t.i,'.geojs-map {\n  position: relative;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.geojs-map .geo-attribution {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  padding-right: 5px;\n  cursor: auto;\n  font: 11px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\n  z-index: 1001;\n  background: rgba(255,255,255,0.7);\n  clear: both;\n  display: block;\n  pointer-events: auto;\n}\n.geojs-map .geo-attribution .geo-attribution-layer {\n  padding-left: 5px;\n}\n.geojs-map .canvas-canvas {\n  display: block;\n  -webkit-transform-origin: 0px 0px;\n  -moz-transform-origin: 0px 0px;\n  -o-transform-origin: 0px 0px;\n  -ms-transform-origin: 0px 0px;\n  transform-origin: 0px 0px;\n}\n.geojs-map .webgl-canvas {\n  display: block;\n}\n.geojs-map .geojs-layer {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n}\n.geojs-map .geojs-layer.active > * {\n  pointer-events: auto;\n}\n.geojs-map .geo-tile-layer {\n  -webkit-transform-origin: 0px 0px;\n  -moz-transform-origin: 0px 0px;\n  -o-transform-origin: 0px 0px;\n  -ms-transform-origin: 0px 0px;\n  transform-origin: 0px 0px;\n  line-height: 0;\n  font-size: 0;\n}\n.geojs-map.annotation-input {\n  cursor: crosshair;\n}\n.geojs-map.highlight-focus:after {\n  content: "";\n  display: block;\n  position: absolute;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  left: 0px;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  border: 3px solid Highlight;\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  -webkit-transition: opacity 0s;\n  -moz-transition: opacity 0s;\n  -o-transition: opacity 0s;\n  -ms-transition: opacity 0s;\n  transition: opacity 0s;\n  visibility: hidden;\n}\n.geojs-map.highlight-focus:focus:after {\n  visibility: visible;\n  -webkit-transition: opacity 2.5s ease-in;\n  -moz-transition: opacity 2.5s ease-in;\n  -o-transition: opacity 2.5s ease-in;\n  -ms-transition: opacity 2.5s ease-in;\n  transition: opacity 2.5s ease-in;\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.geo-tile-container {\n  position: absolute;\n}\n.geo-tile-container.crop {\n  overflow: hidden;\n}\n',""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,n){"use strict";var i=n(39),r=n(63),o=Object(i.a)("WGS84");function a(t,e,n){var i,o,a;return Array.isArray(n)?(i=Object(r.a)(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):(o=Object(r.a)(t,e,n),2===(a=Object.keys(n)).length?o:(a.forEach(function(t){"x"!==t&&"y"!==t&&(o[t]=n[t])}),o))}function s(t){return t instanceof i.a?t:t.oProj?t.oProj:Object(i.a)(t)}e.a=function(t,e,n){t=s(t);var i,r=!1;return void 0===e?(e=t,t=o,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=o,r=!0),e=s(e),n?a(t,e,n):(i={forward:function(n){return a(t,e,n)},inverse:function(n){return a(e,t,n)}},r&&(i.oProj=e),i)}},function(t,e,n){"use strict";var i=n(58),r=n(60),o=n(59);var a=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];e.a=function(t){return function(t){return"string"==typeof t}(t)?function(t){return t in i.a}(t)?i.a[t]:function(t){return a.some(function(e){return t.indexOf(e)>-1})}(t)?Object(r.a)(t):function(t){return"+"===t[0]}(t)?Object(o.a)(t):void 0:t}},function(t,e,n){"use strict";e.a=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667}},function(t,e,n){"use strict";e.a={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}}},function(t,e,n){"use strict";e.a=function(t){return new u(t).output()};var i=1,r=/\s/,o=/[A-Za-z]/,a=/[A-Za-z84]/,s=/[,\]]/,l=/[\d\.E\-\+]/;function u(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=i}u.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;r.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case i:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},u.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(s.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},u.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=i)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=i,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},u.prototype.number=function(t){if(!l.test(t)){if(s.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},u.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},u.prototype.keyword=function(t){if(a.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=i)}if(!s.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},u.prototype.neutral=function(t){if(o.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(l.test(t))return this.word=t,void(this.state=3);if(!s.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},u.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)}},function(t,e,n){"use strict";function i(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,o=n.reduce(function(t,e){return r(e,t),t},i);e&&(t[e]=o)}function r(t,e){if(Array.isArray(t)){var n,o=t.shift();if("PARAMETER"===o&&(o=t.shift()),1===t.length)return Array.isArray(t[0])?(e[o]={},void r(t[0],e[o])):void(e[o]=t[0]);if(t.length)if("TOWGS84"!==o)switch(Array.isArray(o)||(e[o]={}),o){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[o]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&r(t[2],e[o]));case"SPHEROID":case"ELLIPSOID":return e[o]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&r(t[3],e[o]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void i(e,o,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return r(t,e[o]);return i(e,o,t)}else e[o]=t;else e[o]=!0}else e[t]=!0}e.a=r},function(t,e,n){"use strict";e.a=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t}},function(t,e,n){"use strict";var i=n(61),r=n(62),o=[i.default,r.default],a={},s=[];function l(t,e){var n=s.length;return t.names?(s[n]=t,t.names.forEach(function(t){a[t.toLowerCase()]=n}),this):(console.log(e),!0)}e.a={start:function(){o.forEach(l)},add:l,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==a[e]&&s[a[e]]?s[a[e]]:void 0}}},function(t,e,n){"use strict";e.a=function(t,e,n,r){var o=t*t,a=e*e,s=(o-a)/o,l=0;r?(t*=1-s*(i.m+s*(i.j+s*i.k)),o=t*t,s=0):l=Math.sqrt(s);return{es:s,e:l,ep2:(o-a)/a}},e.b=function(t,e,n,a,s){if(!t){var l=Object(o.a)(r.b,a);l||(l=r.a),t=l.a,e=l.b,n=l.rf}n&&!e&&(e=(1-1/n)*t);(0===n||Math.abs(t-e)<i.b)&&(s=!0,e=t);return{a:t,b:e,rf:n,sphere:s}};var i=n(4),r=n(146),o=n(40)},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var i={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},r=i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}}},function(t,e,n){"use strict";var i=n(4);e.a=function(t,e,n,r,o,a){var s={};return s.datum_type=void 0===t||"none"===t?i.g:i.h,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=i.e),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=i.f,s.datum_params[3]*=i.l,s.datum_params[4]*=i.l,s.datum_params[5]*=i.l,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=n,s.b=r,s.es=o,s.ep2=a,s}},function(t,e,n){"use strict";var i=n(4),r=n(150);function o(t){return t===i.e||t===i.f}e.a=function(t,e,n){return Object(r.a)(t,e)?n:t.datum_type===i.g||e.datum_type===i.g?n:t.es!==e.es||t.a!==e.a||o(t.datum_type)||o(e.datum_type)?(n=Object(r.e)(n,t.es,t.a),o(t.datum_type)&&(n=Object(r.d)(n,t.datum_type,t.datum_params)),o(e.datum_type)&&(n=Object(r.b)(n,e.datum_type,e.datum_params)),Object(r.c)(n,e.es,e.a,e.b)):n}},function(t,e,n){"use strict";e.a=function(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===i.e?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==i.f||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))},e.e=function(t,e,n){var r,o,a,s,l=t.x,u=t.y,c=t.z?t.z:0;if(u<-i.d&&u>-1.001*i.d)u=-i.d;else if(u>i.d&&u<1.001*i.d)u=i.d;else if(u<-i.d||u>i.d)return null;l>Math.PI&&(l-=2*Math.PI);return o=Math.sin(u),s=Math.cos(u),a=o*o,{x:((r=n/Math.sqrt(1-e*a))+c)*s*Math.cos(l),y:(r+c)*s*Math.sin(l),z:(r*(1-e)+c)*o}},e.c=function(t,e,n,r){var o,a,s,l,u,c,h,p,d,f,v,g,m,y,x,_,A=t.x,b=t.y,w=t.z?t.z:0;if(o=Math.sqrt(A*A+b*b),a=Math.sqrt(A*A+b*b+w*w),o/n<1e-12){if(y=0,a/n<1e-12)return x=i.d,_=-r,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(b,A);s=w/a,l=o/a,u=1/Math.sqrt(1-e*(2-e)*l*l),p=l*(1-e)*u,d=s*u,m=0;do{m++,h=n/Math.sqrt(1-e*d*d),c=e*h/(h+(_=o*p+w*d-h*(1-e*d*d))),u=1/Math.sqrt(1-c*(2-c)*l*l),g=(v=s*u)*p-(f=l*(1-c)*u)*d,p=f,d=v}while(g*g>1e-24&&m<30);return x=Math.atan(v/Math.abs(f)),{x:y,y:x,z:_}},e.d=function(t,e,n){if(e===i.e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===i.f){var r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6];return{x:c*(t.x-u*t.y+l*t.z)+r,y:c*(u*t.x+t.y-s*t.z)+o,z:c*(-l*t.x+s*t.y+t.z)+a}}},e.b=function(t,e,n){if(e===i.e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===i.f){var r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=(t.x-r)/c,p=(t.y-o)/c,d=(t.z-a)/c;return{x:h+u*p-l*d,y:-u*h+p+s*d,z:l*h-s*p+d}}};var i=n(4)},function(t,e,n){"use strict";e.a=function(t,e,n){var i,r,o,a=n.x,s=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=a,r="x"):1===o?(i=s,r="y"):(i=l,r="z"),t.axis[o]){case"e":u[r]=i;break;case"w":u[r]=-i;break;case"n":u[r]=i;break;case"s":u[r]=-i;break;case"u":void 0!==n[r]&&(u.z=i);break;case"d":void 0!==n[r]&&(u.z=-i);break;default:return null}return u}},function(t,e,n){"use strict";function i(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}e.a=function(t){i(t.x),i(t.y)}},function(t,e,n){"use strict";var i=n(65);function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}r.fromMGRS=function(t){return new r(Object(i.c)(t))},r.prototype.toMGRS=function(t){return Object(i.b)([this.x,this.y],t)},e.a=r},function(t,e,n){"use strict";var i=n(155);n.n(i);n.o(i,"version")&&n.d(e,"a",function(){return i.version})},function(t,e){t.exports={_args:[["proj4@2.4.4","."]],_development:!0,_from:"proj4@2.4.4",_id:"proj4@2.4.4",_inBundle:!1,_integrity:"sha512-yo6qTpBQXnxhcPopKJeVwwOBRzUpEa3vzSFlr38f5mF4Jnfb6NOL/ePIomefWiZmPgkUblHpcwnWVMB8FS3GKw==",_location:"/proj4",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"proj4@2.4.4",name:"proj4",escapedName:"proj4",rawSpec:"2.4.4",saveSpec:null,fetchSpec:"2.4.4"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.4.4.tgz",_spec:"2.4.4",_where:".",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"1.0.0","wkt-parser":"^1.2.0"},description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"^1.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~1.1.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0","grunt-rollup":"^1.0.1",istanbul:"~0.2.4",mocha:"~1.17.1",rollup:"^0.41.4","rollup-plugin-json":"^2.0.1","rollup-plugin-node-resolve":"^2.0.0",tin:"~0.4.0"},directories:{test:"test",doc:"docs"},homepage:"https://github.com/proj4js/proj4js#readme",license:"MIT",main:"dist/proj4-src.js",module:"lib/index.js",name:"proj4",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{build:"grunt","build:tmerc":"grunt build:tmerc",test:"npm run build && istanbul test _mocha test/test.js"},version:"2.4.4"}},function(t,e,n){"use strict";var i=n(66),r=n(42),o=n(71),a=n(72),s=n(74),l=n(75),u=n(76),c=n(77),h=n(78),p=n(79),d=n(80),f=n(81),v=n(82),g=n(83),m=n(84),y=n(85),x=n(86),_=n(87),A=n(88),b=n(89),w=n(90),O=n(91),S=n(92),M=n(93),T=n(94);e.a=function(t){t.Proj.projections.add(i.default),t.Proj.projections.add(r.default),t.Proj.projections.add(o.default),t.Proj.projections.add(a.default),t.Proj.projections.add(s.default),t.Proj.projections.add(l.default),t.Proj.projections.add(u.default),t.Proj.projections.add(c.default),t.Proj.projections.add(h.default),t.Proj.projections.add(p.default),t.Proj.projections.add(d.default),t.Proj.projections.add(f.default),t.Proj.projections.add(v.default),t.Proj.projections.add(g.default),t.Proj.projections.add(m.default),t.Proj.projections.add(y.default),t.Proj.projections.add(x.default),t.Proj.projections.add(_.default),t.Proj.projections.add(A.default),t.Proj.projections.add(b.default),t.Proj.projections.add(w.default),t.Proj.projections.add(O.default),t.Proj.projections.add(S.default),t.Proj.projections.add(M.default),t.Proj.projections.add(T.default)}},function(t,e,n){"use strict";var i=n(69),r=n(158);e.a=function(t){var e=Math.abs(t);return e=Object(r.a)(e*(1+e/(Object(i.a)(1,e)+1))),t<0?-e:e}},function(t,e,n){"use strict";e.a=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}},function(t,e,n){"use strict";e.a=function(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],a=0;--r>=0;)n=i*o-a+t[r],a=o,o=n;return e+n*Math.sin(2*e)}},function(t,e,n){"use strict";e.a=function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],a=0;--r>=0;)n=i*o-a+t[r],a=o,o=n;return Math.sin(e)*n}},function(t,e,n){"use strict";var i=n(43),r=n(70);e.a=function(t,e,n){for(var o,a,s=Math.sin(e),l=Math.cos(e),u=Object(i.a)(n),c=Object(r.a)(n),h=2*l*c,p=-2*s*u,d=t.length-1,f=t[d],v=0,g=0,m=0;--d>=0;)o=g,a=v,f=h*(g=f)-o-p*(v=m)+t[d],m=p*g-a+h*v;return[(h=s*c)*f-(p=l*u)*m,h*m+p*f]}},function(t,e,n){"use strict";var i=n(5);e.a=function(t,e){if(void 0===t){if((t=Math.floor(30*(Object(i.a)(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}},function(t,e,n){"use strict";e.a=function(t,e){return Math.pow((1-t)/(1+t),e)}},function(t,e,n){"use strict";var i=n(4);e.a=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*i.d:i.d;for(var r,o,a,s,l=Math.asin(.5*e),u=0;u<30;u++)if(o=Math.sin(l),a=Math.cos(l),s=t*o,l+=r=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(r)<=1e-10)return l;return NaN}},function(t,e,n){var i={"./aea.js":81,"./aeqd.js":92,"./cass.js":79,"./cea.js":83,"./eqc.js":84,"./eqdc.js":90,"./equi.js":166,"./etmerc.js":42,"./gauss.js":73,"./gnom.js":82,"./gstmerc.js":167,"./krovak.js":78,"./laea.js":80,"./lcc.js":77,"./longlat.js":62,"./merc.js":61,"./mill.js":87,"./moll.js":89,"./nzmg.js":86,"./omerc.js":76,"./ortho.js":93,"./poly.js":85,"./qsc.js":94,"./sinu.js":88,"./somerc.js":75,"./stere.js":74,"./sterea.js":72,"./tmerc.js":66,"./utm.js":71,"./vandg.js":91};function r(t){return n(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=165},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=r,e.forward=o,e.inverse=a,n.d(e,"names",function(){return s});var i=n(5);function r(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0}function o(t){var e=t.x,n=t.y,r=Object(i.a)(e-this.long0),o=this.x0+this.a*r*Math.cos(this.lat0),a=this.y0+this.a*n;return this.t1=o,this.t2=Math.cos(this.lat0),t.x=o,t.y=a,t}function a(t){t.x-=this.x0,t.y-=this.y0;var e=t.y/this.a,n=Object(i.a)(this.long0+t.x/(this.a*Math.cos(this.lat0)));t.x=n,t.y=e}var s=["equi"];e.default={init:r,forward:o,inverse:a,names:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=s,e.forward=l,e.inverse=u,n.d(e,"names",function(){return c});var i=n(168),r=n(43),o=n(70),a=n(169);function s(){var t=this.b/this.a;this.e=Math.sqrt(1-t*t),this.lc=this.long0,this.rs=Math.sqrt(1+this.e*this.e*Math.pow(Math.cos(this.lat0),4)/(1-this.e*this.e));var e=Math.sin(this.lat0),n=Math.asin(e/this.rs),r=Math.sin(n);this.cp=Object(i.a)(0,n,r)-this.rs*Object(i.a)(this.e,this.lat0,e),this.n2=this.k0*this.a*Math.sqrt(1-this.e*this.e)/(1-this.e*this.e*e*e),this.xs=this.x0,this.ys=this.y0-this.n2*n,this.title||(this.title="Gauss Schreiber transverse mercator")}function l(t){var e=t.x,n=t.y,a=this.rs*(e-this.lc),s=this.cp+this.rs*Object(i.a)(this.e,n,Math.sin(n)),l=Math.asin(Math.sin(a)/Object(o.a)(s)),u=Object(i.a)(0,l,Math.sin(l));return t.x=this.xs+this.n2*u,t.y=this.ys+this.n2*Math.atan(Object(r.a)(s)/Math.cos(a)),t}function u(t){var e=t.x,n=t.y,s=Math.atan(Object(r.a)((e-this.xs)/this.n2)/Math.cos((n-this.ys)/this.n2)),l=Math.asin(Math.sin((n-this.ys)/this.n2)/Object(o.a)((e-this.xs)/this.n2)),u=Object(i.a)(0,l,Math.sin(l));return t.x=this.lc+s/this.rs,t.y=Object(a.a)(this.e,(u-this.cp)/this.rs),t}var c=["gstmerg"];e.default={init:s,forward:l,inverse:u,names:c}},function(t,e,n){"use strict";var i=n(4);e.a=function(t,e,n){if(Math.abs(e)>i.d)return Number.NaN;if(e===i.d)return Number.POSITIVE_INFINITY;if(e===-1*i.d)return Number.NEGATIVE_INFINITY;var r=t*n;return Math.log(Math.tan((i.d+e)/2))+t*Math.log((1-r)/(1+r))/2}},function(t,e,n){"use strict";var i=n(170);e.a=function(t,e){var n=Object(i.a)(1,e),r=0,o=0;do{r=n,o=t*Math.sin(r),n=Object(i.a)(Math.exp(t*Math.log((1+o)/(1-o))/2),e)}while(Math.abs(n-r)>1e-12);return n}},function(t,e,n){"use strict";var i=n(4);e.a=function(t,e){return 2*Math.atan(t*Math.exp(e))-i.d}},function(t,e){var n=function(t,e,n,i,r){var o,a=0;return"boolean"!=typeof e&&(r=i,i=n,n=e,e=void 0),"function"!=typeof i&&(r=i,i=function(){}),function(){var s=this,l=+new Date-a,u=arguments;function c(){a=+new Date,n.apply(s,u)}i.apply(s,u),r&&!o&&c(),o&&clearTimeout(o),void 0===r&&l>t?c():!0!==e&&(o=setTimeout(r?function(){o=void 0}:c,void 0===r?t-l:t))}};t.exports={throttle:n,debounce:function(t,e,i,r){return"boolean"!=typeof e&&(r=i,i=e,e=!1),n(t,!1,i,r=r||function(){},!!e)}}},function(t,e,n){var i,r,o=n(2),a=n(9),s=n(112);t.exports={},t.exports.mockVGLRenderer=function(t){"use strict";var e=n(9);if(void 0===t&&(t=!0),e._mocked)throw new Error("VGL renderer already mocked");var a={},l=function(t){a[t]=(a[t]||0)+1},u=function(t){return function(){l(t)}},c=0,h=function(t){return function(){return l(t),c+=1}},p={activeTexture:u("activeTexture"),attachShader:u("attachShader"),bindAttribLocation:u("bindAttribLocation"),bindBuffer:u("bindBuffer"),bindFramebuffer:u("bindFramebuffer"),bindTexture:u("bindTexture"),blendFuncSeparate:u("blendFuncSeparate"),bufferData:u("bufferData"),bufferSubData:u("bufferSubData"),checkFramebufferStatus:function(t){if(l("checkFramebufferStatus"),t===e.GL.FRAMEBUFFER)return e.GL.FRAMEBUFFER_COMPLETE},clear:u("clear"),clearColor:u("clearColor"),clearDepth:u("clearDepth"),compileShader:u("compileShader"),createBuffer:h("createBuffer"),createFramebuffer:u("createFramebuffer"),createProgram:h("createProgram"),createShader:h("createShader"),createTexture:h("createTexture"),deleteBuffer:u("deleteBuffer"),deleteProgram:u("deleteProgram"),deleteShader:u("deleteShader"),deleteTexture:u("deleteTexture"),depthFunc:u("depthFunc"),disable:u("disable"),disableVertexAttribArray:u("disableVertexAttribArray"),drawArrays:u("drawArrays"),enable:u("enable"),enableVertexAttribArray:u("enableVertexAttribArray"),finish:u("finish"),getExtension:h("getExtension"),getParameter:function(t){if(l("getParameter"),t===e.GL.DEPTH_BITS)return 16},getProgramParameter:function(t,n){if(l("getProgramParameter"),n===e.GL.LINK_STATUS)return!0},getShaderInfoLog:function(){return l("getShaderInfoLog"),"log"},getShaderParameter:function(t,n){if(l("getShaderParameter"),n===e.GL.COMPILE_STATUS)return!0},getUniformLocation:h("getUniformLocation"),isEnabled:function(t){if(l("isEnabled"),t===e.GL.BLEND)return!0},linkProgram:u("linkProgram"),pixelStorei:u("pixelStorei"),shaderSource:u("shaderSource"),texImage2D:u("texImage2D"),texParameteri:u("texParameteri"),uniform1iv:u("uniform1iv"),uniform1fv:u("uniform1fv"),uniform2fv:u("uniform2fv"),uniform3fv:u("uniform3fv"),uniform4fv:u("uniform4fv"),uniformMatrix3fv:u("uniformMatrix3fv"),uniformMatrix4fv:u("uniformMatrix4fv"),useProgram:u("useProgram"),vertexAttribPointer:u("vertexAttribPointer"),vertexAttrib3fv:u("vertexAttrib3fv"),viewport:u("viewport")};i=e.renderWindow;var d=function(){e.renderWindow=i;var t,n=new e.renderWindow;return e.renderWindow=d,n._setup=function(){var e,i=n.renderers(),r=n.windowSize(),a=n.windowPosition();for(t=o.extend({},p),e=0;e<i.length;e+=1)(i[e].width()>r[0]||0===i[e].width()||i[e].height()>r[1]||0===i[e].height())&&i[e].resize(a[0],a[1],r[0],r[1]);return!0},n.context=function(){return t},n};e.renderWindow=d,r=s.supported,s.supported=function(){return!!t},e._mocked=!0,e.mockCounts=function(){return a}},t.exports.restoreVGLRenderer=function(){a._mocked&&(a.renderWindow=i,s.supported=r,delete a._mocked,delete a.mockCounts)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i,r=n(47),o=n(96),a=n(99),s=n(2);!function(n,l){void 0===(i=function(){return n.vgl=function(){if(void 0===t)var t={};t.namespace=function(e){"use strict";var n,i=e.split("."),r=t;for("ogs"===i[0]&&(i=i.slice(1)),n=0;n<i.length;n+=1)void 0===r[i[n]]&&(r[i[n]]={}),r=r[i[n]];return r};var e=t.namespace("gl");window.vgl=e,e.inherit=function(t,e){"use strict";var n=inherit.func();n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},e.inherit.func=function(){"use strict";return function(){}},window.inherit=e.inherit,Object.size=function(t){"use strict";var e,n=0;for(e in t)t.hasOwnProperty(e)&&(n+=1);return n},Math.log2||(Math.log2=function(t){return Math.log(t)/Math.log(2)});e.version="0.3.10",e.GL={ACTIVE_ATTRIBUTES:35721,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB565:36194,RGB5_A1:32855,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE2:33986,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE3:33987,TEXTURE30:34014,TEXTURE31:34015,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0};var n=0;e.timestamp=function(){"use strict";if(!(this instanceof e.timestamp))return new e.timestamp;var t=0;this.modified=function(){t=n+=1},this.getMTime=function(){return t}},e.object=function(){"use strict";if(!(this instanceof e.object))return new e.object;var t=e.timestamp();return t.modified(),this.modified=function(){t.modified()},this.getMTime=function(){return t.getMTime()},this},e.event=function(){"use strict";return this instanceof e.event?(e.object.call(this),this):new e.event},inherit(e.event,e.object),e.event.keyPress="vgl.event.keyPress",e.event.mousePress="vgl.event.mousePress",e.event.mouseRelease="vgl.event.mouseRelease",e.event.contextMenu="vgl.event.contextMenu",e.event.configure="vgl.event.configure",e.event.enable="vgl.event.enable",e.event.mouseWheel="vgl.event.mouseWheel",e.event.keyRelease="vgl.event.keyRelease",e.event.middleButtonPress="vgl.event.middleButtonPress",e.event.startInteraction="vgl.event.startInteraction",e.event.enter="vgl.event.enter",e.event.rightButtonPress="vgl.event.rightButtonPress",e.event.middleButtonRelease="vgl.event.middleButtonRelease",e.event.char="vgl.event.char",e.event.disable="vgl.event.disable",e.event.endInteraction="vgl.event.endInteraction",e.event.mouseMove="vgl.event.mouseMove",e.event.mouseOut="vgl.event.mouseOut",e.event.expose="vgl.event.expose",e.event.timer="vgl.event.timer",e.event.leftButtonPress="vgl.event.leftButtonPress",e.event.leave="vgl.event.leave",e.event.rightButtonRelease="vgl.event.rightButtonRelease",e.event.leftButtonRelease="vgl.event.leftButtonRelease",e.event.click="vgl.event.click",e.event.dblClick="vgl.event.dblClick",e.boundingObject=function(){"use strict";if(!(this instanceof e.boundingObject))return new e.boundingObject;e.object.call(this);var t=[0,0,0,0,0,0],n=e.timestamp(),i=e.timestamp();return n.modified(),i.modified(),this.bounds=function(){return t},this.hasValidBounds=function(t){return t[0]!==Number.MAX_VALUE&&t[1]!==-Number.MAX_VALUE&&t[2]!==Number.MAX_VALUE&&t[3]!==-Number.MAX_VALUE&&t[4]!==Number.MAX_VALUE&&t[5]!==-Number.MAX_VALUE},this.setBounds=function(e,i,r,o,a,s){if(this.hasValidBounds([e,i,r,o,a,s]))return t[0]=e,t[1]=i,t[2]=r,t[3]=o,t[4]=a,t[5]=s,this.modified(),n.modified(),!0},this.resetBounds=function(){t[0]=Number.MAX_VALUE,t[1]=-Number.MAX_VALUE,t[2]=Number.MAX_VALUE,t[3]=-Number.MAX_VALUE,t[4]=Number.MAX_VALUE,t[5]=-Number.MAX_VALUE,this.modified()},this.computeBounds=function(){},this.computeBoundsTimestamp=function(){return n},this.boundsDirtyTimestamp=function(){return i},this.resetBounds(),this},e.boundingObject.ReferenceFrame={Relative:0,Absolute:1},inherit(e.boundingObject,e.object),e.node=function(){"use strict";if(!(this instanceof e.node))return new e.node;e.boundingObject.call(this);var t=null,n=null,i=!0,r=!1;return this.accept=function(t){t.visit(this)},this.material=function(){return n},this.setMaterial=function(t){return t!==n&&(n=t,this.modified(),!0)},this.visible=function(){return i},this.setVisible=function(t){return t!==i&&(i=t,this.modified(),!0)},this.parent=function(){return t},this.setParent=function(e){return e!==t&&(null!==t&&t.removeChild(this),t=e,this.modified(),!0)},this.overlay=function(){return r},this.setOverlay=function(t){return r!==t&&(r=t,this.modified(),!0)},this.ascend=function(t){t=t},this.traverse=function(t){t=t},this.boundsModified=function(){this.boundsDirtyTimestamp().modified(),null!==t&&t.boundsModified()},this},inherit(e.node,e.boundingObject),e.groupNode=function(){"use strict";if(!(this instanceof e.groupNode))return new e.groupNode;e.node.call(this);var t=[];return this.b_setVisible=this.setVisible,this.setVisible=function(e){var n;if(!0!==this.b_setVisible(e))return!1;for(n=0;n<t.length;n+=1)t[n].setVisible(e);return!0},this.addChild=function(n){return n instanceof e.node&&(-1===t.indexOf(n)&&(n.setParent(this),t.push(n),this.boundsDirtyTimestamp().modified(),!0))},this.removeChild=function(e){if(e.parent()===this){var n=t.indexOf(e);if(n>=0)return t.splice(n,1),e.setParent(null),this.boundsDirtyTimestamp().modified(),!0}},this.removeChildren=function(){for(;t.length;)this.removeChild(t[0]);this.modified()},this.children=function(){return t},this.hasChild=function(e){var n=0,i=!1;for(n=0;n<t.length;n+=1)if(t[n]===e){i=!0;break}return i},this.accept=function(t){t.visit(this)},this.traverse=function(t){switch(t.type()){case t.UpdateVisitor:this.traverseChildrenAndUpdateBounds(t);break;case t.CullVisitor:this.traverseChildren(t)}},this.traverseChildrenAndUpdateBounds=function(e){var n;if(this.parent()&&this.boundsDirtyTimestamp().getMTime()>this.computeBoundsTimestamp().getMTime()&&this.parent().boundsDirtyTimestamp().modified(),this.computeBounds(),e.mode()===e.TraverseAllChildren)for(n=0;n<t.length;n+=1)t[n].accept(e),this.updateBounds(t[n]);this.computeBoundsTimestamp().modified()},this.traverseChildren=function(e){var n;if(e.mode()===e.TraverseAllChildren)for(n=0;n<t.length;n+=1)t[n].accept(e)},this.computeBounds=function(){var e=0;if(!(this.computeBoundsTimestamp().getMTime()>this.boundsDirtyTimestamp().getMTime()))for(e=0;e<t.length;e+=1)this.updateBounds(t[e])},this.updateBounds=function(t){if(!t.overlay()){t.computeBounds();var e,n=this.bounds(),i=t.bounds(),r=0,o=0;for(e=0;e<3;e+=1)o=2*e+1,i[r=2*e]<n[r]&&(n[r]=i[r]),i[o]>n[o]&&(n[o]=i[o]);this.setBounds(n[0],n[1],n[2],n[3],n[4],n[5])}},this},inherit(e.groupNode,e.node),e.actor=function(){"use strict";if(!(this instanceof e.actor))return new e.actor;e.node.call(this);var t=this,n=r.create(),i=e.boundingObject.ReferenceFrame.Relative,o=null;return this.matrix=function(){return n},this.setMatrix=function(e){e!==n&&(n=e,t.modified())},this.referenceFrame=function(){return i},this.setReferenceFrame=function(e){return e!==i&&(i=e,t.modified(),!0)},this.mapper=function(){return o},this.setMapper=function(e){e!==o&&(o=e,t.boundsModified())},this.accept=function(t){t=t},this.ascend=function(t){t=t},this.computeLocalToWorldMatrix=function(t,e){t=t,e=e},this.computeWorldToLocalMatrix=function(t,e){t=t,e=e},this.computeBounds=function(){if(null!==o&&void 0!==o){var e,i,r,s,l=t.computeBoundsTimestamp();(t.boundsDirtyTimestamp().getMTime()>l.getMTime()||o.boundsDirtyTimestamp().getMTime()>l.getMTime())&&(o.computeBounds(),e=o.bounds(),i=[e[0],e[2],e[4]],r=[e[1],e[3],e[5]],a.transformMat4(i,i,n),a.transformMat4(r,r,n),s=[i[0]>r[0]?r[0]:i[0],i[0]>r[0]?i[0]:r[0],i[1]>r[1]?r[1]:i[1],i[1]>r[1]?i[1]:r[1],i[2]>r[2]?r[2]:i[2],i[2]>r[2]?i[2]:r[2]],t.setBounds(s[0],s[1],s[2],s[3],s[4],s[5]),l.modified())}else t.resetBounds()},t},inherit(e.actor,e.node),e.freezeObject=function(t){"use strict";var e=Object.freeze?Object.freeze(t):void 0;return void 0===e?t:e},e.defaultValue=function(t,e){"use strict";return void 0!==t?t:e},e.defaultValue.EMPTY_OBJECT=e.freezeObject({}),e.graphicsObject=function(t){"use strict";if(t=t,!(this instanceof e.graphicsObject))return new e.graphicsObject;e.object.call(this);var n=this;return this._setup=function(t){return t=t,!1},this._cleanup=function(t){return t=t,!1},this.bind=function(t){return t=t,!1},this.undoBind=function(t){return t=t,!1},this.render=function(t){return t=t,!1},this.remove=function(t){n._cleanup(t)},n},inherit(e.graphicsObject,e.object),e.geojsonReader=function(){"use strict";return this instanceof e.geojsonReader?(this.readScalars=function(t,n,i,r){var o=null,a=null,s=null,l=null,u=null;"values"===this.m_scalarFormat&&4===t.length?(a=t[3],(o=n.sourceData(e.vertexAttributeKeys.Scalar))||(o=new e.sourceDataSf,this.m_scalarRange&&o.setScalarRange(this.m_scalarRange[0],this.m_scalarRange[1]),void 0!==i&&(o.data().length=i),n.addSource(o)),void 0===i?o.pushBack(a):o.insertAt(r,a)):"rgb"===this.m_scalarFormat&&6===t.length&&((o=n.sourceData(e.vertexAttributeKeys.Color))||(o=new e.sourceDataC3fv,void 0!==i&&(o.length=3*i),n.addSource(o)),s=t[3],l=t[4],u=t[5],void 0===i?o.pushBack([s,l,u]):o.insertAt(r,[s,l,u]))},this.readPoint=function(t){var n=new e.geometryData,i=new e.points,r=new e.sourceDataP3fv,o=new Uint16Array(1),a=null,s=null,l=null,u=null;for(n.addSource(r),u=0;u<1;u+=1)o[u]=u,a=t[0],s=t[1],l=0,t.length>2&&(l=t[2]),r.pushBack([a,s,l]),this.readScalars(t,n);return i.setIndices(o),n.addPrimitive(i),n.setName("aPoint"),n},this.readMultiPoint=function(t){var n,i=new e.geometryData,r=new e.points,o=new e.sourceDataP3fv,a=new Uint16Array(t.length),s=0,l=t.length,u=null,c=null,h=null;for(o.data().length=3*l,n=0;n<t.length;n+=1)a[n]=n,u=t[n][0],c=t[n][1],h=0,t[n].length>2&&(h=t[n][2]),o.insertAt(s,[u,c,h]),this.readScalars(t[n],i,l,s),s+=1;return r.setIndices(a),i.addPrimitive(r),i.addSource(o),i.setName("manyPoints"),i},this.readLineString=function(t){var n=new e.geometryData,i=new e.lineStrip,r=new e.sourceDataP3fv,o=[],a=null,s=null,l=null,u=null;for(i.setIndicesPerPrimitive(t.length),a=0;a<t.length;a+=1)o.push(a),s=t[a][0],l=t[a][1],u=0,t[a].length>2&&(u=t[a][2]),r.pushBack([s,l,u]),this.readScalars(t[a],n);return i.setIndices(o),n.addPrimitive(i),n.addSource(r),n.setName("aLineString"),n},this.readMultiLineString=function(t){var n=new e.geometryData,i=new e.sourceDataP3fv,r=0,o=2*t.length,a=null,s=null,l=null,u=null,c=null,h=null,p=null,d=null;for(i.data().length=3*o,s=0;s<t.length;s+=1){for(h=[],p=new e.lineStrip,d=t[s].length,p.setIndicesPerPrimitive(d),a=0;a<d;a+=1)h.push(r),l=t[s][a][0],u=t[s][a][1],c=0,t[s][a].length>2&&(c=t[s][a][2]),i.insertAt(r,[l,u,c]),this.readScalars(t[s][a],n,2*o,r),r+=1;p.setIndices(h),n.addPrimitive(p)}return n.setName("aMultiLineString"),n.addSource(i),n},this.readPolygon=function(t){var n=new e.geometryData,i=new e.sourceDataP3fv,r=null,o=null,a=null,s=t[0].length,l=1,u=null,c=null,h=null;for(u=0;u<s;u+=1)r=t[0][u][0],o=t[0][u][1],a=0,t[0][u].length>2&&(a=t[0][u][2]),i.pushBack([r,o,a]),this.readScalars(t[0][u],n),u>1&&(c=new Uint16Array([0,l,u]),(h=new e.triangles).setIndices(c),n.addPrimitive(h),l=u);return n.setName("POLY"),n.addSource(i),n},this.readMultiPolygon=function(t){var n=new e.geometryData,i=new e.sourceDataP3fv,r=0,o=t.length,a=0,s=3*o,l=new e.triangles,u=[],c=null,h=null,p=null,d=null,f=null,v=null,g=null,m=null,y=null,x=!1,_=0;for(i.data().length=3*o,h=0;h<o;h+=1)for(v=t[h][0].length,g=r,m=r+1,y=[!1,!1,!1],c=0;c<v;c+=1)p=t[h][0][c][0],d=t[h][0][c][1],f=0,t[h][0][c].length>2&&(f=t[h][0][c][2]),x=!1,p>180&&(x=!0,p-=360),0===c?y[0]=x:y[1+(c-1)%2]=x,i.insertAt(a,[p,d,f]),this.readScalars(t[h][0][c],n,s,a),a+=1,c>1&&(y[0]===y[1]&&y[1]===y[2]&&(u[3*_+0]=g,u[3*_+1]=m,u[3*_+2]=r,_+=1),m=r),r+=1;return l.setIndices(u),n.addPrimitive(l),n.setName("aMultiPoly"),n.addSource(i),n},this.readGJObjectInt=function(t){if(!t.hasOwnProperty("type"))return null;t.properties&&t.properties.ScalarFormat&&"values"===t.properties.ScalarFormat&&(this.m_scalarFormat="values",t.properties.ScalarRange&&(this.m_scalarRange=t.properties.ScalarRange)),t.properties&&t.properties.ScalarFormat&&"rgb"===t.properties.ScalarFormat&&(this.m_scalarFormat="rgb");var e,n=t.type,i=null,r=null,o=null;switch(n){case"Point":e=this.readPoint(t.coordinates);break;case"MultiPoint":e=this.readMultiPoint(t.coordinates);break;case"LineString":e=this.readLineString(t.coordinates);break;case"MultiLineString":e=this.readMultiLineString(t.coordinates);break;case"Polygon":e=this.readPolygon(t.coordinates);break;case"MultiPolygon":e=this.readMultiPolygon(t.coordinates);break;case"GeometryCollection":for(r=[],o=0;o<t.geometries.length;o+=1)i=this.readGJObject(t.geometries[o]),r.push(i);e=r;break;case"Feature":i=this.readGJObject(t.geometry),e=i;break;case"FeatureCollection":for(r=[],o=0;o<t.features.length;o+=1)i=this.readGJObject(t.features[o]),r.push(i);e=r;break;default:console.log("Don't understand type "+n),e=null}return e},this.readGJObject=function(t){return this.readGJObjectInt(t)},this.linearizeGeoms=function(t,e){var n=null;if("[object Array]"===Object.prototype.toString.call(e))for(n=0;n<e.length;n+=1)this.linearizeGeoms(t,e[n]);else t.push(e)},this.readGeomObject=function(t){var e,n=[];return e=this.readGJObject(t),this.linearizeGeoms(n,e),n},this.getPrimitives=function(t){if(!t)return[];var e=JSON.parse(t),n=this.readGJObject(e),i=[];return this.m_scalarFormat="none",this.m_scalarRange=null,this.linearizeGeoms(i,n),{geoms:i,scalarFormat:this.m_scalarFormat,scalarRange:this.m_scalarRange}},this):new e.geojsonReader},e.data=function(){"use strict";if(!(this instanceof e.data))return new e.data;this.type=function(){}},e.data.raster=0,e.data.point=1,e.data.lineString=2,e.data.polygon=3,e.data.geometry=10,e.primitive=function(){"use strict";if(!(this instanceof e.primitive))return new e.primitive;var t=0,n=0,i=0,r=null;return this.indices=function(){return r},this.createIndices=function(t){r=new Uint16Array},this.numberOfIndices=function(){return r.length},this.sizeInBytes=function(){return r.length*Uint16Array.BYTES_PER_ELEMENT},this.primitiveType=function(){return n},this.setPrimitiveType=function(t){n=t},this.indicesPerPrimitive=function(){return t},this.setIndicesPerPrimitive=function(e){t=e},this.indicesValueType=function(){return i},this.setIndicesValueType=function(t){i=t},this.setIndices=function(t){r=new Uint16Array(t)},this},e.triangleStrip=function(){"use strict";return this instanceof e.triangleStrip?(e.primitive.call(this),this.setPrimitiveType(e.GL.TRIANGLE_STRIP),this.setIndicesValueType(e.GL.UNSIGNED_SHORT),this.setIndicesPerPrimitive(3),this):new e.triangleStrip},inherit(e.triangleStrip,e.primitive),e.triangles=function(){"use strict";return this instanceof e.triangles?(e.primitive.call(this),this.setPrimitiveType(e.GL.TRIANGLES),this.setIndicesValueType(e.GL.UNSIGNED_SHORT),this.setIndicesPerPrimitive(3),this):new e.triangles},inherit(e.triangles,e.primitive),e.lines=function(){"use strict";return this instanceof e.lines?(e.primitive.call(this),this.setPrimitiveType(e.GL.LINES),this.setIndicesValueType(e.GL.UNSIGNED_SHORT),this.setIndicesPerPrimitive(2),this):new e.lines},inherit(e.lines,e.primitive),e.lineStrip=function(){"use strict";return this instanceof e.lineStrip?(e.primitive.call(this),this.setPrimitiveType(e.GL.LINE_STRIP),this.setIndicesValueType(e.GL.UNSIGNED_SHORT),this.setIndicesPerPrimitive(2),this):new e.lineStrip},inherit(e.lineStrip,e.primitive),e.points=function(){"use strict";return this instanceof e.points?(e.primitive.call(this),this.setPrimitiveType(e.GL.POINTS),this.setIndicesValueType(e.GL.UNSIGNED_SHORT),this.setIndicesPerPrimitive(1),this):new e.points},inherit(e.points,e.primitive),e.vertexDataP3f=function(){"use strict";return this instanceof e.vertexDataP3f?(this.m_position=[],this):new e.vertexDataP3f},e.vertexDataP3N3f=function(){"use strict";return this instanceof e.vertexDataP3N3f?(this.m_position=[],this.m_normal=[],this):new e.vertexDataP3N3f},e.vertexDataP3T3f=function(){"use strict";return this instanceof e.vertexDataP3T3f?(this.m_position=[],this.m_texCoordinate=[],this):new e.vertexDataP3T3f},e.sourceData=function(t){"use strict";if(!(this instanceof e.sourceData))return new e.sourceData(t);var n={},i=[],r=(t=t||{}).name||"Source "+(new Date).toISOString();return this.data=function(){return i},this.getData=function(){return this.data()},this.dataToFloat32Array=function(){return i instanceof Float32Array||(i=new Float32Array(i)),i},this.setData=function(t){t instanceof Array||t instanceof Float32Array?i=t instanceof Float32Array?t:t.slice(0):console.log("[error] Requires array")},this.addAttribute=function(t,e,i,r,o,a,s){if(!n.hasOwnProperty(t)){var l=new function(){this.m_numberOfComponents=0,this.m_dataType=0,this.m_dataTypeSize=0,this.m_normalized=!1,this.m_stride=0,this.m_offset=0};l.m_dataType=e,l.m_dataTypeSize=i,l.m_offset=r,l.m_stride=o,l.m_numberOfComponents=a,l.m_normalized=s,n[t]=l}},this.sizeOfArray=function(){return Object.size(i)},this.lengthOfArray=function(){return i.length},this.sizeInBytes=function(){var t,e=0,n=this.keys();for(t=0;t<n.length;t+=1)e+=this.attributeNumberOfComponents(n[t])*this.sizeOfAttributeDataType(n[t]);return e*=this.sizeOfArray()},this.hasKey=function(t){return n.hasOwnProperty(t)},this.keys=function(){return Object.keys(n)},this.numberOfAttributes=function(){return Object.size(n)},this.attributeNumberOfComponents=function(t){return n.hasOwnProperty(t)?n[t].m_numberOfComponents:0},this.normalized=function(t){return!!n.hasOwnProperty(t)&&n[t].m_normalized},this.sizeOfAttributeDataType=function(t){return n.hasOwnProperty(t)?n[t].m_dataTypeSize:0},this.attributeDataType=function(t){if(n.hasOwnProperty(t))return n[t].m_dataType},this.attributeOffset=function(t){return n.hasOwnProperty(t)?n[t].m_offset:0},this.attributeStride=function(t){return n.hasOwnProperty(t)?n[t].m_stride:0},this.pushBack=function(t){},this.insert=function(t){var e;if(!i.length&&t.length&&t instanceof Float32Array)i=t;else if(i.slice||!i.length&&t.slice||(i=Array.prototype.slice.call(i)),t.length)if(!i.length&&t.slice)i=t.slice(0);else for(e=0;e<t.length;e+=1)i[i.length]=t[e];else i[i.length]=t},this.insertAt=function(t,e){var n;if(e.length)for(n=0;n<e.length;n+=1)i[t*e.length+n]=e[n];else i[t]=e},this.name=function(){return r},this.setName=function(t){r=t},this},e.sourceDataAnyfv=function(t,n,i){"use strict";return this instanceof e.sourceDataAnyfv?(e.sourceData.call(this,i),this.addAttribute(n,e.GL.FLOAT,4,0,4*t,t,!1),this.pushBack=function(t){this.insert(t)},this):new e.sourceDataAnyfv(t,n,i)},inherit(e.sourceDataAnyfv,e.sourceData),e.sourceDataP3T3f=function(t){"use strict";return this instanceof e.sourceDataP3T3f?(e.sourceData.call(this,t),this.addAttribute(e.vertexAttributeKeys.Position,e.GL.FLOAT,4,0,24,3,!1),this.addAttribute(e.vertexAttributeKeys.TextureCoordinate,e.GL.FLOAT,4,12,24,3,!1),this.pushBack=function(t){this.insert(t.m_position),this.insert(t.m_texCoordinate)},this):new e.sourceDataP3T3f(t)},inherit(e.sourceDataP3T3f,e.sourceData),e.sourceDataP3N3f=function(t){"use strict";return this instanceof e.sourceDataP3N3f?(e.sourceData.call(this,t),this.addAttribute(e.vertexAttributeKeys.Position,e.GL.FLOAT,4,0,24,3,!1),this.addAttribute(e.vertexAttributeKeys.Normal,e.GL.FLOAT,4,12,24,3,!1),this.pushBack=function(t){this.insert(t.m_position),this.insert(t.m_normal)},this):new e.sourceDataP3N3f(t)},inherit(e.sourceDataP3N3f,e.sourceData),e.sourceDataP3fv=function(t){"use strict";return this instanceof e.sourceDataP3fv?(e.sourceData.call(this,t),this.addAttribute(e.vertexAttributeKeys.Position,e.GL.FLOAT,4,0,12,3,!1),this.pushBack=function(t){this.insert(t)},this):new e.sourceDataP3fv(t)},inherit(e.sourceDataP3fv,e.sourceData),e.sourceDataT2fv=function(t){"use strict";return this instanceof e.sourceDataT2fv?(e.sourceData.call(this,t),this.addAttribute(e.vertexAttributeKeys.TextureCoordinate,e.GL.FLOAT,4,0,8,2,!1),this.pushBack=function(t){this.insert(t)},this):new e.sourceDataT2fv(t)},inherit(e.sourceDataT2fv,e.sourceData),e.sourceDataC3fv=function(t){"use strict";return this instanceof e.sourceDataC3fv?(e.sourceData.call(this,t),this.addAttribute(e.vertexAttributeKeys.Color,e.GL.FLOAT,4,0,12,3,!1),this.pushBack=function(t){this.insert(t)},this):new e.sourceDataC3fv(t)},inherit(e.sourceDataC3fv,e.sourceData),e.sourceDataSf=function(t){"use strict";if(!(this instanceof e.sourceDataSf))return new e.sourceDataSf(t);var n=null,i=null,r=null,o=null;return e.sourceData.call(this,t),this.addAttribute(e.vertexAttributeKeys.Scalar,e.GL.FLOAT,4,0,4,1,!1),this.pushBack=function(t){(null===i||t>i)&&(i=t),(null===n||t<n)&&(n=t),this.data()[this.data().length]=t},this.insertAt=function(t,e){(null===i||e>i)&&(i=e),(null===n||e<n)&&(n=e),this.data()[t]=e},this.scalarRange=function(){return null===r||null===o?[n,i]:[r,o]},this.setScalarRange=function(t,e){r=t,o=e},this},inherit(e.sourceDataSf,e.sourceData),e.sourceDataDf=function(t){"use strict";return this instanceof e.sourceDataDf?(e.sourceData.call(this,t),this.addAttribute(e.vertexAttributeKeys.Scalar,e.GL.FLOAT,4,0,4,1,!1),this.pushBack=function(t){this.data()[this.data().length]=t},this.insertAt=function(t,e){this.data()[t]=e},this):new e.sourceDataDf(t)},inherit(e.sourceDataDf,e.sourceData),e.geometryData=function(){"use strict";if(!(this instanceof e.geometryData))return new e.geometryData;e.data.call(this);var t="",n=[],i=[],r=[0,0,0,0,0,0],o=e.timestamp(),a=e.timestamp();return this.type=function(){return e.data.geometry},this.name=function(){return t},this.setName=function(e){t=e},this.addSource=function(t,n){return void 0!==n&&t.setName(n),-1===i.indexOf(t)&&(i.push(t),t.hasKey(e.vertexAttributeKeys.Position)&&a.modified(),!0)},this.source=function(t){return t<i.length?i[t]:0},this.sourceByName=function(t){for(var e=0;e<i.length;e+=1)if(i[e].name()===t)return i[e];return 0},this.numberOfSources=function(){return i.length},this.sourceData=function(t){var e;for(e=0;e<i.length;e+=1)if(i[e].hasKey(t))return i[e];return null},this.addPrimitive=function(t){return n.push(t),!0},this.primitive=function(t){return t<n.length?n[t]:null},this.numberOfPrimitives=function(){return n.length},this.bounds=function(){return a.getMTime()>o.getMTime()&&this.computeBounds(),r},this.boundsDirty=function(t){return t&&a.modified(),a.getMTime()>o.getMTime()},this.resetBounds=function(){r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=0},this.setBounds=function(t,e,n,i,a,s){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r[4]=a,r[5]=s,o.modified(),!0},this.computeBounds=function(){if(a.getMTime()>o.getMTime()){var t,n,i,s,l,u,c=e.vertexAttributeKeys.Position,h=this.sourceData(c),p=h.data(),d=h.attributeNumberOfComponents(c),f=h.attributeStride(c),v=h.attributeOffset(c),g=h.sizeOfAttributeDataType(c),m=p.length,y=null;for(f/=g,v/=g,this.resetBounds(),t=0;t<d;t+=1){for(n=2*t,i=2*t+1,s=l=m?r[i]=p[v+t]:0,u=v+f+t;u<m;u+=f)(y=p[u])>s&&(s=y),y<l&&(l=y);r[n]=l,r[i]=s}o.modified()}},this.findClosestVertex=function(t){var n,i,r,o,a,s,l,u=e.vertexAttributeKeys.Position,c=this.sourceData(u),h=c.sizeOfAttributeDataType(u),p=c.attributeNumberOfComponents(u),d=c.data(),f=c.attributeStride(u)/h,v=c.attributeOffset(u)/h,g=Number.MAX_VALUE,m=null;for(3!==p&&console.log("[warning] Find closest vertex assumes threecomponent vertex "),t.z||(t={x:t.x,y:t.y,z:0}),n=v,l=0;n<d.length;n+=f,l+=1)i=[d[n],d[n+1],d[n+2]],r=i[0]-t.x,o=i[1]-t.y,a=i[2]-t.z,(s=Math.sqrt(r*r+o*o+a*a))<g&&(g=s,m=l);return m},this.getPosition=function(t){var n=e.vertexAttributeKeys.Position,i=this.sourceData(n),r=i.sizeOfAttributeDataType(n),o=i.attributeNumberOfComponents(n),a=i.data(),s=i.attributeStride(n)/r,l=i.attributeOffset(n)/r;return 3!==o&&console.log("[warning] getPosition assumes three component data"),[a[l+t*s],a[l+t*s+1],a[l+t*s+2]]},this.getScalar=function(t){var n,i,r,o,a=e.vertexAttributeKeys.Scalar,s=this.sourceData(a);return s?(n=s.sizeOfAttributeDataType(a),i=s.data(),r=s.attributeStride(a)/n,o=s.attributeOffset(a)/n,t*r+o>=i.length&&console.log("access out of bounds in getScalar"),i[t*r+o]):null},this},inherit(e.geometryData,e.data),e.mapper=function(t){"use strict";if(!(this instanceof e.mapper))return new e.mapper(t);e.boundingObject.call(this);var n=[0,1,1],i=null,r=[],o={},a=void 0!==(t=t||{}).dynamicDraw&&t.dynamicDraw,s=e.timestamp(),l=null,u=this;function c(t){u.deleteVertexBufferObjects(t),o={},r=[],function(t){if(i){t&&(l=t.m_context);var n,u,c,h,p,d,f,v=i.numberOfSources(),g=null;for(n=0;n<v;n+=1){for(g=l.createBuffer(),l.bindBuffer(e.GL.ARRAY_BUFFER,g),(f=i.source(n).data())instanceof Float32Array||(f=new Float32Array(f)),l.bufferData(e.GL.ARRAY_BUFFER,f,a?e.GL.DYNAMIC_DRAW:e.GL.STATIC_DRAW),h=i.source(n).keys(),p=[],u=0;u<h.length;u+=1)p.push(h[u]);o[n]=p,r[n]=g}for(d=i.numberOfPrimitives(),c=0;c<d;c+=1)g=l.createBuffer(),l.bindBuffer(e.GL.ARRAY_BUFFER,g),l.bufferData(e.GL.ARRAY_BUFFER,i.primitive(c).indices(),e.GL.STATIC_DRAW),r[n]=g,n+=1;s.modified()}}(t)}return this.deleteVertexBufferObjects=function(t){var e,n=l;if(t&&(n=t.m_context),n)for(e=0;e<r.length;e+=1)n.deleteBuffer(r[e])},this.computeBounds=function(){if(null!==i&&void 0!==i){var t=this.computeBoundsTimestamp(),e=this.boundsDirtyTimestamp(),n=null;e.getMTime()>t.getMTime()&&(n=i.bounds(),this.setBounds(n[0],n[1],n[2],n[3],n[4],n[5]),t.modified())}else this.resetBounds()},this.color=function(){return n},this.setColor=function(t,e,i){n[0]=t,n[1]=e,n[2]=i,this.modified()},this.geometryData=function(){return i},this.setGeometryData=function(t){i!==t&&(i=t,this.modified(),this.boundsDirtyTimestamp().modified())},this.updateSourceBuffer=function(t,n,o){if(o&&(l=o.m_context),!l)return!1;for(var a=-1,s=0;s<i.numberOfSources();s+=1)if(i.source(s).name()===t){a=s;break}return!(a<0||a>=r.length)&&(n||(n=i.source(s).dataToFloat32Array()),l.bindBuffer(e.GL.ARRAY_BUFFER,r[a]),n instanceof Float32Array?l.bufferSubData(e.GL.ARRAY_BUFFER,0,n):l.bufferSubData(e.GL.ARRAY_BUFFER,0,new Float32Array(n)),!0)},this.getSourceBuffer=function(t){var e=i.sourceByName(t);return e?e.dataToFloat32Array():new Float32Array},this.render=function(t,n){(this.getMTime()>s.getMTime()||t.m_contextChanged)&&c(t),(l=t.m_context).vertexAttrib3fv(e.vertexAttributeKeys.Color,this.color());var a,u=0,h=0,p=null,d=null;for(a in o)if(o.hasOwnProperty(a)){for(l.bindBuffer(e.GL.ARRAY_BUFFER,r[u]),h=0;h<o[a].length;h+=1)t.m_material.bindVertexData(t,o[a][h]);u+=1}for(p=i.numberOfPrimitives(),h=0;h<p;h+=1,u+=1)if((d=i.primitive(h)).numberOfIndices()){switch(l.bindBuffer(e.GL.ARRAY_BUFFER,r[u]),d.primitiveType()){case e.GL.POINTS:l.drawArrays(e.GL.POINTS,0,d.numberOfIndices());break;case e.GL.LINES:l.drawArrays(e.GL.LINES,0,d.numberOfIndices());break;case e.GL.LINE_STRIP:l.drawArrays(e.GL.LINE_STRIP,0,d.numberOfIndices());break;case e.GL.TRIANGLES:l.drawArrays(e.GL.TRIANGLES,0,d.numberOfIndices());break;case e.GL.TRIANGLE_STRIP:l.drawArrays(e.GL.TRIANGLE_STRIP,0,d.numberOfIndices())}l.bindBuffer(e.GL.ARRAY_BUFFER,null)}n||this.undoBindVertexData(t)},this.undoBindVertexData=function(t){var e,n;for(e in o)if(o.hasOwnProperty(e))for(n=0;n<o[e].length;n+=1)t.m_material.undoBindVertexData(t,o[e][n])},this},inherit(e.mapper,e.boundingObject),e.groupMapper=function(){"use strict";if(!(this instanceof e.groupMapper))return new e.groupMapper;e.mapper.call(this);var t=e.timestamp(),n=[],i=[];return this.geometryData=function(t){return void 0!==t&&t<i.length?i[t]:i.length>0?i[0]:null},this.setGeometryData=function(t){1===i.length&&i[0]===t||((i=[]).push(t),this.modified())},this.geometryDataArray=function(){return i},this.setGeometryDataArray=function(t){if(t instanceof Array){if(i!==t)return i=[],i=t,this.modified(),!0}else console.log("[error] Requies array of geometry data");return!1},this.computeBounds=function(){if(null!==i&&void 0!==i){var t=this.computeBoundsTimestamp(),e=this.boundsDirtyTimestamp(),n=this.bounds(),r=null,o=null;if(e.getMTime()>t.getMTime()){for(o=0;o<i.length;o+=1)r=i[o].bounds(),n[0]>r[0]&&(n[0]=r[0]),n[1]<r[1]&&(n[1]=r[1]),n[2]>r[2]&&(n[2]=r[2]),n[3]<r[3]&&(n[3]=r[3]),n[4]>r[4]&&(n[4]=r[4]),n[5]<r[5]&&(n[5]=r[5]);this.modified(),t.modified()}}else this.resetBounds()},this.render=function(r){var o=null;if(this.getMTime()>t.getMTime()){for(o=0;o<i.length;o+=1)n.push(e.mapper()),n[o].setGeometryData(i[o]);t.modified()}for(o=0;o<n.length;o+=1)n[o].render(r)},this},inherit(e.groupMapper,e.mapper),e.materialAttributeType={Undefined:0,ShaderProgram:1,Texture:2,Blend:3,Depth:4},e.materialAttribute=function(t){"use strict";if(!(this instanceof e.materialAttribute))return new e.materialAttribute(t);e.graphicsObject.call(this);var n=t;return this.type=function(){return n},this.enabled=function(){return!0},this.bindVertexData=function(t,e){return t=t,e=e,!1},this.undoBindVertexData=function(t,e){return t=t,e=e,!1},this},inherit(e.materialAttribute,e.graphicsObject),e.blendFunction=function(t,n){"use strict";if(!(this instanceof e.blendFunction))return new e.blendFunction(t,n);var i=t,r=n;return this.apply=function(t){t.m_context.blendFuncSeparate(i,r,e.GL.ONE,e.GL.ONE_MINUS_SRC_ALPHA)},this},e.blend=function(){"use strict";if(!(this instanceof e.blend))return new e.blend;e.materialAttribute.call(this,e.materialAttributeType.Blend);var t=!1,n=e.blendFunction(e.GL.SRC_ALPHA,e.GL.ONE_MINUS_SRC_ALPHA);return this.bind=function(i){return t=i.m_context.isEnabled(e.GL.BLEND),this.enabled()?(i.m_context.enable(e.GL.BLEND),n.apply(i)):i.m_context.disable(e.GL.BLEND),!0},this.undoBind=function(n){return t?n.m_context.enable(e.GL.BLEND):n.m_context.disable(e.GL.BLEND),!0},this},inherit(e.blend,e.materialAttribute),e.material=function(){"use strict";if(!(this instanceof e.material))return new e.material;e.graphicsObject.call(this);var t=this,n=new e.shaderProgram,i=100,r={},o={};return this.binNumber=function(){return i},this.setBinNumber=function(e){i=e,t.modified()},this.exists=function(t){return t.type()===e.materialAttributeType.Texture?r.hasOwnProperty(t.textureUnit()):o.hasOwnProperty(t.type())},this.uniform=function(t){return n?n.uniform(t):null},this.attribute=function(t,n){return o.hasOwnProperty(t)?o[t]:t===e.materialAttributeType.Texture&&r.hasOwnProperty(n)?r[n]:null},this.setAttribute=function(i){return i.type()===e.materialAttributeType.Texture?r[i.textureUnit()]!==i&&(r[i.textureUnit()]=i,t.modified(),!0):o[i.type()]!==i&&(i.type()===e.materialAttributeType.ShaderProgram&&(n=i),o[i.type()]=i,t.modified(),!0)},this.addAttribute=function(i){return!t.exists(i)&&(i.type()===e.materialAttributeType.Texture?(r[i.textureUnit()]=i,t.modified(),!0):(i.type()===e.materialAttributeType.ShaderProgram&&(n=i),o[i.type()]=i,t.modified(),!0))},this.shaderProgram=function(){return n},this._setup=function(t){return!1},this._cleanup=function(t){for(var e in o)o.hasOwnProperty(e)&&o[e]._cleanup(t);for(e in r)r.hasOwnProperty(e)&&r[e]._cleanup(t)},this.bind=function(t){var e=null;for(e in n.bind(t),o)o.hasOwnProperty(e)&&o[e]!==n&&o[e].bind(t);for(e in r)r.hasOwnProperty(e)&&r[e].bind(t)},this.undoBind=function(t){var e=null;for(e in o)o.hasOwnProperty(e)&&o[e].undoBind(t);for(e in r)r.hasOwnProperty(e)&&r[e].undoBind(t)},this.bindVertexData=function(t,e){var n=null;for(n in o)o.hasOwnProperty(n)&&o[n].bindVertexData(t,e)},this.undoBindVertexData=function(t,e){var n=null;for(n in o)o.hasOwnProperty(n)&&o[n].undoBindVertexData(t,e)},t},e.material.RenderBin={Base:0,Default:100,Opaque:100,Transparent:1e3,Overlay:1e4},inherit(e.material,e.graphicsObject),e.renderState=function(){"use strict";this.m_context=null,this.m_modelViewMatrix=r.create(),this.m_normalMatrix=r.create(),this.m_projectionMatrix=null,this.m_material=null,this.m_mapper=null},e.renderer=function(t){"use strict";if(!(this instanceof e.renderer))return new e.renderer(t);e.graphicsObject.call(this),t=t||{};var n=this;return n.m_renderWindow=null,n.m_contextChanged=!1,n.m_sceneRoot=new e.groupNode,n.m_camera=new e.camera(t),n.m_nearClippingPlaneTolerance=null,n.m_x=0,n.m_y=0,n.m_width=0,n.m_height=0,n.m_resizable=!0,n.m_resetScene=!0,n.m_layer=0,n.m_renderPasses=null,n.m_resetClippingRange=!0,n.m_depthBits=null,n.m_camera.addChild(n.m_sceneRoot),this.width=function(){return n.m_width},this.height=function(){return n.m_height},this.layer=function(){return n.m_layer},this.setLayer=function(t){n.m_layer=t,n.modified()},this.isResizable=function(){return n.m_resizable},this.setResizable=function(t){n.m_resizable=t},this.renderWindow=function(){return n.m_renderWindow},this.setRenderWindow=function(t){n.m_renderWindow!==t&&(n.m_renderWindow&&n.m_renderWindow.removeRenderer(this),n.m_renderWindow=t,n.m_contextChanged=!0,n.modified())},this.backgroundColor=function(){return n.m_camera.clearColor()},this.setBackgroundColor=function(t,e,i,r){n.m_camera.setClearColor(t,e,i,r),n.modified()},this.sceneRoot=function(){return n.m_sceneRoot},this.camera=function(){return n.m_camera},this.render=function(){var t,i,o,a=null,s=[],l=r.create(),u=null;if((i=new e.renderState).m_renderer=n,i.m_context=n.renderWindow().context(),n.m_depthBits&&!n.m_contextChanged||(n.m_depthBits=i.m_context.getParameter(e.GL.DEPTH_BITS)),i.m_contextChanged=n.m_contextChanged,n.m_renderPasses)for(t=0;t<n.m_renderPasses.length;t+=1){if(n.m_renderPasses[t].render(i))return console.log("returning"),void n.m_renderPasses[t].remove(i);n.m_renderPasses[t].remove(i)}for(i.m_context.enable(e.GL.DEPTH_TEST),i.m_context.depthFunc(e.GL.LEQUAL),n.m_camera.clearMask()&e.GL.COLOR_BUFFER_BIT&&(u=n.m_camera.clearColor(),i.m_context.clearColor(u[0],u[1],u[2],u[3])),n.m_camera.clearMask()&e.GL.DEPTH_BUFFER_BIT&&i.m_context.clearDepth(n.m_camera.clearDepth()),i.m_context.clear(n.m_camera.clearMask()),i.m_context.viewport(n.m_x,n.m_y,n.m_width,n.m_height),(o=n.m_sceneRoot.children()).length>0&&n.m_resetScene&&(n.resetCamera(),n.m_resetScene=!1),t=0;t<o.length;t+=1)(a=o[t]).computeBounds(),a.visible()&&a.material().binNumber()>=0&&s.push([a.material().binNumber(),a]);for(s.sort(function(t,e){return t[0]-e[0]}),t=0;t<s.length;t+=1){if((a=s[t][1]).referenceFrame()===e.boundingObject.ReferenceFrame.Relative){var c=n.m_camera.viewMatrix();c instanceof Array&&(i.m_modelViewMatrix=new Array(16)),r.multiply(i.m_modelViewMatrix,c,a.matrix()),i.m_projectionMatrix=n.m_camera.projectionMatrix(),i.m_modelViewAlignment=n.m_camera.viewAlignment()}else i.m_modelViewMatrix=a.matrix(),i.m_modelViewAlignment=null,i.m_projectionMatrix=r.create(),r.ortho(i.m_projectionMatrix,0,n.m_width,0,n.m_height,-1,1);r.invert(l,i.m_modelViewMatrix),r.transpose(i.m_normalMatrix,l),i.m_material=a.material(),i.m_mapper=a.mapper(),i.m_material.bind(i),i.m_mapper.render(i),i.m_material.undoBind(i)}i.m_context.finish(),n.m_contextChanged=!1},this.resetCamera=function(){n.m_camera.computeBounds();var t=n.m_camera.directionOfProjection(),e=n.m_camera.bounds(),i=[(e[0]+e[1])/2,(e[2]+e[3])/2,(e[4]+e[5])/2],r=[e[1]-e[0],e[3]-e[2],e[5]-e[4]],o=0,s=n.m_camera.viewAspect(),l=n.m_camera.viewAngle(),u=null,c=null;o=r[0]>r[1]?r[0]>r[2]?r[0]/2:r[2]/2:r[1]>r[2]?r[1]/2:r[2]/2,l=s>=1?2*Math.atan(Math.tan(.5*l)/s):2*Math.atan(Math.tan(.5*l)*s),u=o/Math.sin(.5*l),c=n.m_camera.viewUpDirection(),Math.abs(a.dot(c,t))>.999&&n.m_camera.setViewUpDirection(-c[2],c[0],c[1]),n.m_camera.setFocalPoint(i[0],i[1],i[2]),n.m_camera.setPosition(i[0]+u*-t[0],i[1]+u*-t[1],i[2]+u*-t[2]),n.resetCameraClippingRange(e)},this.hasValidBounds=function(t){return t[0]!==Number.MAX_VALUE&&t[1]!==-Number.MAX_VALUE&&t[2]!==Number.MAX_VALUE&&t[3]!==-Number.MAX_VALUE&&t[4]!==Number.MAX_VALUE&&t[5]!==-Number.MAX_VALUE},this.resetCameraClippingRange=function(t){if(void 0===t&&(n.m_camera.computeBounds(),t=n.m_camera.bounds()),n.hasValidBounds(t)){var e=n.m_camera.viewPlaneNormal(),i=n.m_camera.position(),r=-e[0],o=-e[1],a=-e[2],s=-(r*i[0]+o*i[1]+a*i[2]),l=vec2.create(),u=null,c=null,h=null,p=null;if(n.m_resetClippingRange){for(l[0]=r*t[0]+o*t[2]+a*t[4]+s,l[1]=1e-18,p=0;p<2;p+=1)for(h=0;h<2;h+=1)for(c=0;c<2;c+=1)u=r*t[c]+o*t[2+h]+a*t[4+p]+s,l[0]=u<l[0]?u:l[0],l[1]=u>l[1]?u:l[1];l[0]<0&&(l[0]=0),l[0]=.99*l[0]-.5*(l[1]-l[0]),l[1]=1.01*l[1]+.5*(l[1]-l[0]),l[0]=l[0]>=l[1]?.01*l[1]:l[0],n.m_nearClippingPlaneTolerance||(n.m_nearClippingPlaneTolerance=.01,n.m_depthBits&&n.m_depthBits>16&&(n.m_nearClippingPlaneTolerance=.001)),l[0]<n.m_nearClippingPlaneTolerance*l[1]&&(l[0]=n.m_nearClippingPlaneTolerance*l[1]),n.m_camera.setClippingRange(l[0],l[1])}}},this.resize=function(t,e){t&&e&&n.positionAndResize(n.m_x,n.m_y,t,e)},this.positionAndResize=function(t,e,i,r){var o;if(t<0||e<0||i<=0||r<=0)console.log("[error] Invalid position and resize values",t,e,i,r);else if(n.m_resizable&&(n.m_width=i,n.m_height=r,n.m_camera.setViewAspect(i/r),n.m_camera.setParallelExtents({width:i,height:r}),n.modified()),n.m_renderPasses)for(o=0;o<n.m_renderPasses.length;o+=1)n.m_renderPasses[o].resize(i,r),n.m_renderPasses[o].renderer().positionAndResize(t,e,i,r)},this.addActor=function(t){return t instanceof e.actor&&(n.m_sceneRoot.addChild(t),n.modified(),!0)},this.hasActor=function(t){return n.m_sceneRoot.hasChild(t)},this.addActors=function(t){var e=null;if(t instanceof Array){for(e=0;e<t.length;e+=1)n.m_sceneRoot.addChild(t[e]);n.modified()}},this.removeActor=function(t){return-1!==n.m_sceneRoot.children().indexOf(t)&&(t.mapper()&&(t.mapper().deleteVertexBufferObjects(),t.mapper().modified()),n.m_sceneRoot.removeChild(t),n.modified(),!0)},this.removeActors=function(t){if(!(t instanceof Array))return!1;var e;for(e=0;e<t.length;e+=1)n.m_sceneRoot.removeChild(t[e]);return n.modified(),!0},this.removeAllActors=function(){return n.m_sceneRoot.removeChildren()},this.worldToDisplay=function(t,e,n,i,a){var s=r.create(),l=null,u=null,c=null,h=null,p=null;return r.multiply(s,n,e),p=o.create(),o.transformMat4(p,t,s),0!==p[3]&&(p[0]=p[0]/p[3],p[1]=p[1]/p[3],p[2]=p[2]/p[3],p[3]=1),l=(p[0]+1)/2*i,u=(1-p[1])/2*a,c=p[2],h=p[3],o.fromValues(l,u,c,h)},this.displayToWorld=function(t,e,n,i,a){var s=2*t[0]/i-1,l=-2*t[1]/a+1,u=t[2],c=r.create(),h=null;return r.multiply(c,n,e),r.invert(c,c),h=o.fromValues(s,l,u,1),o.transformMat4(h,h,c),0!==h[3]&&(h[0]=h[0]/h[3],h[1]=h[1]/h[3],h[2]=h[2]/h[3],h[3]=1),h},this.focusDisplayPoint=function(){var t=n.m_camera.focalPoint(),e=o.fromValues(t[0],t[1],t[2],1);return n.worldToDisplay(e,n.m_camera.viewMatrix(),n.m_camera.projectionMatrix(),n.m_width,n.m_height)},this.resetScene=function(){return n.m_resetScene},this.setResetScene=function(t){n.m_resetScene!==t&&(n.m_resetScene=t,n.modified())},this.resetClippingRange=function(){return n.m_resetClippingRange},this.setResetClippingRange=function(t){n.m_resetClippingRange!==t&&(n.m_resetClippingRange=t,n.modified())},this.addRenderPass=function(t){var e;if(n.m_renderPasses)for(e=0;e<n.m_renderPasses.length;e+=1)if(t===n.m_renderPasses[e])return;n.m_renderPasses=[],n.m_renderPasses.push(t)},this.removeRenderPass=function(t){t=t},this._cleanup=function(t){for(var e=n.m_sceneRoot.children(),i=0;i<e.length;i+=1){var r=e[i];r.material()._cleanup(t),r.mapper()._cleanup(t)}n.m_sceneRoot.removeChildren()},n},inherit(e.renderer,e.graphicsObject),e.renderWindow=function(t){"use strict";if(!(this instanceof e.renderWindow))return new e.renderWindow(t);e.graphicsObject.call(this);var n=this,i=0,r=0,a=400,s=400,l=t,u=null,c=[],h=null;return this.windowSize=function(){return[a,s]},this.setWindowSize=function(t,e){return(a!==t||s!==e)&&(a=t,s=e,n.modified(),!0)},this.windowPosition=function(){return[i,r]},this.setWindowPosition=function(t,e){return(i!==t||r!==e)&&(i=t,r=e,n.modified(),!0)},this.renderers=function(){return c},this.activeRenderer=function(){return u},this.addRenderer=function(t){return!1===n.hasRenderer(t)&&(c.push(t),t.setRenderWindow(n),null===u&&(u=t),0!==t.layer()&&t.camera().setClearMask(e.GL.DepthBufferBit),n.modified(),!0)},this.removeRenderer=function(t){var e=c.indexOf(t);return-1!==e&&(u===t&&(u=null),c.splice(e,1),n.modified(),!0)},this.getRenderer=function(t){return t<c.length?c[t]:(console.log("[WARNING] Out of index array"),null)},this.hasRenderer=function(t){var e;for(e=0;e<c.length;e+=1)if(t===c[e])return!0;return!1},this.resize=function(t,e){n.positionAndResize(i,r,t,e),n.modified()},this.positionAndResize=function(t,e,o,l){var u;for(i=t,r=e,a=o,s=l,u=0;u<c.length;u+=1)c[u].positionAndResize(i,r,a,s);n.modified()},this._setup=function(t){t=t,h=null;try{var e;for(h=l.getContext("webgl")||l.getContext("experimental-webgl"),e=0;e<c.length;e+=1)(c[e].width()>a||0===c[e].width()||c[e].height()>s||0===c[e].height())&&c[e].resize(i,r,a,s);return!0}catch(t){}return h||console("[ERROR] Unable to initialize WebGL. Your browser may not support it."),!1},this.context=function(){return h},this._cleanup=function(t){var n;for(n=0;n<c.length;n+=1)c[n]._cleanup(t);e.clearCachedShaders(t?t.m_context:null)},this.render=function(){var t;for(c.sort(function(t,e){return t.layer()-e.layer()}),t=0;t<c.length;t+=1)c[t].render()},this.focusDisplayPoint=function(){return u.focusDisplayPoint()},this.displayToWorld=function(t,e,n,i){var r=(i=void 0===i?i=u:i).camera();return n||(n=i.focusDisplayPoint()),i.displayToWorld(o.fromValues(t,e,n[2],1),r.viewMatrix(),r.projectionMatrix(),a,s)},this.worldToDisplay=function(t,e,n,i){var r=(i=void 0===i?i=u:i).camera();return i.worldToDisplay(o.fromValues(t,e,n,1),r.viewMatrix(),r.projectionMatrix(),a,s)},n},inherit(e.renderWindow,e.graphicsObject),e.camera=function(t){"use strict";if(!(this instanceof e.camera))return new e.camera(t);e.groupNode.call(this),t=t||{};var n=30*Math.PI/180,i=o.fromValues(0,0,1,1),s=o.fromValues(0,0,0,1),l=a.fromValues(0,0,0),u=o.fromValues(0,1,0,0),c=o.fromValues(1,0,0,0),h=.01,p=1e4,d=1,f=o.fromValues(0,0,-1,0),v=o.fromValues(0,0,1,0),g=r.create(),m=r.create(),y=e.timestamp(),x=e.timestamp(),_=-1,A=1,b=1,w=-1,O={zoom:1,tilesize:256},S=!0,M=!0,T=!0,D=!1,C=[0,0,0,0],F=1,E=e.GL.COLOR_BUFFER_BIT|e.GL.DEPTH_BUFFER_BIT;return void 0!==t.parallelProjection&&(D=!!t.parallelProjection),this.viewAngle=function(){return n},this.setViewAngleDegrees=function(t){this.setViewAngle(Math.PI*t/180)},this.setViewAngle=function(t){T&&(n=t,this.modified())},this.position=function(){return i},this.setPosition=function(t,e,n){S&&(i=o.fromValues(t,e,n,1),this.modified())},this.focalPoint=function(){return s},this.setFocalPoint=function(t,e,n){M&&S&&(s=o.fromValues(t,e,n,1),this.modified())},this.viewUpDirection=function(){return u},this.setViewUpDirection=function(t,e,n){u=o.fromValues(t,e,n,0),this.modified()},this.centerOfRotation=function(){return l},this.setCenterOfRotation=function(t){l=t,this.modified()},this.clippingRange=function(){return[h,p]},this.setClippingRange=function(t,e){h=t,p=e,this.modified()},this.viewAspect=function(){return d},this.setViewAspect=function(t){d=t,this.modified()},this.enableScale=function(){return T},this.setEnableScale=function(t){return t!==T?(T=t,this.modified(),!0):T},this.enableRotation=function(){return M},this.setEnableRotation=function(t){return t!==M?(M=t,this.modified(),!0):M},this.enableTranslation=function(){return S},this.setEnableTranslation=function(t){return t!==S?(S=t,this.modified(),!0):S},this.isEnabledParallelProjection=function(){return D},this.enableParallelProjection=function(t){return t!==D?(D=t,this.modified(),!0):D},this.setEnableParallelProjection=function(t){return this.enableParallelProjection(t)},this.parallelProjection=function(){return{left:_,right:A,top:b,bottom:w}},this.setParallelProjection=function(t,e,n,i){_=t,A=e,b=n,w=i,this.modified()},this.parallelExtents=function(){return O},this.setParallelExtents=function(t){var e,n,i=["width","height","zoom","tilesize"],r=!1;for(e=0;e<i.length;e+=1)void 0!==t[n=i[e]]&&t[n]!==O[n]&&(O[n]=t[n],r=!0);if(r&&O.width&&O.height&&void 0!==O.zoom&&O.tilesize){var o=this.unitsPerPixel(O.zoom,O.tilesize);A=o*O.width/2,_=-A,b=o*O.height/2,w=-b,this.modified()}},this.unitsPerPixel=function(t,e){return e=e||256,360*Math.pow(2,-t)/e},this.directionOfProjection=function(){return this.computeDirectionOfProjection(),f},this.viewPlaneNormal=function(){return this.computeViewPlaneNormal(),v},this.viewMatrix=function(){return this.computeViewMatrix()},this.setViewMatrix=function(t,e){e?g=t.slice():r.copy(g,t),y.modified()},this.projectionMatrix=function(){return this.computeProjectionMatrix()},this.setProjectionMatrix=function(t){r.copy(m,t),x.modified()},this.clearMask=function(){return E},this.setClearMask=function(t){E=t,this.modified()},this.clearColor=function(){return C},this.setClearColor=function(t,e,n,i){C[0]=t,C[1]=e,C[2]=n,C[3]=i,this.modified()},this.clearDepth=function(){return F},this.setClearDepth=function(t){F=t,this.modified()},this.computeDirectionOfProjection=function(){a.subtract(f,s,i),a.normalize(f,f),this.modified()},this.computeViewPlaneNormal=function(){v[0]=-f[0],v[1]=-f[1],v[2]=-f[2]},this.zoom=function(t,e){0!==t&&S&&(t*=a.distance(s,i),e?(i[0]=i[0]+t*e[0],i[1]=i[1]+t*e[1],i[2]=i[2]+t*e[2]):(e=f,i[0]=s[0]-t*e[0],i[1]=s[1]-t*e[1],i[2]=s[2]-t*e[2]),this.modified())},this.pan=function(t,e,n){S&&(i[0]+=t,i[1]+=e,i[2]+=n,s[0]+=t,s[1]+=e,s[2]+=n,this.modified())},this.computeOrthogonalAxes=function(){this.computeDirectionOfProjection(),a.cross(c,f,u),a.normalize(c,c),this.modified()},this.rotate=function(t,e){if(M){t=.5*t*(Math.PI/180),e=.5*e*(Math.PI/180);var n=r.create(),h=new a.create;r.identity(n),h[0]=-l[0],h[1]=-l[1],h[2]=-l[2],r.translate(n,n,l),r.rotate(n,n,t,u),r.rotate(n,n,e,c),r.translate(n,n,h),o.transformMat4(i,i,n),o.transformMat4(s,s,n),o.transformMat4(u,u,n),o.normalize(u,u),this.computeOrthogonalAxes(),this.modified()}},this.computeViewMatrix=function(){return y.getMTime()<this.getMTime()&&(r.lookAt(g,i,s,u),y.modified()),g},this.viewAlignment=function(){if(!D){var t=this.projectionMatrix();if(t[1]||t[2]||t[3]||t[4]||t[6]||t[7]||t[8]||t[9]||t[12]||t[13]||t[15])return null}var e=this.unitsPerPixel(O.zoom,O.tilesize);if(!O.width||!O.height||!e)return null;if(parseFloat(O.zoom.toFixed(6))!==parseFloat(O.zoom.toFixed(0)))return null;var n={roundx:e,roundy:e,dx:0,dy:0};return O.width%2&&(n.dx=.5*e),O.height%2&&(n.dy=.5*e),n},this.computeProjectionMatrix=function(){return x.getMTime()<this.getMTime()&&(D?r.ortho(m,_,A,w,b,h,p):r.perspective(m,n,d,h,p),x.modified()),m},this.zoomToHeight=function(t,i,r){return e.zoomToHeight(t,i,r,n)},this.computeDirectionOfProjection(),this},inherit(e.camera,e.groupNode),e.zoomToHeight=function(t,e,n,i){"use strict";i=i||30*Math.PI/180;var r=360*Math.pow(2,-t);return r/=2*Math.tan(i/2)*256/n},e.heightToZoom=function(t,e,n,i){"use strict";i=i||30*Math.PI/180,t*=2*Math.tan(i/2)*256/n;var r=-Math.log2(t/360);return r},e.interactorStyle=function(){"use strict";if(!(this instanceof e.interactorStyle))return new e.interactorStyle;e.object.call(this);var t=this,n=null;return this.viewer=function(){return n},this.setViewer=function(i){i!==n&&(s(n=i).on(e.event.mousePress,t.handleMouseDown),s(n).on(e.event.mouseRelease,t.handleMouseUp),s(n).on(e.event.mouseMove,t.handleMouseMove),s(n).on(e.event.mouseOut,t.handleMouseOut),s(n).on(e.event.mouseWheel,t.handleMouseWheel),s(n).on(e.event.keyPress,t.handleKeyPress),s(n).on(e.event.mouseContextMenu,t.handleContextMenu),s(n).on(e.event.click,t.handleClick),s(n).on(e.event.dblClick,t.handleDoubleClick),this.modified())},this.handleMouseDown=function(t){return t=t,!0},this.handleMouseUp=function(t){return t=t,!0},this.handleMouseMove=function(t){return t=t,!0},this.handleMouseOut=function(t){return t=t,!0},this.handleMouseWheel=function(t){return t=t,!0},this.handleClick=function(t){return t=t,!0},this.handleDoubleClick=function(t){return t=t,!0},this.handleKeyPress=function(t){return t=t,!0},this.handleContextMenu=function(t){return t=t,!0},this.reset=function(){return!0},this},inherit(e.interactorStyle,e.object),e.trackballInteractorStyle=function(){"use strict";if(!(this instanceof e.trackballInteractorStyle))return new e.trackballInteractorStyle;e.interactorStyle.call(this);var t,n=this,i=!1,r=!1,a=!1,s={x:0,y:0},l={x:0,y:0};return this.handleMouseMove=function(e){var u,c,h,p,d,f,v,g,m,y,x,_=n.viewer().renderWindow().windowSize()[0],A=n.viewer().renderWindow().windowSize()[1],b=n.viewer().renderWindow().activeRenderer(),w=b.camera(),O=n.viewer().relMouseCoords(e);if(t=!1,s={x:0,y:0},O.x<0||O.x>_?(s.x=0,t=!0):s.x=O.x,O.y<0||O.y>A?(s.y=0,t=!0):s.y=O.y,!0!==t)return u=w.focalPoint(),h=o.fromValues(u[0],u[1],u[2],1),c=b.worldToDisplay(h,w.viewMatrix(),w.projectionMatrix(),_,A),p=o.fromValues(s.x,s.y,c[2],1),d=o.fromValues(l.x,l.y,c[2],1),f=b.displayToWorld(p,w.viewMatrix(),w.projectionMatrix(),_,A),v=b.displayToWorld(d,w.viewMatrix(),w.projectionMatrix(),_,A),g=f[0]-v[0],m=f[1]-v[1],y=f[2]-v[2],a&&(w.pan(-g,-m,-y),n.viewer().render()),i&&(w.rotate(l.x-s.x,l.y-s.y),b.resetCameraClippingRange(),n.viewer().render()),r&&((x=2*(s.y-l.y)/A)>0?w.zoom(1-Math.abs(x)):w.zoom(1+Math.abs(x)),b.resetCameraClippingRange(),n.viewer().render()),l.x=s.x,l.y=s.y,!1},this.handleMouseDown=function(t){var e;return 0===t.button&&(i=!0),1===t.button&&(a=!0),2===t.button&&(r=!0),(e=n.viewer().relMouseCoords(t)).x<0?l.x=0:l.x=e.x,e.y<0?l.y=0:l.y=e.y,!1},this.handleMouseUp=function(t){return 0===t.button&&(i=!1),1===t.button&&(a=!1),2===t.button&&(r=!1),!1},this.handleMouseWheel=function(t){var e=n.viewer().renderWindow().activeRenderer(),i=e.camera();return t.originalEvent.wheelDelta<0?i.zoom(.9):i.zoom(1.1),e.resetCameraClippingRange(),n.viewer().render(),!0},this},inherit(e.trackballInteractorStyle,e.interactorStyle),e.pvwInteractorStyle=function(){"use strict";if(!(this instanceof e.pvwInteractorStyle))return new e.pvwInteractorStyle;e.trackballInteractorStyle.call(this);var t,n,i,r,a,s,l,u,c,h,p,d,f,v,g,m,y,x,_=this,A=!1,b=!1,w=!1,O={x:0,y:0};function S(){i.resetCameraClippingRange(),_.viewer().render()}return this.handleMouseMove=function(e){var M=[],T=null,D=[],C=null;for(t=_.viewer().renderWindow().windowSize()[0],n=_.viewer().renderWindow().windowSize()[1],i=_.viewer().renderWindow().activeRenderer(),r=i.camera(),a=!1,s=_.viewer().relMouseCoords(e),l={x:0,y:0},M=_.viewer().renderWindow().renderers(),T=0;T<M.length;T+=1)i!==M[T]&&D.push(M[T].camera());if(s.x<0||s.x>t?(l.x=0,a=!0):l.x=s.x,s.y<0||s.y>n?(l.y=0,a=!0):l.y=s.y,!0!==a){if(u=r.focalPoint(),c=o.fromValues(u[0],u[1],u[2],1),h=i.worldToDisplay(c,r.viewMatrix(),r.projectionMatrix(),t,n),p=o.fromValues(l.x,l.y,h[2],1),d=o.fromValues(O.x,O.y,h[2],1),f=i.displayToWorld(p,r.viewMatrix(),r.projectionMatrix(),t,n),v=i.displayToWorld(d,r.viewMatrix(),r.projectionMatrix(),t,n),g=f[0]-v[0],m=f[1]-v[1],y=f[2]-v[2],w&&(r.pan(-g,-m,-y),S()),A){for(C=[O.x-l.x,O.y-l.y],r.rotate(C[0],C[1]),T=0;T<D.length;T+=1)D[T].rotate(C[0],C[1]);for(T=0;T<M.length;T+=1)M[T].resetCameraClippingRange();S()}return b&&((x=2*(l.y-O.y)/n)>0?r.zoom(1-Math.abs(x)):r.zoom(1+Math.abs(x)),S()),O.x=l.x,O.y=l.y,!1}},this.handleMouseDown=function(t){return 0===t.button&&(A=!0),1===t.button&&(w=!0),2===t.button&&(b=!0),(s=_.viewer().relMouseCoords(t)).x<0?O.x=0:O.x=s.x,s.y<0?O.y=0:O.y=s.y,!1},this.handleMouseUp=function(t){return 0===t.button&&(A=!1),1===t.button&&(w=!1),2===t.button&&(b=!1),!1},this},inherit(e.pvwInteractorStyle,e.trackballInteractorStyle),e.viewer=function(t,n){"use strict";if(!(this instanceof e.viewer))return new e.viewer(t,n);e.object.call(this);var i=this,r=t,o=null,a=e.renderer(n),l=e.renderWindow(r);return this.canvas=function(){return r},this.renderWindow=function(){return l},this.init=function(){null!==l?l._setup():console.log("[ERROR] No render window attached")},this.exit=function(t){null!==l?l._cleanup(t):console.log("[ERROR] No render window attached")},this.interactorStyle=function(){return o},this.setInteractorStyle=function(t){t!==o&&((o=t).setViewer(this),this.modified())},this.handleMouseDown=function(t){var n=s.event.fix(t||window.event);return 2===t.button&&n.preventDefault(),n.state="down",n.type=e.event.mousePress,s(i).trigger(n),!0},this.handleMouseUp=function(t){var n=s.event.fix(t||window.event);return n.preventDefault(),n.state="up",n.type=e.event.mouseRelease,s(i).trigger(n),!0},this.handleMouseMove=function(t){var n=s.event.fix(t||window.event);return n.preventDefault(),n.type=e.event.mouseMove,s(i).trigger(n),!0},this.handleMouseWheel=function(t){var n=s.event.fix(t||window.event);return n.preventDefault(),n.type=e.event.mouseWheel,s(i).trigger(n),!0},this.handleMouseOut=function(t){var n=s.event.fix(t||window.event);return n.preventDefault(),n.type=e.event.mouseOut,s(i).trigger(n),!0},this.handleKeyPress=function(t){var n=s.event.fix(t||window.event);return n.preventDefault(),n.type=e.event.keyPress,s(i).trigger(n),!0},this.handleContextMenu=function(t){var n=s.event.fix(t||window.event);return n.preventDefault(),n.type=e.event.contextMenu,s(i).trigger(n),!1},this.handleClick=function(t){var n=s.event.fix(t||window.event);return n.preventDefault(),n.type=e.event.click,s(i).trigger(n),!1},this.handleDoubleClick=function(t){var n=s.event.fix(t||window.event);return n.preventDefault(),n.type=e.event.dblClick,s(i).trigger(n),!1},this.relMouseCoords=function(t){if(void 0===t.pageX||void 0===t.pageY)throw"Missing attributes pageX and pageY on the event";var e=0,n=0,i=0,o=0,a=r;do{e+=a.offsetLeft-a.scrollLeft,n+=a.offsetTop-a.scrollTop,a=a.offsetParent}while(a);return i=t.pageX-e,o=t.pageY-n,{x:i,y:o}},this.render=function(){l.render()},this.bindEventHandlers=function(){s(r).on("mousedown",this.handleMouseDown),s(r).on("mouseup",this.handleMouseUp),s(r).on("mousemove",this.handleMouseMove),s(r).on("mousewheel",this.handleMouseWheel),s(r).on("contextmenu",this.handleContextMenu)},this.unbindEventHandlers=function(){s(r).off("mousedown",this.handleMouseDown),s(r).off("mouseup",this.handleMouseUp),s(r).off("mousemove",this.handleMouseMove),s(r).off("mousewheel",this.handleMouseWheel),s(r).off("contextmenu",this.handleContextMenu)},this._init=function(){this.bindEventHandlers(),l.addRenderer(a)},this._init(),this},inherit(e.viewer,e.object),e.shader=function(t){"use strict";if(!(this instanceof e.shader))return new e.shader(t);e.object.call(this);var n=[],i=t,r="";this._getContextEntry=function(t){var i,r,o=t.m_context;for(i=0;i<n.length;i+=1)if(n[i].context===o)return n[i];return r={context:o,compileTimestamp:e.timestamp()},n.push(r),r},this.removeContext=function(t){var e,i=t.m_context;for(e=0;e<n.length;e+=1)if(n[e].context===i)return void n.splice(e,1)},this.shaderHandle=function(t){var e=this._getContextEntry(t);return e.shaderHandle},this.shaderType=function(){return i},this.shaderSource=function(){return r},this.setShaderSource=function(t){r=t,this.modified()},this.compile=function(t){var n=this._getContextEntry(t);return this.getMTime()<n.compileTimestamp.getMTime()?n.shaderHandle:(t.m_context.deleteShader(n.shaderHandle),n.shaderHandle=t.m_context.createShader(i),t.m_context.shaderSource(n.shaderHandle,r),t.m_context.compileShader(n.shaderHandle),t.m_context.getShaderParameter(n.shaderHandle,e.GL.COMPILE_STATUS)?(n.compileTimestamp.modified(),n.shaderHandle):(console.log("[ERROR] An error occurred compiling the shaders: "+t.m_context.getShaderInfoLog(n.shaderHandle)),console.log(r),t.m_context.deleteShader(n.shaderHandle),null))},this.attachShader=function(t,e){t.m_context.attachShader(e,this.shaderHandle(t))}},inherit(e.shader,e.object),function(){"use strict";var t=[];e.getCachedShader=function(n,i,r){for(var o=0;o<t.length;o+=1)if(t[o].type===n&&t[o].context===i&&t[o].source===r)return o&&t.splice(0,0,t.splice(o,1)[0]),t[0].shader;var a=new e.shader(n);return a.setShaderSource(r),t.unshift({type:n,context:i,source:r,shader:a}),t.length>=10&&t.splice(10,t.length-10),a},e.clearCachedShaders=function(e){for(var n=t.length-1;n>=0;n-=1)null!==e&&void 0!==e&&t[n].context!==e||t.splice(n,1)}}();var i=function(){"use strict";var t=".",e=document.getElementsByTagName("script");if(e.length>0){var n=e.length-1,i=e[n];n=i.src.lastIndexOf("/"),t=i.src.substring(0,n)}return function(){return t}}();return e.shaderProgram=function(){"use strict";if(!(this instanceof e.shaderProgram))return new e.shaderProgram;e.materialAttribute.call(this,e.materialAttributeType.ShaderProgram);var t=this,n=0,r=e.timestamp(),o=e.timestamp(),a=[],l=[],u={},c={},h={};return this.loadFromFile=function(n,i){var r,o=!1;return s.ajax({url:i,type:"GET",dataType:"text",async:!1,success:function(i){(r=e.shader(n)).setShaderSource(i),t.addShader(r),o=!0}}),o},this.loadShader=function(t,e){return this.loadFromFile(t,i()+"/shaders/"+e)},this.queryUniformLocation=function(t,e){return t.m_context.getUniformLocation(n,e)},this.queryAttributeLocation=function(t,e){return t.m_context.getAttribLocation(n,e)},this.addShader=function(e){if(a.indexOf(e)>-1)return!1;var n;for(n=a.length-2;n>=0;n-=1)a[n].shaderType()===e.shaderType()&&a.splice(n,1);return a.push(e),t.modified(),!0},this.addUniform=function(e){return!(l.indexOf(e)>-1||(l.push(e),t.modified(),0))},this.addVertexAttribute=function(e,n){u[n]=e,t.modified()},this.uniformLocation=function(t){return c[t]},this.attributeLocation=function(t){return h[t]},this.uniform=function(t){var e;for(e=0;e<l.length;e+=1)if(l[e].name()===t)return l[e];return null},this.updateUniforms=function(t){var e;for(e=0;e<l.length;e+=1)l[e].callGL(t,c[l[e].name()])},this.link=function(t){return t.m_context.linkProgram(n),!!t.m_context.getProgramParameter(n,e.GL.LINK_STATUS)||(console.log("[ERROR] Unable to initialize the shader program."),!1)},this.use=function(t){t.m_context.useProgram(n)},this._setup=function(t){0===n&&(n=t.m_context.createProgram())},this._cleanup=function(e){t.deleteVertexAndFragment(e),t.deleteProgram(e)},this.deleteProgram=function(t){t.m_context.deleteProgram(n),n=0},this.deleteVertexAndFragment=function(t){var e;for(e=0;e<a.length;e+=1)t.m_context.detachShader(a[e].shaderHandle(t)),t.m_context.deleteShader(a[e].shaderHandle(t)),a[e].removeContext(t)},this.compileAndLink=function(e){var i;if(!(r.getMTime()>=this.getMTime())){for(t._setup(e),i=0;i<a.length;i+=1)a[i].compile(e),a[i].attachShader(e,n);t.bindAttributes(e),t.link(e)||(console.log("[ERROR] Failed to link Program"),t._cleanup(e)),r.modified()}},this.bind=function(e){var n=0;for(o.getMTime()<t.getMTime()?(t.compileAndLink(e),t.use(e),t.bindUniforms(e),o.modified()):t.use(e),n=0;n<l.length;n+=1)l[n].update(e,t);t.updateUniforms(e)},this.undoBind=function(t){t.m_context.useProgram(null)},this.bindVertexData=function(t,e){u.hasOwnProperty(e)&&u[e].bindVertexData(t,e)},this.undoBindVertexData=function(t,e){u.hasOwnProperty(e)&&u[e].undoBindVertexData(t,e)},this.bindUniforms=function(t){var e;for(e=0;e<l.length;e+=1)c[l[e].name()]=this.queryUniformLocation(t,l[e].name())},this.bindAttributes=function(t){var e,i;for(e in u)u.hasOwnProperty(e)&&(i=u[e].name(),t.m_context.bindAttribLocation(n,e,i),h[i]=e)},t},inherit(e.shaderProgram,e.materialAttribute),e.texture=function(){"use strict";if(!(this instanceof e.texture))return new e.texture;e.materialAttribute.call(this,e.materialAttributeType.Texture),this.m_width=0,this.m_height=0,this.m_depth=0,this.m_textureHandle=null,this.m_textureUnit=0,this.m_pixelFormat=e.GL.RGBA,this.m_pixelDataType=e.GL.UNSIGNED_BYTE,this.m_internalFormat=e.GL.RGBA,this.m_nearestPixel=!1,this.m_image=null;var t=e.timestamp(),n=this;function i(t){switch(n.m_textureUnit){case 0:t.m_context.activeTexture(e.GL.TEXTURE0);break;case 1:t.m_context.activeTexture(e.GL.TEXTURE1);break;case 2:t.m_context.activeTexture(e.GL.TEXTURE2);break;case 3:t.m_context.activeTexture(e.GL.TEXTURE3);break;case 4:t.m_context.activeTexture(e.GL.TEXTURE4);break;case 5:t.m_context.activeTexture(e.GL.TEXTURE5);break;case 6:t.m_context.activeTexture(e.GL.TEXTURE6);break;case 7:t.m_context.activeTexture(e.GL.TEXTURE7);break;case 8:t.m_context.activeTexture(e.GL.TEXTURE8);break;case 9:t.m_context.activeTexture(e.GL.TEXTURE9);break;case 10:t.m_context.activeTexture(e.GL.TEXTURE10);break;case 11:t.m_context.activeTexture(e.GL.TEXTURE11);break;case 12:t.m_context.activeTexture(e.GL.TEXTURE12);break;case 13:t.m_context.activeTexture(e.GL.TEXTURE13);break;case 14:t.m_context.activeTexture(e.GL.TEXTURE14);break;case 15:t.m_context.activeTexture(e.GL.TEXTURE15);break;default:throw"[error] Texture unit "+n.m_textureUnit+" is not supported"}}return this.setup=function(n){i(n),n.m_context.deleteTexture(this.m_textureHandle),this.m_textureHandle=n.m_context.createTexture(),n.m_context.bindTexture(e.GL.TEXTURE_2D,this.m_textureHandle),n.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_MIN_FILTER,this.m_nearestPixel?e.GL.NEAREST:e.GL.LINEAR),n.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_MAG_FILTER,this.m_nearestPixel?e.GL.NEAREST:e.GL.LINEAR),n.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_WRAP_S,e.GL.CLAMP_TO_EDGE),n.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_WRAP_T,e.GL.CLAMP_TO_EDGE),null!==this.m_image?(n.m_context.pixelStorei(e.GL.UNPACK_ALIGNMENT,1),n.m_context.pixelStorei(e.GL.UNPACK_FLIP_Y_WEBGL,!0),this.updateDimensions(),this.computeInternalFormatUsingImage(),n.m_context.texImage2D(e.GL.TEXTURE_2D,0,this.m_internalFormat,this.m_pixelFormat,this.m_pixelDataType,this.m_image)):n.m_context.texImage2D(e.GL.TEXTURE_2D,0,this.m_internalFormat,this.m_width,this.m_height,0,this.m_pixelFormat,this.m_pixelDataType,null),n.m_context.bindTexture(e.GL.TEXTURE_2D,null),t.modified()},this.bind=function(n){this.getMTime()>t.getMTime()&&this.setup(n),i(n),n.m_context.bindTexture(e.GL.TEXTURE_2D,this.m_textureHandle)},this.undoBind=function(t){t.m_context.bindTexture(e.GL.TEXTURE_2D,null)},this.image=function(){return this.m_image},this.setImage=function(t){return null!==t&&(this.m_image=t,this.updateDimensions(),this.modified(),!0)},this.nearestPixel=function(){return this.m_nearestPixel},this.setNearestPixel=function(t){return(t=!!t)!==this.m_nearestPixel&&(this.m_nearestPixel=t,this.modified(),!0)},this.textureUnit=function(){return this.m_textureUnit},this.setTextureUnit=function(t){return this.m_textureUnit!==t&&(this.m_textureUnit=t,this.modified(),!0)},this.width=function(){return this.m_width},this.setWidth=function(t){return n.m_width!==t&&(n.m_width=t,n.modified(),!0)},this.height=function(){return n.m_height},this.setHeight=function(t){return n.m_height!==t&&(n.m_height=t,n.modified(),!0)},this.depth=function(){return this.m_depth},this.setDepth=function(t){return null!==this.m_image&&(this.m_depth=t,this.modified(),!0)},this.textureHandle=function(){return this.m_textureHandle},this.internalFormat=function(){return this.m_internalFormat},this.setInternalFormat=function(t){return this.m_internalFormat!==t&&(this.m_internalFormat=t,this.modified(),!0)},this.pixelFormat=function(){return this.m_pixelFormat},this.setPixelFormat=function(t){return null!==this.m_image&&(this.m_pixelFormat=t,this.modified(),!0)},this.pixelDataType=function(){return this.m_pixelDataType},this.setPixelDataType=function(t){return null!==this.m_image&&(this.m_pixelDataType=t,this.modified(),!0)},this.computeInternalFormatUsingImage=function(){this.m_internalFormat=e.GL.RGBA,this.m_pixelFormat=e.GL.RGBA,this.m_pixelDataType=e.GL.UNSIGNED_BYTE},this.updateDimensions=function(){null!==this.m_image&&(this.m_width=this.m_image.width,this.m_height=this.m_image.height,this.m_depth=0)},this},inherit(e.texture,e.materialAttribute),e.lookupTable=function(){"use strict";if(!(this instanceof e.lookupTable))return new e.lookupTable;e.texture.call(this);var t=e.timestamp(),n=[0,0];return this.m_colorTable=[.07514311,.468049805,1,1,.247872569,.498782363,1,1,.339526309,.528909511,1,1,.409505078,.558608486,1,1,.468487184,.588057293,1,1,.520796675,.617435078,1,1,.568724526,.646924167,1,1,.613686735,.676713218,1,1,.656658579,.707001303,1,1,.698372844,.738002964,1,1,.739424025,.769954435,1,1,.780330104,.803121429,1,1,.821573924,.837809045,1,1,.863634967,.874374691,1,1,.907017747,.913245283,1,1,.936129275,.938743558,.983038586,1,.943467973,.943498599,.943398095,1,.990146732,.928791426,.917447482,1,1,.88332677,.861943246,1,1,.833985467,.803839606,1,1,.788626485,.750707739,1,1,.746206642,.701389973,1,1,.70590052,.654994046,1,1,.667019783,.610806959,1,1,.6289553,.568237474,1,1,.591130233,.526775617,1,1,.552955184,.485962266,1,1,.513776083,.445364274,1,1,.472800903,.404551679,1,1,.428977855,.363073592,1,1,.380759558,.320428137,1,.961891484,.313155629,.265499262,1,.916482116,.236630659,.209939162,1].map(function(t){return 255*t}),this.setup=function(n){0===this.textureUnit()?n.m_context.activeTexture(e.GL.TEXTURE0):1===this.textureUnit()&&n.m_context.activeTexture(e.GL.TEXTURE1),n.m_context.deleteTexture(this.m_textureHandle),this.m_textureHandle=n.m_context.createTexture(),n.m_context.bindTexture(e.GL.TEXTURE_2D,this.m_textureHandle),n.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_MIN_FILTER,e.GL.LINEAR),n.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_MAG_FILTER,e.GL.LINEAR),n.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_WRAP_S,e.GL.CLAMP_TO_EDGE),n.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_WRAP_T,e.GL.CLAMP_TO_EDGE),n.m_context.pixelStorei(e.GL.UNPACK_ALIGNMENT,1),this.m_width=this.m_colorTable.length/4,this.m_height=1,this.m_depth=0,n.m_context.texImage2D(e.GL.TEXTURE_2D,0,e.GL.RGBA,this.m_width,this.m_height,this.m_depth,e.GL.RGBA,e.GL.UNSIGNED_BYTE,new Uint8Array(this.m_colorTable)),n.m_context.bindTexture(e.GL.TEXTURE_2D,null),t.modified()},this.colorTable=function(){return this.m_colorTable},this.setColorTable=function(t){return this.m_colorTable!==t&&(this.m_colorTable=t,this.modified(),!0)},this.range=function(){return n},this.setRange=function(t){return n!==t&&(n=t,this.modified(),!0)},this.updateRange=function(t){t instanceof Array||console.log("[error] Invalid data type for range. Requires array [min,max]"),t[0]<n[0]&&(n[0]=t[0],this.modified()),t[1]>n[1]&&(n[1]=t[1],this.modified())},this},inherit(e.lookupTable,e.texture),e.uniform=function(t,n){"use strict";if(!(this instanceof e.uniform))return new e.uniform(t,n);this.getTypeNumberOfComponents=function(t){switch(t){case e.GL.FLOAT:case e.GL.INT:case e.GL.BOOL:return 1;case e.GL.FLOAT_VEC2:case e.GL.INT_VEC2:case e.GL.BOOL_VEC2:return 2;case e.GL.FLOAT_VEC3:case e.GL.INT_VEC3:case e.GL.BOOL_VEC3:return 3;case e.GL.FLOAT_VEC4:case e.GL.INT_VEC4:case e.GL.BOOL_VEC4:return 4;case e.GL.FLOAT_MAT3:return 9;case e.GL.FLOAT_MAT4:return 16;default:return 0}};var i=t,r=n,o=[];return o.length=this.getTypeNumberOfComponents(i),this.name=function(){return r},this.type=function(){return i},this.get=function(){return o},this.set=function(t){var e=0,n=o.length;if(1!==n)for(e=0;e<n;e+=1)o[e]=t[e];else o[0]=t},this.callGL=function(t,n){switch(i){case e.GL.BOOL:case e.GL.INT:t.m_context.uniform1iv(n,o);break;case e.GL.FLOAT:t.m_context.uniform1fv(n,o);break;case e.GL.BOOL_VEC2:case e.GL.INT_VEC2:t.m_context.uniform2iv(n,o);break;case e.GL.FLOAT_VEC2:t.m_context.uniform2fv(n,o);break;case e.GL.BOOL_VEC3:case e.GL.INT_VEC3:t.m_context.uniform3iv(n,o);break;case e.GL.FLOAT_VEC3:t.m_context.uniform3fv(n,o);break;case e.GL.BOOL_VEC4:case e.GL.INT_VEC4:t.m_context.uniform4iv(n,o);break;case e.GL.FLOAT_VEC4:t.m_context.uniform4fv(n,o);break;case e.GL.FLOAT_MAT3:t.m_context.uniformMatrix3fv(n,e.GL.FALSE,o);break;case e.GL.FLOAT_MAT4:t.m_context.uniformMatrix4fv(n,e.GL.FALSE,o)}},this.update=function(t,e){},this},e.modelViewUniform=function(t){"use strict";return this instanceof e.modelViewUniform?(t||(t="modelViewMatrix"),e.uniform.call(this,e.GL.FLOAT_MAT4,t),this.set(r.create()),this.update=function(t,e){this.set(t.m_modelViewMatrix)},this):new e.modelViewUniform(t)},inherit(e.modelViewUniform,e.uniform),e.modelViewOriginUniform=function(t,n){"use strict";if(!(this instanceof e.modelViewOriginUniform))return new e.modelViewOriginUniform(t,n);t||(t="modelViewMatrix");var i=[(n=n||[0,0,0])[0],n[1],n[2]||0];return e.uniform.call(this,e.GL.FLOAT_MAT4,t),this.set(r.create()),this.setOrigin=function(t){i=[(t=t||[0,0,0])[0],t[1],t[2]||0]},this.update=function(t,e){var n=t.m_modelViewMatrix;if(t.m_modelViewAlignment){var o=t.m_modelViewAlignment;(n=n.slice?n.slice():Array.prototype.slice.call(n))[12]=Math.round(n[12]/o.roundx)*o.roundx+o.dx,n[13]=Math.round(n[13]/o.roundy)*o.roundy+o.dy}n=r.translate(r.create(),n,i),this.set(n)},this},inherit(e.modelViewOriginUniform,e.uniform),e.projectionUniform=function(t){"use strict";return this instanceof e.projectionUniform?(t||(t="projectionMatrix"),e.uniform.call(this,e.GL.FLOAT_MAT4,t),this.set(r.create()),this.update=function(t,e){this.set(t.m_projectionMatrix)},this):new e.projectionUniform(t)},inherit(e.projectionUniform,e.uniform),e.floatUniform=function(t,n){"use strict";if(!(this instanceof e.floatUniform))return new e.floatUniform(t,n);t||(t="floatUniform"),n=void 0===n?1:n,e.uniform.call(this,e.GL.FLOAT,t),this.set(n)},inherit(e.floatUniform,e.uniform),e.normalMatrixUniform=function(t){"use strict";return this instanceof e.normalMatrixUniform?(t||(t="normalMatrix"),e.uniform.call(this,e.GL.FLOAT_MAT4,t),this.set(r.create()),this.update=function(t,e){this.set(t.m_normalMatrix)},this):new e.normalMatrixUniform(t)},inherit(e.normalMatrixUniform,e.uniform),e.vertexAttributeKeys={Position:0,Normal:1,TextureCoordinate:2,Color:3,Scalar:4,CountAttributeIndex:5},e.vertexAttributeKeysIndexed={Zero:0,One:1,Two:2,Three:3,Four:4,Five:5,Six:6,Seven:7,Eight:8,Nine:9},e.vertexAttribute=function(t){"use strict";if(!(this instanceof e.vertexAttribute))return new e.vertexAttribute(t);var n=t;this.name=function(){return n},this.bindVertexData=function(t,e){var i=t.m_mapper.geometryData().sourceData(e),r=t.m_material.shaderProgram();t.m_context.vertexAttribPointer(r.attributeLocation(n),i.attributeNumberOfComponents(e),i.attributeDataType(e),i.normalized(e),i.attributeStride(e),i.attributeOffset(e)),t.m_context.enableVertexAttribArray(r.attributeLocation(n))},this.undoBindVertexData=function(t,e){e=e;var i=t.m_material.shaderProgram();t.m_context.disableVertexAttribArray(i.attributeLocation(n))}},e.source=function(){"use strict";return this instanceof e.source?(e.object.call(this),this.create=function(){},this):new e.source},inherit(e.source,e.object),e.planeSource=function(){"use strict";if(!(this instanceof e.planeSource))return new e.planeSource;e.source.call(this);var t=[0,0,0],n=[1,0,0],i=[0,1,0],r=[0,0,1],o=null;this.setOrigin=function(e,n,i){t[0]=e,t[1]=n,t[2]=i},this.setPoint1=function(t,e,i){n[0]=t,n[1]=e,n[2]=i},this.setPoint2=function(t,e,n){i[0]=t,i[1]=e,i[2]=n},this.create=function(){o=new e.geometryData;var a,s,l,u,c=[],h=[],p=[],d=[],f=[],v=0,g=0,m=0,y=0,x=[],_=[],A=[],b=[],w=[],O=null,S=null,M=null;for(c.length=3,h.length=2,p.length=3,d.length=3,f.length=3,a=0;a<3;a+=1)p[a]=n[a]-t[a],d[a]=i[a]-t[a];for(x.length=12,_.length=12,b.length=8,w.length=4,a=0;a<2;a+=1)for(h[1]=a/1,s=0;s<2;s+=1){for(h[0]=s/1,l=0;l<3;l+=1)c[l]=t[l]+h[0]*p[l]+h[1]*d[l];x[v++]=c[0],x[v++]=c[1],x[v++]=c[2],A[m++]=1,A[m++]=1,A[m++]=1,_[g++]=r[0],_[g++]=r[1],_[g++]=r[2],b[y++]=h[0],b[y++]=h[1]}for(a=0;a<1;a+=1)for(s=0;s<1;s+=1)f[0]=s+2*a,f[1]=f[0]+1,f[2]=f[0]+1+2,f[3]=f[0]+1+1;for(a=0;a<4;a+=1)w[a]=a;return(O=new e.triangleStrip).setIndices(w),(S=e.sourceDataP3fv()).pushBack(x),(M=e.sourceDataC3fv()).pushBack(A),(u=e.sourceDataT2fv()).pushBack(b),o.addSource(S),o.addSource(M),o.addSource(u),o.addPrimitive(O),o}},inherit(e.planeSource,e.source),e.pointSource=function(){"use strict";if(!(this instanceof e.pointSource))return new e.pointSource;e.source.call(this);var t=this,n=[],i=[],r=[],o=[],a=null;this.getPositions=function(){return n},this.setPositions=function(e){e instanceof Array?n=e:console.log("[ERROR] Invalid data type for positions. Array is required."),t.modified()},this.getColors=function(){return i},this.setColors=function(e){e instanceof Array?i=e:console.log("[ERROR] Invalid data type for colors. Array is required."),t.modified()},this.getSize=function(){return o},this.setSize=function(t){o=t,this.modified()},this.setTextureCoordinates=function(e){e instanceof Array?r=e:console.log("[ERROR] Invalid data type for texture coordinates. Array is required."),t.modified()},this.create=function(){if(a=new e.geometryData,n.length%3==0){var t,s,l,u,c,h=n.length/3,p=0,d=[];for(d.length=h,p=0;p<h;p+=1)d[p]=p;if(c=e.sourceDataDf(),h!==o.length)for(p=0;p<h;p+=1)c.pushBack(o);else c.setData(o);return a.addSource(c),(t=new e.points).setIndices(d),(s=e.sourceDataP3fv()).pushBack(n),a.addSource(s),i.length>0&&i.length===n.length?((l=e.sourceDataC3fv()).pushBack(i),a.addSource(l)):i.length>0&&i.length!==n.length&&console.log("[ERROR] Number of colors are different than number of points"),r.length>0&&r.length===n.length?((u=e.sourceDataT2fv()).pushBack(r),a.addSource(u)):r.length>0&&r.length/2!=n.length/3&&console.log("[ERROR] Number of texture coordinates are different than number of points"),a.addPrimitive(t),a}console.log("[ERROR] Invalid length of the points array")}},inherit(e.pointSource,e.source),e.lineSource=function(t,n){"use strict";if(!(this instanceof e.lineSource))return new e.lineSource;e.source.call(this);var i=t,r=n;this.setPositions=function(t){return t instanceof Array?(i=t,this.modified(),!0):(console.log("[ERROR] Invalid data type for positions. Array is required."),!1)},this.setColors=function(t){return t instanceof Array?(r=t,this.modified(),!0):(console.log("[ERROR] Invalid data type for colors. Array is required."),!1)},this.create=function(){if(i)if(i.length%3==0){if(i.length%3==0){var t,n,o,a,s=new e.geometryData,l=i.length/3,u=[];for(u.length=l,t=0;t<l;t+=1)u[t]=t;return(n=new e.lines).setIndices(u),(o=e.sourceDataP3fv()).pushBack(i),s.addSource(o),r&&r.length>0&&r.length===i.length?((a=e.sourceDataC3fv()).pushBack(r),s.addSource(a)):r&&r.length>0&&r.length!==i.length&&console.log("[error] Number of colors are different than number of points"),s.addPrimitive(n),s}console.log("[ERROR] Invalid length of the points array")}else console.log("[error] Line source requires 3d points");else console.log("[error] Invalid positions")}},inherit(e.lineSource,e.source),e.utils=function(){"use strict";return this instanceof e.utils?(e.object.call(this),this):new e.utils},inherit(e.utils,e.object),e.utils.computePowerOfTwo=function(t,e){"use strict";for(e=e||1;e<t;)e*=2;return e},e.utils.createTextureVertexShader=function(t){"use strict";var n=["attribute vec3 vertexPosition;","attribute vec3 textureCoord;","uniform mediump float pointSize;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","varying highp vec3 iTextureCoord;","void main(void)","{","gl_PointSize = pointSize;","gl_Position = projectionMatrix * modelViewMatrix * vec4(vertexPosition, 1.0);"," iTextureCoord = textureCoord;","}"].join("\n");return e.getCachedShader(e.GL.VERTEX_SHADER,t,n)},e.utils.createTextureFragmentShader=function(t){"use strict";var n=["varying highp vec3 iTextureCoord;","uniform sampler2D sampler2d;","uniform mediump float opacity;","void main(void) {","gl_FragColor = vec4(texture2D(sampler2d, vec2(iTextureCoord.s, iTextureCoord.t)).xyz, opacity);","}"].join("\n");return e.getCachedShader(e.GL.FRAGMENT_SHADER,t,n)},e.utils.createRgbaTextureFragmentShader=function(t){"use strict";var n=["varying highp vec3 iTextureCoord;","uniform sampler2D sampler2d;","uniform mediump float opacity;","void main(void) {","  mediump vec4 color = vec4(texture2D(sampler2d, vec2(iTextureCoord.s, iTextureCoord.t)).xyzw);","  color.w *= opacity;","  gl_FragColor = color;","}"].join("\n");return e.getCachedShader(e.GL.FRAGMENT_SHADER,t,n)},e.utils.createVertexShader=function(t){"use strict";var n=["attribute vec3 vertexPosition;","attribute vec3 vertexColor;","uniform mediump float pointSize;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","varying mediump vec3 iVertexColor;","varying highp vec3 iTextureCoord;","void main(void)","{","gl_PointSize = pointSize;","gl_Position = projectionMatrix * modelViewMatrix * vec4(vertexPosition, 1.0);"," iVertexColor = vertexColor;","}"].join("\n");return e.getCachedShader(e.GL.VERTEX_SHADER,t,n)},e.utils.createPointVertexShader=function(t){"use strict";var n=["attribute vec3 vertexPosition;","attribute vec3 vertexColor;","attribute float vertexSize;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","varying mediump vec3 iVertexColor;","varying highp vec3 iTextureCoord;","void main(void)","{","gl_PointSize =  vertexSize;","gl_Position = projectionMatrix * modelViewMatrix * vec4(vertexPosition, 1.0);"," iVertexColor = vertexColor;","}"].join("\n");return e.getCachedShader(e.GL.VERTEX_SHADER,t,n)},e.utils.createVertexShaderSolidColor=function(t){"use strict";var n=["attribute vec3 vertexPosition;","uniform mediump float pointSize;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","void main(void)","{","gl_PointSize = pointSize;","gl_Position = projectionMatrix * modelViewMatrix * vec4(vertexPosition, 1.0);","}"].join("\n");return e.getCachedShader(e.GL.VERTEX_SHADER,t,n)},e.utils.createVertexShaderColorMap=function(t,n,i){"use strict";n=n,i=i;var r=["attribute vec3 vertexPosition;","attribute float vertexScalar;","uniform mediump float pointSize;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float lutMin;","uniform float lutMax;","varying mediump float iVertexScalar;","void main(void)","{","gl_PointSize = pointSize;","gl_Position = projectionMatrix * modelViewMatrix * vec4(vertexPosition, 1.0);","iVertexScalar = (vertexScalar-lutMin)/(lutMax-lutMin);","}"].join("\n");return e.getCachedShader(e.GL.VERTEX_SHADER,t,r)},e.utils.createFragmentShader=function(t){"use strict";var n=["varying mediump vec3 iVertexColor;","uniform mediump float opacity;","void main(void) {","gl_FragColor = vec4(iVertexColor, opacity);","}"].join("\n");return e.getCachedShader(e.GL.FRAGMENT_SHADER,t,n)},e.utils.createPhongVertexShader=function(t){"use strict";var n=["attribute highp vec3 vertexPosition;","attribute mediump vec3 vertexNormal;","attribute mediump vec3 vertexColor;","uniform highp mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 normalMatrix;","varying highp vec4 varPosition;","varying mediump vec3 varNormal;","varying mediump vec3 varVertexColor;","void main(void)","{","varPosition = modelViewMatrix * vec4(vertexPosition, 1.0);","gl_Position = projectionMatrix * varPosition;","varNormal = vec3(normalMatrix * vec4(vertexNormal, 0.0));","varVertexColor = vertexColor;","}"].join("\n");return e.getCachedShader(e.GL.VERTEX_SHADER,t,n)},e.utils.createPhongFragmentShader=function(t){"use strict";var n=["uniform mediump float opacity;","precision mediump float;","varying vec3 varNormal;","varying vec4 varPosition;","varying mediump vec3 varVertexColor;","const vec3 lightPos = vec3(0.0, 0.0,10000.0);","const vec3 ambientColor = vec3(0.01, 0.01, 0.01);","const vec3 specColor = vec3(0.0, 0.0, 0.0);","void main() {","vec3 normal = normalize(varNormal);","vec3 lightDir = normalize(lightPos);","vec3 reflectDir = -reflect(lightDir, normal);","vec3 viewDir = normalize(-varPosition.xyz);","float lambertian = max(dot(lightDir, normal), 0.0);","vec3 color = vec3(0.0);","if(lambertian > 0.0) {","  color = lambertian * varVertexColor;","}","gl_FragColor = vec4(color * opacity, 1.0 - opacity);","}"].join("\n");return e.getCachedShader(e.GL.FRAGMENT_SHADER,t,n)},e.utils.createFragmentShaderSolidColor=function(t,n){"use strict";var i=["uniform mediump float opacity;","void main(void) {","gl_FragColor = vec4("+n[0]+","+n[1]+","+n[2]+", opacity);","}"].join("\n");return e.getCachedShader(e.GL.FRAGMENT_SHADER,t,i)},e.utils.createFragmentShaderColorMap=function(t){"use strict";var n=["varying mediump float iVertexScalar;","uniform sampler2D sampler2d;","uniform mediump float opacity;","void main(void) {","gl_FragColor = vec4(texture2D(sampler2d, vec2(iVertexScalar, 0.0)).xyz, opacity);","}"].join("\n");return e.getCachedShader(e.GL.FRAGMENT_SHADER,t,n)},e.utils.createPointSpritesVertexShader=function(t){"use strict";var n=["attribute vec3 vertexPosition;","attribute vec3 vertexColor;","uniform mediump vec2 pointSize;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float height;","varying mediump vec3 iVertexColor;","varying highp float iVertexScalar;","void main(void)","{","mediump float realPointSize = pointSize.y;","if (pointSize.x > pointSize.y) {","  realPointSize = pointSize.x;}","gl_PointSize = realPointSize ;","iVertexScalar = vertexPosition.z;","gl_Position = projectionMatrix * modelViewMatrix * vec4(vertexPosition.xy, height, 1.0);"," iVertexColor = vertexColor;","}"].join("\n");return e.getCachedShader(e.GL.VERTEX_SHADER,t,n)},e.utils.createPointSpritesFragmentShader=function(t){"use strict";var n=["varying mediump vec3 iVertexColor;","varying highp float iVertexScalar;","uniform sampler2D opacityLookup;","uniform highp float lutMin;","uniform highp float lutMax;","uniform sampler2D scalarsToColors;","uniform int useScalarsToColors;","uniform int useVertexColors;","uniform mediump vec2 pointSize;","uniform mediump float vertexColorWeight;","void main(void) {","mediump vec2 realTexCoord;","if (pointSize.x > pointSize.y) {","  realTexCoord = vec2(1.0, pointSize.y/pointSize.x) * gl_PointCoord;","} else {","  realTexCoord = vec2(pointSize.x/pointSize.y, 1.0) * gl_PointCoord;","}","highp float texOpacity = texture2D(opacityLookup, realTexCoord).w;","if (useScalarsToColors == 1) {","  gl_FragColor = vec4(texture2D(scalarsToColors, vec2((iVertexScalar - lutMin)/(lutMax - lutMin), 0.0)).xyz, texOpacity);","} else if (useVertexColors == 1) {","  gl_FragColor = vec4(iVertexColor, texOpacity);","} else {","  gl_FragColor = vec4(texture2D(opacityLookup, realTexCoord).xyz, texOpacity);","}}"].join("\n");return e.getCachedShader(e.GL.FRAGMENT_SHADER,t,n)},e.utils.createTextureMaterial=function(t,n){"use strict";var i,r,o=new e.material,a=new e.blend,s=new e.shaderProgram,l=e.utils.createTextureVertexShader(e.GL),u=null,c=new e.vertexAttribute("vertexPosition"),h=new e.vertexAttribute("textureCoord"),p=new e.floatUniform("pointSize",5),d=new e.projectionUniform("projectionMatrix"),f=new e.uniform(e.GL.INT,"sampler2d");return i=void 0!==n?new e.modelViewOriginUniform("modelViewMatrix",n):new e.modelViewUniform("modelViewMatrix"),f.set(0),s.addVertexAttribute(c,e.vertexAttributeKeys.Position),s.addVertexAttribute(h,e.vertexAttributeKeys.TextureCoordinate),s.addUniform(p),s.addUniform(i),s.addUniform(d),u=t?e.utils.createRgbaTextureFragmentShader(e.GL):e.utils.createTextureFragmentShader(e.GL),r=new e.floatUniform("opacity",1),s.addUniform(r),s.addShader(u),s.addShader(l),o.addAttribute(s),o.addAttribute(a),o},e.utils.createGeometryMaterial=function(){"use strict";var t=new e.material,n=new e.shaderProgram,i=e.utils.createVertexShader(e.GL),r=e.utils.createFragmentShader(e.GL),o=new e.vertexAttribute("vertexPosition"),a=new e.vertexAttribute("vertexColor"),s=new e.floatUniform("pointSize",5),l=new e.floatUniform("opacity",1),u=new e.modelViewUniform("modelViewMatrix"),c=new e.projectionUniform("projectionMatrix");return n.addVertexAttribute(o,e.vertexAttributeKeys.Position),n.addVertexAttribute(a,e.vertexAttributeKeys.Color),n.addUniform(s),n.addUniform(l),n.addUniform(u),n.addUniform(c),n.addShader(r),n.addShader(i),t.addAttribute(n),t},e.utils.createPointGeometryMaterial=function(t){"use strict";t=void 0===t?1:t;var n=new e.material,i=new e.blend,r=new e.shaderProgram,o=e.utils.createPointVertexShader(e.GL),a=e.utils.createFragmentShader(e.GL),s=new e.vertexAttribute("vertexPosition"),l=new e.vertexAttribute("vertexColor"),u=new e.vertexAttribute("vertexSize"),c=new e.floatUniform("opacity",t),h=new e.modelViewUniform("modelViewMatrix"),p=new e.projectionUniform("projectionMatrix");return r.addVertexAttribute(s,e.vertexAttributeKeys.Position),r.addVertexAttribute(l,e.vertexAttributeKeys.Color),r.addVertexAttribute(u,e.vertexAttributeKeys.Scalar),r.addUniform(c),r.addUniform(h),r.addUniform(p),r.addShader(a),r.addShader(o),n.addAttribute(r),n.addAttribute(i),n},e.utils.createPhongMaterial=function(){"use strict";var t=new e.material,n=new e.shaderProgram,i=e.utils.createPhongVertexShader(e.GL),r=e.utils.createPhongFragmentShader(e.GL),o=new e.vertexAttribute("vertexPosition"),a=new e.vertexAttribute("vertexNormal"),s=new e.vertexAttribute("vertexColor"),l=new e.floatUniform("opacity",1),u=new e.modelViewUniform("modelViewMatrix"),c=new e.normalMatrixUniform("normalMatrix"),h=new e.projectionUniform("projectionMatrix");return n.addVertexAttribute(o,e.vertexAttributeKeys.Position),n.addVertexAttribute(a,e.vertexAttributeKeys.Normal),n.addVertexAttribute(s,e.vertexAttributeKeys.Color),n.addUniform(l),n.addUniform(u),n.addUniform(h),n.addUniform(c),n.addShader(r),n.addShader(i),t.addAttribute(n),t},e.utils.createColorMaterial=function(){"use strict";var t=new e.material,n=new e.blend,i=new e.shaderProgram,r=e.utils.createVertexShader(e.GL),o=e.utils.createFragmentShader(e.GL),a=new e.vertexAttribute("vertexPosition"),s=new e.vertexAttribute("textureCoord"),l=new e.vertexAttribute("vertexColor"),u=new e.floatUniform("pointSize",5),c=new e.floatUniform("opacity",1),h=new e.modelViewUniform("modelViewMatrix"),p=new e.projectionUniform("projectionMatrix");return i.addVertexAttribute(a,e.vertexAttributeKeys.Position),i.addVertexAttribute(l,e.vertexAttributeKeys.Color),i.addVertexAttribute(s,e.vertexAttributeKeys.TextureCoordinate),i.addUniform(u),i.addUniform(c),i.addUniform(h),i.addUniform(p),i.addShader(o),i.addShader(r),t.addAttribute(i),t.addAttribute(n),t},e.utils.createColorMappedMaterial=function(t){"use strict";t||(t=new e.lookupTable);var n=t.range(),i=new e.material,r=new e.blend,o=new e.shaderProgram,a=e.utils.createVertexShaderColorMap(e.GL,n[0],n[1]),s=e.utils.createFragmentShaderColorMap(e.GL),l=new e.vertexAttribute("vertexPosition"),u=new e.vertexAttribute("vertexScalar"),c=new e.floatUniform("pointSize",5),h=new e.floatUniform("opacity",1),p=new e.floatUniform("lutMin",n[0]),d=new e.floatUniform("lutMax",n[1]),f=new e.modelViewUniform("modelViewMatrix"),v=new e.projectionUniform("projectionMatrix"),g=t;return new e.uniform(e.GL.FLOAT,"sampler2d").set(0),o.addVertexAttribute(l,e.vertexAttributeKeys.Position),o.addVertexAttribute(u,e.vertexAttributeKeys.Scalar),o.addUniform(c),o.addUniform(h),o.addUniform(p),o.addUniform(d),o.addUniform(f),o.addUniform(v),o.addShader(s),o.addShader(a),i.addAttribute(o),i.addAttribute(r),i.addAttribute(g),i},e.utils.updateColorMappedMaterial=function(t,e){"use strict";if(t)if(e){var n=t.shaderProgram().uniform("lutMin"),i=t.shaderProgram().uniform("lutMax");n.set(e.range()[0]),i.set(e.range()[1]),t.setAttribute(e)}else console.log("[warning] Invalid lookup table. Nothing to update.");else console.log("[warning] Invalid material. Nothing to update.")},e.utils.createSolidColorMaterial=function(t){"use strict";t||(t=[1,1,1]);var n=new e.material,i=new e.blend,r=new e.shaderProgram,o=e.utils.createVertexShaderSolidColor(e.GL),a=e.utils.createFragmentShaderSolidColor(e.GL,t),s=new e.vertexAttribute("vertexPosition"),l=new e.floatUniform("pointSize",5),u=new e.floatUniform("opacity",1),c=new e.modelViewUniform("modelViewMatrix"),h=new e.projectionUniform("projectionMatrix");return r.addVertexAttribute(s,e.vertexAttributeKeys.Position),r.addUniform(l),r.addUniform(u),r.addUniform(c),r.addUniform(h),r.addShader(a),r.addShader(o),n.addAttribute(r),n.addAttribute(i),n},e.utils.createPointSpritesMaterial=function(t,n){"use strict";var i=void 0===n?[0,1]:n.range(),r=new e.material,o=new e.blend,a=new e.shaderProgram,s=e.utils.createPointSpritesVertexShader(e.GL),l=e.utils.createPointSpritesFragmentShader(e.GL),u=new e.vertexAttribute("vertexPosition"),c=new e.vertexAttribute("vertexColor"),h=new e.floatUniform("height",0),p=new e.floatUniform("vertexColorWeight",0),d=new e.floatUniform("lutMin",i[0]),f=new e.floatUniform("lutMax",i[1]),v=new e.modelViewUniform("modelViewMatrix"),g=new e.projectionUniform("projectionMatrix"),m=new e.uniform(e.GL.INT,"opacityLookup"),y=new e.uniform(e.GL.INT,"scalarsToColors"),x=new e.uniform(e.GL.INT,"useScalarsToColors"),_=new e.uniform(e.GL.INT,"useVertexColors"),A=new e.uniform(e.GL.FLOAT_VEC2,"pointSize"),b=new e.texture;return m.set(0),y.set(1),x.set(0),_.set(0),A.set([1,1]),a.addVertexAttribute(u,e.vertexAttributeKeys.Position),a.addVertexAttribute(c,e.vertexAttributeKeys.Color),a.addUniform(h),a.addUniform(p),a.addUniform(v),a.addUniform(g),a.addUniform(m),a.addUniform(_),a.addUniform(x),a.addUniform(A),a.addShader(l),a.addShader(s),r.addAttribute(a),r.addAttribute(o),n&&(a.addUniform(y),x.set(1),a.addUniform(d),a.addUniform(f),n.setTextureUnit(1),r.addAttribute(n)),b.setImage(t),b.setTextureUnit(0),r.addAttribute(b),r},e.utils.createPlane=function(t,n,i,r,o,a,s,l,u){"use strict";var c=new e.mapper,h=new e.planeSource,p=e.utils.createGeometryMaterial(),d=new e.actor;return h.setOrigin(t,n,i),h.setPoint1(r,o,a),h.setPoint2(s,l,u),c.setGeometryData(h.create()),d.setMapper(c),d.setMaterial(p),d},e.utils.createTexturePlane=function(t,n,i,r,o,a,s,l,u,c){"use strict";var h=new e.mapper,p=new e.planeSource,d=e.utils.createTextureMaterial(c,[t,n,i]),f=new e.actor;return p.setPoint1(r-t,o-n,a-i),p.setPoint2(s-t,l-n,u-i),h.setGeometryData(p.create()),f.setMapper(h),f.setMaterial(d),f},e.utils.createPoints=function(t,n,i,r,o){"use strict";if(!t)return console.log("[ERROR] Cannot create points without positions"),null;o=void 0===o?1:o;var a=new e.mapper,s=new e.pointSource,l=e.utils.createPointGeometryMaterial(o),u=new e.actor;return s.setPositions(t),i&&s.setColors(i),r&&s.setTextureCoordinates(r),n?s.setSize(n):s.setSize(1),a.setGeometryData(s.create()),u.setMapper(a),u.setMaterial(l),u},e.utils.createPointSprites=function(t,n,i,r){"use strict";if(!t)return console.log("[ERROR] Point sprites requires an image"),null;if(!n)return console.log("[ERROR] Cannot create points without positions"),null;var o=new e.mapper,a=new e.pointSource,s=e.utils.createPointSpritesMaterial(t),l=new e.actor;return a.setPositions(n),i&&a.setColors(i),r&&a.setTextureCoordinates(r),o.setGeometryData(a.create()),l.setMapper(o),l.setMaterial(s),l},e.utils.createLines=function(t,n){"use strict";if(!t)return console.log("[ERROR] Cannot create points without positions"),null;var i=new e.mapper,r=new e.lineSource,o=e.utils.createGeometryMaterial(),a=new e.actor;return r.setPositions(t),n&&r.setColors(n),i.setGeometryData(r.create()),a.setMapper(i),a.setMaterial(o),a},e.utils.createColorLegend=function(t,n,i,r,o,a,s){"use strict";if(!n)return console.log("[error] Invalid lookup table"),[];var l=i[0]+r,u=i[1],c=i[0],h=i[1]+o,p=[],d=null,f=null,v=e.groupNode();return(f=(d=e.utils.createTexturePlane(i[0],i[1],i[2],l,u,0,c,h,0,!0)).material()).addAttribute(n),d.setMaterial(f),v.addChild(d),d.material().setBinNumber(e.material.RenderBin.Overlay),d.setReferenceFrame(e.boundingObject.ReferenceFrame.Absolute),p.push(d),p=p.concat(function(t,n,i,r,o,a,s,l,u,c,h,p,d,f,v){v=v;var g=null,m=(u-a)/p,y=[],x=[];for(g=0;g<=p;g+=1)y.push(a+m*g),y.push(s),y.push(l),y.push(a+m*g),y.push(s+f),y.push(l);return x=x.concat(function(t,n,i){if(n)if(n.length%3==0){if(i){var r,o=null,a=e.utils.computePowerOfTwo(48),s=0,l=[],u=[],c=[],h=[],p=n[6]-n[0];for(u.length=3,c.length=3,h.length=3,r=0;r<2;r+=1)s=r*(n.length-3),u[0]=n[s]-p,u[1]=n[s+1]-2*p,u[2]=n[s+2],c[0]=n[s]+p,c[1]=u[1],c[2]=u[2],h[0]=u[0],h[1]=n[1],h[2]=u[2],(o=e.utils.createTexturePlane(u[0],u[1],u[2],c[0],c[1],c[2],h[0],h[1],h[2],!0)).setReferenceFrame(e.boundingObject.ReferenceFrame.Absolute),o.material().setBinNumber(e.material.RenderBin.Overlay),o.material().addAttribute(e.utils.create2DTexture(i[r].toFixed(2).toString(),12,null)),l.push(o);return u[0]=.5*(n[0]+n[n.length-3]-a),u[1]=n[1]+4,u[2]=n[2],c[0]=u[0]+a,c[1]=u[1],c[2]=u[2],h[0]=u[0],h[1]=u[1]+a,h[2]=u[2],(o=e.utils.createTexturePlane(u[0],u[1],u[2],c[0],c[1],c[2],h[0],h[1],h[2],!0)).setReferenceFrame(e.boundingObject.ReferenceFrame.Absolute),o.material().setBinNumber(e.material.RenderBin.Overlay),o.material().addAttribute(e.utils.create2DTexture(t,24,null)),l.push(o),l}console.log("[error] Create labels requires Valid range")}else console.log("[error] Create labels require positions array contain 3d points");else console.log("[error] Create labels requires positions (x,y,z) array")}(t,y,n.range()))}(t,n,i[0],i[1],i[1],c,u,0,l,0,0,a,0,5,3))},e.utils.create2DTexture=function(t,n,i,r,o,a,s){"use strict";var l=document.getElementById("textRendering"),u=null,c=e.texture();return r=r||"sans-serif",o=o||"center",a=a||"bottom",void 0===s&&(s=!0),l||(l=document.createElement("canvas")),u=l.getContext("2d"),l.setAttribute("id","textRendering"),l.style.display="none",l.height=e.utils.computePowerOfTwo(8*n),l.width=l.height,u.fillStyle="rgba(0, 0, 0, 0)",u.fillRect(0,0,u.canvas.width,u.canvas.height),u.fillStyle="rgba(200, 85, 10, 1.0)",u.textAlign=o,u.textBaseline=a,u.font=4*n+"px "+r,s&&(u.font="bold "+u.font),u.fillText(t,l.width/2,l.height/2,l.width),c.setImage(l),c.updateDimensions(),c},e.picker=function(){"use strict";if(!(this instanceof e.picker))return new e.picker;e.object.call(this);var t=[];return this.getActors=function(){return t},this.pick=function(e,n,i){if(void 0===e)return 0;if(void 0===n)return 0;if(void 0===i)return 0;t=[];var r,a,s,l,u,c,h,p,d,f,v,g=i.camera(),m=i.width(),y=i.height(),x=g.focalPoint(),_=o.fromValues(x[0],x[1],x[2],1),A=i.worldToDisplay(_,g.viewMatrix(),g.projectionMatrix(),m,y),b=o.fromValues(e,n,A[2],1),w=i.displayToWorld(b,g.viewMatrix(),g.projectionMatrix(),m,y),O=g.position(),S=[];for(s=0;s<3;s+=1)S[s]=w[s]-O[s];for(r=i.sceneRoot().children(),a=0,s=0;s<r.length;s+=1)if(!0===(v=r[s]).visible()){if(l=v.bounds(),S[0]>=0?(u=(l[0]-O[0])/S[0],c=(l[1]-O[0])/S[0]):(u=(l[1]-O[0])/S[0],c=(l[0]-O[0])/S[0]),S[1]>=0?(h=(l[2]-O[1])/S[1],p=(l[3]-O[1])/S[1]):(h=(l[3]-O[1])/S[1],p=(l[2]-O[1])/S[1]),u>p||h>c)continue;if(h>u&&(u=h),p<c&&(c=p),S[2]>=0?(d=(l[4]-O[2])/S[2],f=(l[5]-O[2])/S[2]):(d=(l[5]-O[2])/S[2],f=(l[4]-O[2])/S[2]),u>f||d>c)continue;d>u&&(u=d),f<c&&(c=f),t[a]=v,a+=1}return a},this},inherit(e.picker,e.object),e.shapefileReader=function(){"use strict";if(!(this instanceof e.shapefileReader))return new e.shapefileReader;var t=this;return this.int8=function(t,e){return t.charCodeAt(e)},this.bint32=function(t,e){return((255&t.charCodeAt(e))<<24)+((255&t.charCodeAt(e+1))<<16)+((255&t.charCodeAt(e+2))<<8)+(255&t.charCodeAt(e+3))},this.lint32=function(t,e){return((255&t.charCodeAt(e+3))<<24)+((255&t.charCodeAt(e+2))<<16)+((255&t.charCodeAt(e+1))<<8)+(255&t.charCodeAt(e))},this.bint16=function(t,e){return((255&t.charCodeAt(e))<<8)+(255&t.charCodeAt(e+1))},this.lint16=function(t,e){return((255&t.charCodeAt(e+1))<<8)+(255&t.charCodeAt(e))},this.ldbl64=function(t,e){var n=255&t.charCodeAt(e),i=255&t.charCodeAt(e+1),r=255&t.charCodeAt(e+2),o=255&t.charCodeAt(e+3),a=255&t.charCodeAt(e+4),s=255&t.charCodeAt(e+5),l=255&t.charCodeAt(e+6),u=255&t.charCodeAt(e+7),c=((127&u)<<4)+((240&l)>>4)-1023;return(1-2*(u>>7))*(1+((15&l)*Math.pow(2,48)+s*Math.pow(2,40)+a*Math.pow(2,32)+o*Math.pow(2,24)+r*Math.pow(2,16)+i*Math.pow(2,8)+n)*Math.pow(2,-52))*Math.pow(2,c)},this.lfloat32=function(t,e){var n=255&t.charCodeAt(e),i=255&t.charCodeAt(e+1),r=255&t.charCodeAt(e+2),o=255&t.charCodeAt(e+3),a=((127&o)<<1)+((254&r)>>7)-127;return(1-2*(o>>7))*(1+((127&r)*Math.pow(2,16)+i*Math.pow(2,8)+n)*Math.pow(2,-23))*Math.pow(2,a)},this.str=function(t,e,n){for(var i=[],r=e;r<e+n;){var o=t[r];if(0===o.charCodeAt(0))break;i.push(o),r+=1}return i.join("")},this.readHeader=function(t){return{code:this.bint32(t,0),length:this.bint32(t,24),version:this.lint32(t,28),shapetype:this.lint32(t,32)}},this.loadShx=function(e){for(var n=[],i=function(i){return n.push(2*t.bint32(e,i)),i+8},r=100;r<e.length;)r=i(r);return n},this.Shapefile=function(t){var e=t.path;s.ajax({url:e+".shx",mimeType:"text/plain; charset=x-user-defined",success:function(n){var i=this.loadShx(n);s.ajax({url:e+".shp",mimeType:"text/plain; charset=x-user-defined",success:function(n){s.ajax({url:e+".dbf",mimeType:"text/plain; charset=x-user-defined",success:function(e){var r=this.loadShp(n,e,i,t);t.success(r)}})}})}})},this.localShapefile=function(e){var n=e.shx,i=e.shp,r=e.dbf,o=new FileReader;o.onloadend=function(){var n=t.loadShx(o.result),a=new FileReader;a.onloadend=function(){var i=a.result,o=new FileReader;o.onloadend=function(){var r=o.result,a=t.loadShp(i,r,n,e);e.success(a)},o.readAsBinaryString(r)},a.readAsBinaryString(i)},o.readAsBinaryString(n)},this.loadDBF=function(e){var n=function(n){return{name:t.str(e,n,10),type:t.str(e,n+11,1),length:t.int8(e,n+16)}};if(4===t.int8(e,0))throw"Level 7 dBASE not supported";for(var i=t.lint32(e,4),r=t.lint16(e,8),o=t.lint16(e,10),a=32,s=[];a<r-1;)s.push(n(a)),a+=32;for(var l=[],u=r;u<r+i*o;)if("*"===t.str(e,u,1))u+=o;else{u+=1;for(var c={},h=0;h<s.length;h+=1){var p,d=s[h];"C"===d.type?p=t.str(e,u,d.length).trim():"N"===d.type&&(p=parseFloat(t.str(e,u,d.length))),u+=d.length,c[d.name]=p}l.push(c)}return l},this.loadShp=function(e,n,i,r){r=r;var o,a=[],s=function(n,i,r){for(var o=[],a=r-1;a>=i;a-=1){var s=t.ldbl64(e,n+16*a),l=t.ldbl64(e,n+16*a+8);o.push([s,l])}return o},l=function(n){var i,r,o,l,u,c,h,p,d,f=n+8,v=t.lint32(e,f);if(0===v)console.log("NULL Shape");else if(1===v){var g=t.ldbl64(e,f+4),m=t.ldbl64(e,f+12);a.push({type:"Point",attr:{},geom:[[g,m]]})}else if(5===v){for(i=t.lint32(e,f+36),r=t.lint32(e,f+40),o=n+52,l=n+52+4*i,d=[],u=0;u<i;u+=1)c=t.lint32(e,o+4*u),h=u+1<i?t.lint32(e,o+4*(u+1)):r,p=s(l,c,h),d.push(p);a.push({type:"Polygon",attr:{},geom:[d]})}else{if(3!==v)throw"Not Implemented: "+v;for(i=t.lint32(e,f+36),r=t.lint32(e,f+40),o=n+52,l=n+52+4*i,d=[],u=0;u<i;u+=1)c=t.lint32(e,o+4*u),h=u+1<i?t.lint32(e,o+4*(u+1)):r,p=s(l,c,h),d.push(p);a.push({type:"Polyline",attr:{},geom:[d]})}},u=this.loadDBF(n);for(o=0;o<i.length;o+=1)l(i[o]);var c=[];for(o=0;o<a.length;o+=1){var h=a[o];h.attr=u[o],c.push(h)}return c},this},e.vtkReader=function(){"use strict";if(!(this instanceof e.vtkReader))return new e.vtkReader;var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n=[],i={},o=null,a=null,s="",l=0,u=0,c=null,h=0;if(0===n.length)for(h=0;h<t.length;h+=1)n[t[h]]=h;return this.ntos=function(t){var e;return 1===(e=t.toString(16)).length&&(e="0"+e),e="%"+e,unescape(e)},this.readReverseBase64=function(){var t;if(!s)return-1;for(;;){if(l>=s.length)return-1;if(t=s.charAt(l),l+=1,n[t])return n[t];if("A"===t)return 0}return-1},this.decode64=function(t){var e="",n=new Array(4),i=!1;for(s=t,l=0;!i&&-1!==(n[0]=this.readReverseBase64())&&-1!==(n[1]=this.readReverseBase64());)n[2]=this.readReverseBase64(),n[3]=this.readReverseBase64(),e+=this.ntos(n[0]<<2&255|n[1]>>4),-1!==n[2]?(e+=this.ntos(n[1]<<4&255|n[2]>>2),-1!==n[3]?e+=this.ntos(n[2]<<6&255|n[3]):i=!0):i=!0;return e},this.readNumber=function(t){return t[u++]+(t[u++]<<8)+(t[u++]<<16)+(t[u++]<<24)},this.readF3Array=function(t,e){var n,i=4*t*3,r=new Int8Array(i);for(n=0;n<i;n+=1)r[n]=e[u],u+=1;return new Float32Array(r.buffer)},this.readColorArray=function(t,e,n){var i,r=0,o=new Array(3*t);for(i=0;i<t;i+=1)o[r++]=e[u++]/255,o[r++]=e[u++]/255,o[r++]=e[u++]/255,u++;n.insert(o)},this.parseObject=function(t){var n,i,o,a,s,l,p,d,f,v,g,m=new e.geometryData,y=e.mapper(),x=[],_=null,A=null,b=null;for(_=atob(t.data),h=0;h<_.length;h+=1)x[h]=255&_.charCodeAt(h);if(u=0,i=this.readNumber(x),n=String.fromCharCode(x[u]),u+=1,m.setName(n),"L"===n)A=this.parseLineData(m,x),b=e.utils.createGeometryMaterial();else if("M"===n)A=this.parseMeshData(m,x),b=e.utils.createPhongMaterial();else if("P"===n)A=this.parsePointData(m,x),b=e.utils.createGeometryMaterial();else{if("C"===n){for(a=this.parseColorMapData(m,x,i),p=[],h=0;h<a.colors.length;h+=1)p.push(a.colors[h][1]),p.push(a.colors[h][2]),p.push(a.colors[h][3]),p.push(255*a.colors[h][0]);return(l=new e.lookupTable).setColorTable(p),d=c.renderWindow().windowSize(),f=a.size[0]*d[0],v=a.size[1]*d[1],(g=[a.position[0]*d[0],(1-a.position[1])*d[1],0])[1]=g[1]-v,v=30,e.utils.createColorLegend(a.title,l,g,f,v,3,0)}console.log("Ignoring unrecognized encoded data type "+n)}return y.setGeometryData(m),t.hasTransparency&&(s=b.shaderProgram().uniform("opacity"),console.log("opacity ",t.opacity),s.set(t.opacity),b.setBinNumber(1e3)),(o=e.actor()).setMapper(y),o.setMaterial(b),o.setMatrix(r.transpose(r.create(),A)),[o]},this.parseLineData=function(t,n){var i,o,a,s,l,c,h,p,d=null,f=null,v=r.create(),g=null,m=0;for(a=this.readNumber(n),g=new Array(3*a),d=new e.sourceDataP3fv,s=this.readF3Array(a,n),p=0;p<a;p+=1)g[m++]=s[3*p],g[m++]=s[3*p+1],g[m++]=s[3*p+2];for(d.insert(g),t.addSource(d),i=new e.sourceDataC3fv,this.readColorArray(a,n,i),t.addSource(i),f=new e.lines,t.addPrimitive(f),o=this.readNumber(n),l=new Int8Array(2*o),p=0;p<2*o;p+=1)l[p]=n[u],u+=1;for(c=new Uint16Array(l.buffer),f.setIndices(c),f.setPrimitiveType(e.GL.LINES),l=new Int8Array(64),p=0;p<64;p+=1)l[p]=n[u],u+=1;return h=new Float32Array(l.buffer),r.copy(v,h),v},this.parseMeshData=function(t,n){var i,o,a,s,l,c,h,p,d,f=null,v=r.create(),g=null,m=null,y=0;for(s=this.readNumber(n),m=new Array(6*s),f=new e.sourceDataP3N3f,l=this.readF3Array(s,n),o=this.readF3Array(s,n),d=0;d<s;d+=1)m[y++]=l[3*d],m[y++]=l[3*d+1],m[y++]=l[3*d+2],m[y++]=o[3*d],m[y++]=o[3*d+1],m[y++]=o[3*d+2];for(f.insert(m),t.addSource(f),i=new e.sourceDataC3fv,this.readColorArray(s,n,i),t.addSource(i),c=[],g=new e.triangles,a=this.readNumber(n),c=new Int8Array(2*a),d=0;d<2*a;d+=1)c[d]=n[u],u+=1;for(h=new Uint16Array(c.buffer),g.setIndices(h),t.addPrimitive(g),c=new Int8Array(64),d=0;d<64;d+=1)c[d]=n[u],u+=1;return p=new Float32Array(c.buffer),r.copy(v,p),v},this.parsePointData=function(t,n){var i,o,a,s,l,c,p=r.create(),d=null,f=null,v=null,g=0;for(i=this.readNumber(n),v=new Array(3*i),d=new e.sourceDataP3fv,o=this.readF3Array(i,n),a=new Uint16Array(i),h=0;h<i;h+=1)a[h]=h,v[g++]=o[3*h],v[g++]=o[3*h+1],v[g++]=o[3*h+2];for(d.insert(v),t.addSource(d),l=new e.sourceDataC3fv,this.readColorArray(i,n,l),t.addSource(l),(f=new e.points).setIndices(a),t.addPrimitive(f),s=new Int8Array(64),h=0;h<64;h+=1)s[h]=n[u],u+=1;return c=new Float32Array(s.buffer),r.copy(p,c),p},this.parseColorMapData=function(t,e,n){var i,r,o,a,s,l={};for(l.numOfColors=n,r=8,i=new Int8Array(r),a=0;a<r;a+=1)i[a]=e[u],u+=1;for(l.position=new Float32Array(i.buffer),r=8,i=new Int8Array(r),a=0;a<r;a+=1)i[a]=e[u],u+=1;for(l.size=new Float32Array(i.buffer),l.colors=[],s=0;s<l.numOfColors;s+=1){for(i=new Int8Array(4),a=0;a<4;a+=1)i[a]=e[u],u+=1;o=[new Float32Array(i.buffer)[0],e[u++],e[u++],e[u++]],l.colors[s]=o}for(l.orientation=e[u++],l.numOfLabels=e[u++],l.title="";u<e.length;)l.title+=String.fromCharCode(e[u++]);return l},this.parseSceneMetadata=function(t,e){var n,i,r,s=o.Renderers[e],l=t.camera();i=(s.size[0]-s.origin[0])*a.width,r=(s.size[1]-s.origin[1])*a.height,t.resize(i,r),l.setCenterOfRotation([s.LookAt[1],s.LookAt[2],s.LookAt[3]]),l.setViewAngleDegrees(s.LookAt[0]),l.setPosition(s.LookAt[7],s.LookAt[8],s.LookAt[9]),l.setFocalPoint(s.LookAt[1],s.LookAt[2],s.LookAt[3]),l.setViewUpDirection(s.LookAt[4],s.LookAt[5],s.LookAt[6]),0===e?(n=s.Background1,t.setBackgroundColor(n[0],n[1],n[2],1)):t.setResizable(!1),t.setLayer(e)},this.initScene=function(){var t,e;if(null===o)return c;for(e=o.Renderers.length-1;e>=0;e-=1)t=this.getRenderer(e),this.parseSceneMetadata(t,e);return c},this.createViewer=function(t){var n;return null===c&&(a=t,(c=e.viewer(t)).init(),c.renderWindow().removeRenderer(c.renderWindow().activeRenderer()),c.renderWindow().addRenderer(new e.depthPeelRenderer),i[0]=c.renderWindow().activeRenderer(),c.renderWindow().resize(t.width,t.height),n=e.pvwInteractorStyle(),c.setInteractorStyle(n)),c},this.deleteViewer=function(){i={},c=null},this.updateCanvas=function(t){return a=t,c.renderWindow().resize(t.width,t.height),c},this.numObjects=function(){return 0},this.getRenderer=function(t){var n;return null!==(n=i[t])&&void 0!==n||((n=new e.renderer).setResetScene(!1),n.setResetClippingRange(!1),c.renderWindow().addRenderer(n),0!==t&&n.camera().setClearMask(e.GL.DepthBufferBit),i[t]=n),n},this.setVtkScene=function(t){o=t},this},e.DataBuffers=function(t){"use strict";if(!(this instanceof e.DataBuffers))return new e.DataBuffers(t);var n,i={};n=t||0===t?t:256;var r=0,o=function(t,e,n,i){if(!t)throw"No destination";n||(n=0),i||(i=e.length);for(var r=0;r<i;r+=1)t[n+r]=e[r]};this.create=function(t,e){if(!e||e<0)throw"Length of buffer must be a positive integer";var r=new Float32Array(n*e);return i[t]={array:r,len:e,dirty:!1},i[t].array},this.alloc=function(t){r+t>=n&&function(t){var e=n;for(2*e<t&&(e=t);e<t;)e*=2;for(var r in n=e,i)if(i.hasOwnProperty(r)){var a=new Float32Array(e*i[r].len),s=i[r].array;o(a,s),i[r].array=a,i[r].dirty=!0}}(r+t);var e=r;return r+=t,e},this.get=function(t){return i[t].array},this.write=function(t,e,r,a){if(r+a>n)throw"Write would exceed buffer size";o(i[t].array,e,r*i[t].len,a*i[t].len),i[t].dirty=!0},this.repeat=function(t,e,r,a){if(r+a>n)throw"Repeat would exceed buffer size";for(var s=0;s<a;s+=1)o(i[t].array,e,(r+s)*i[t].len,i[t].len);i[t].dirty=!0},this.count=function(){return r},this.data=function(t){return i[t].array}},e.depthPeelRenderer=function(){"use strict";if(!(this instanceof e.depthPeelRenderer))return new e.depthPeelRenderer;e.renderer.call(this);var t,n,i,o,a,s,l,u,c,h,p,d=this,f=[],v=[],g=[],m=e.timestamp(),y=e.material(),x=e.material(),_=e.material(),A=null,b=null,w=6,O=null;function S(t,e){O.setMaterial(e),t.m_mapper=O.mapper(),t.m_material=e,t.m_material.bind(t),t.m_mapper.render(t),t.m_material.undoBind(t),O.setMaterial(null)}function M(r){m.getMTime()<d.getMTime()&&(function(t,n,i){console.log(n),console.log(i),O=e.utils.createPlane(0,0,0,1,0,0,0,1,0)}(0,d.width(),d.height()),function(t){var n,r,d,f,v,g,m,w,O,S,M,T,D;d=new e.vertexAttribute("vertexPosition"),g=new e.vertexAttribute("vertexNormal"),f=new e.vertexAttribute("vertexColor"),n=new e.modelViewUniform("modelViewMatrix"),m=new e.modelViewUniform("normalMatrix"),r=new e.projectionUniform("projectionMatrix"),o=new e.floatUniform("width"),a=new e.floatUniform("height"),h=new e.floatUniform("opacity",1),(v=new e.uniform(e.GL.INT,"depthTexture")).set(0),(A=new e.shaderProgram).loadShader(e.GL.VERTEX_SHADER,"front_peel.vert"),A.loadShader(e.GL.FRAGMENT_SHADER,"front_peel.frag"),A.addUniform(n),A.addUniform(m),A.addUniform(r),A.addUniform(v),A.addUniform(o),A.addUniform(a),A.addUniform(h),A.addVertexAttribute(d,e.vertexAttributeKeys.Position),A.addVertexAttribute(g,e.vertexAttributeKeys.Normal),A.addVertexAttribute(f,e.vertexAttributeKeys.Color),A.compileAndLink(t),y.addAttribute(A),(b=new e.shaderProgram).loadShader(e.GL.VERTEX_SHADER,"blend.vert"),b.loadShader(e.GL.FRAGMENT_SHADER,"blend.frag"),O=new e.uniform(e.GL.INT,"currColorTexture"),S=new e.uniform(e.GL.INT,"prevDepthTexture"),M=new e.uniform(e.GL.INT,"currDepthTexture"),s=new e.floatUniform("width"),l=new e.floatUniform("height"),O.set(0),S.set(1),M.set(2),w=new e.vertexAttribute("vertexPosition"),b.addUniform(O),b.addUniform(S),b.addUniform(S),b.addUniform(s),b.addUniform(l),b.addVertexAttribute(w,e.vertexAttributeKeys.Position),b.compileAndLink(t),x.addAttribute(b),(i=new e.shaderProgram).loadShader(e.GL.VERTEX_SHADER,"blend.vert"),i.loadShader(e.GL.FRAGMENT_SHADER,"final.frag"),D=new e.uniform(e.GL.INT,"colorTexture"),u=new e.floatUniform("width"),c=new e.floatUniform("height"),p=new e.uniform(e.GL.FLOAT_VEC3,"backgroundColor"),D.set(0),T=new e.vertexAttribute("vertexPosition"),i.addUniform(D),i.addUniform(u),i.addUniform(c),i.addUniform(p),i.addVertexAttribute(T,e.vertexAttributeKeys.Position),i.compileAndLink(t),_.addAttribute(i)}(r,d.width(),d.height()),function(i,r,o){var a,s,l;if(i.m_context.getExtension("WEBKIT_WEBGL_depth_texture")||i.m_context.getExtension("WEBGL_depth_texture")||console.log("Depth textures are not supported"),i.m_context.getExtension("OES_texture_float")||console.log("float textures are not supported"),!i.m_context.getExtension("OES_texture_float"))return console.log("Extension Texture Float is not working"),void window.alert(":( Sorry, Your browser doesn't support texture float extension.");if(s=i.m_context.getExtension("OES_texture_float_linear"),!i.m_context.getExtension("WEBGL_depth_texture"))return console.log("Extension Depth texture is not working"),void window.alert(":( Sorry, Your browser doesn't support depth texture extension.");for(l=s?e.GL.LINEAR:e.GL.NEAREST,f.push(i.m_context.createFramebuffer()),f.push(i.m_context.createFramebuffer()),v.push(i.m_context.createTexture()),v.push(i.m_context.createTexture()),g.push(i.m_context.createTexture()),g.push(i.m_context.createTexture()),a=0;a<2;a+=1)i.m_context.bindTexture(e.GL.TEXTURE_2D,g[a]),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_MAG_FILTER,e.GL.NEAREST),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_MIN_FILTER,e.GL.NEAREST),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_WRAP_S,e.GL.CLAMP_TO_EDGE),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_WRAP_T,e.GL.CLAMP_TO_EDGE),i.m_context.texImage2D(e.GL.TEXTURE_2D,0,e.GL.DEPTH_COMPONENT,r,o,0,e.GL.DEPTH_COMPONENT,e.GL.UNSIGNED_SHORT,null),i.m_context.bindTexture(e.GL.TEXTURE_2D,v[a]),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_MAG_FILTER,l),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_MIN_FILTER,l),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_WRAP_S,e.GL.CLAMP_TO_EDGE),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_WRAP_T,e.GL.CLAMP_TO_EDGE),i.m_context.texImage2D(e.GL.TEXTURE_2D,0,e.GL.RGBA,r,o,0,e.GL.RGBA,e.GL.FLOAT,null),i.m_context.bindFramebuffer(e.GL.FRAMEBUFFER,f[a]),i.m_context.framebufferTexture2D(e.GL.FRAMEBUFFER,e.GL.DEPTH_ATTACHMENT,e.GL.TEXTURE_2D,g[a],0),i.m_context.framebufferTexture2D(e.GL.FRAMEBUFFER,e.GL.COLOR_ATTACHMENT0,e.GL.TEXTURE_2D,v[a],0);t=i.m_context.createTexture(),i.m_context.bindTexture(e.GL.TEXTURE_2D,t),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_WRAP_S,e.GL.CLAMP_TO_EDGE),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_WRAP_T,e.GL.CLAMP_TO_EDGE),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_MIN_FILTER,e.GL.NEAREST),i.m_context.texParameteri(e.GL.TEXTURE_2D,e.GL.TEXTURE_MAG_FILTER,e.GL.NEAREST),i.m_context.texImage2D(e.GL.TEXTURE_2D,0,e.GL.RGBA,r,o,0,e.GL.RGBA,e.GL.FLOAT,null),n=i.m_context.createFramebuffer(),i.m_context.bindFramebuffer(e.GL.FRAMEBUFFER,n),i.m_context.framebufferTexture2D(e.GL.FRAMEBUFFER,e.GL.DEPTH_ATTACHMENT,e.GL.TEXTURE_2D,g[0],0),i.m_context.framebufferTexture2D(e.GL.FRAMEBUFFER,e.GL.COLOR_ATTACHMENT0,e.GL.TEXTURE_2D,t,0),i.m_context.checkFramebufferStatus(e.GL.FRAMEBUFFER)===e.GL.FRAMEBUFFER_COMPLETE?console.log("FBO setup successful !!! \n"):console.log("Problem with FBO setup"),i.m_context.bindFramebuffer(e.GL.FRAMEBUFFER,null)}(r,d.width(),d.height()),m.modified())}function T(t,n,i){var o,a,s=r.create();for(o=0;o<n.length;o+=1)if((a=n[o][2]).referenceFrame()===e.boundingObject.ReferenceFrame.Relative?(r.multiply(t.m_modelViewMatrix,d.m_camera.viewMatrix(),a.matrix()),t.m_projectionMatrix=d.m_camera.projectionMatrix()):(t.m_modelViewMatrix=a.matrix(),t.m_projectionMatrix=r.create(),r.ortho(t.m_projectionMatrix,0,d.m_width,0,d.m_height,-1,1)),r.invert(s,t.m_modelViewMatrix),r.transpose(t.m_normalMatrix,s),t.m_mapper=a.mapper(),i){var l=a.material().shaderProgram().uniform("opacity");l?h.set(l.get()[0]):h.set(1),t.m_material=i,t.m_material.bind(t),t.m_mapper.render(t),t.m_material.undoBind(t)}else t.m_material=a.material(),t.m_material.bind(t),t.m_mapper.render(t),t.m_material.undoBind(t)}this.render=function(){var i,r,h,m=null,A=[];for((r=new e.renderState).m_renderer=d,r.m_context=d.renderWindow().context(),r.m_contextChanged=d.m_contextChanged,r.m_context.viewport(d.m_x,d.m_y,d.m_width,d.m_height),M(r),(h=d.m_sceneRoot.children()).length>0&&d.m_resetScene&&(this.resetCamera(),d.m_resetScene=!1),i=0;i<h.length;i+=1)(m=h[i]).computeBounds(),m.visible()&&A.push([m.material().binNumber(),m.material().shaderProgram().uniform("opacity").get()[0],m]);A.sort(function(t,e){return t[0]-e[0]}),A.sort(function(t,e){return e[1]-t[1]}),function(i,r){var h;o.set(d.width()),a.set(d.height()),s.set(d.width()),l.set(d.height()),u.set(d.width()),c.set(d.height()),i.m_context.clearColor(0,0,0,0),i.m_context.clear(e.GL.OLOR_BUFFER_BIT|e.GL.DEPTH_BUFFER_BIT),i.m_context.bindFramebuffer(e.GL.FRAMEBUFFER,n),i.m_context.enable(e.GL.DEPTH_TEST),i.m_context.disable(e.GL.BLEND);var m=d.m_camera.clearColor();i.m_context.clearColor(m[0],m[1],m[2],0),i.m_context.clear(e.GL.COLOR_BUFFER_BIT|e.GL.DEPTH_BUFFER_BIT),T(i,r);var A=2*(w-1);for(h=1;h<A;h+=1){var b=h%2,O=1-b;i.m_context.bindFramebuffer(e.GL.FRAMEBUFFER,f[b]),i.m_context.disable(e.GL.BLEND),i.m_context.enable(e.GL.DEPTH_TEST),i.m_context.bindTexture(e.GL.TEXTURE_2D,g[O]),i.m_context.clearColor(0,0,0,0),i.m_context.clear(e.GL.COLOR_BUFFER_BIT|e.GL.DEPTH_BUFFER_BIT),T(i,r,y),i.m_context.bindFramebuffer(e.GL.FRAMEBUFFER,n),i.m_context.disable(e.GL.DEPTH_TEST),i.m_context.enable(e.GL.BLEND),i.m_context.blendEquation(e.GL.FUNC_ADD),i.m_context.blendFuncSeparate(e.GL.DST_ALPHA,e.GL.ONE,e.GL.ZERO,e.GL.ONE_MINUS_SRC_ALPHA),i.m_context.activeTexture(e.GL.TEXTURE0),i.m_context.bindTexture(e.GL.TEXTURE_2D,v[b]),i.m_context.activeTexture(e.GL.TEXTURE1),i.m_context.bindTexture(e.GL.TEXTURE_2D,g[O]),i.m_context.activeTexture(e.GL.TEXTURE2),i.m_context.bindTexture(e.GL.TEXTURE_2D,g[b]),S(i,x),i.m_context.activeTexture(e.GL.TEXTURE0),i.m_context.disable(e.GL.BLEND)}i.m_context.bindFramebuffer(e.GL.FRAMEBUFFER,null),i.m_context.disable(e.GL.DEPTH_TEST),i.m_context.disable(e.GL.BLEND),i.m_context.bindTexture(e.GL.TEXTURE_2D,t),p.set(d.m_camera.clearColor()),S(i,_),i.m_context.bindTexture(e.GL.TEXTURE_2D,null)}(r,A)}},inherit(e.depthPeelRenderer,e.renderer),e}()}.apply(e,[]))||(t.exports=i)}(this)},function(t,e){t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=o,t[11]=e[14],t[12]=r,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},function(t,e){t.exports=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],d=e[11],f=e[12],v=e[13],g=e[14],m=e[15],y=n*s-i*a,x=n*l-r*a,_=n*u-o*a,A=i*l-r*s,b=i*u-o*s,w=r*u-o*l,O=c*v-h*f,S=c*g-p*f,M=c*m-d*f,T=h*g-p*v,D=h*m-d*v,C=p*m-d*g,F=y*C-x*D+_*T+A*M-b*S+w*O;if(!F)return null;return F=1/F,t[0]=(s*C-l*D+u*T)*F,t[1]=(r*D-i*C-o*T)*F,t[2]=(v*w-g*b+m*A)*F,t[3]=(p*b-h*w-d*A)*F,t[4]=(l*M-a*C-u*S)*F,t[5]=(n*C-r*M+o*S)*F,t[6]=(g*_-f*w-m*x)*F,t[7]=(c*w-p*_+d*x)*F,t[8]=(a*D-s*M+u*O)*F,t[9]=(i*M-n*D-o*O)*F,t[10]=(f*b-v*_+m*y)*F,t[11]=(h*_-c*b-d*y)*F,t[12]=(s*S-a*T-l*O)*F,t[13]=(n*T-i*S+r*O)*F,t[14]=(v*x-f*A-g*y)*F,t[15]=(c*A-h*x+p*y)*F,t}},function(t,e){t.exports=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],d=e[11],f=e[12],v=e[13],g=e[14],m=e[15];return t[0]=s*(p*m-d*g)-h*(l*m-u*g)+v*(l*d-u*p),t[1]=-(i*(p*m-d*g)-h*(r*m-o*g)+v*(r*d-o*p)),t[2]=i*(l*m-u*g)-s*(r*m-o*g)+v*(r*u-o*l),t[3]=-(i*(l*d-u*p)-s*(r*d-o*p)+h*(r*u-o*l)),t[4]=-(a*(p*m-d*g)-c*(l*m-u*g)+f*(l*d-u*p)),t[5]=n*(p*m-d*g)-c*(r*m-o*g)+f*(r*d-o*p),t[6]=-(n*(l*m-u*g)-a*(r*m-o*g)+f*(r*u-o*l)),t[7]=n*(l*d-u*p)-a*(r*d-o*p)+c*(r*u-o*l),t[8]=a*(h*m-d*v)-c*(s*m-u*v)+f*(s*d-u*h),t[9]=-(n*(h*m-d*v)-c*(i*m-o*v)+f*(i*d-o*h)),t[10]=n*(s*m-u*v)-a*(i*m-o*v)+f*(i*u-o*s),t[11]=-(n*(s*d-u*h)-a*(i*d-o*h)+c*(i*u-o*s)),t[12]=-(a*(h*g-p*v)-c*(s*g-l*v)+f*(s*p-l*h)),t[13]=n*(h*g-p*v)-c*(i*g-r*v)+f*(i*p-r*h),t[14]=-(n*(s*g-l*v)-a*(i*g-r*v)+f*(i*l-r*s)),t[15]=n*(s*p-l*h)-a*(i*p-r*h)+c*(i*l-r*s),t}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],p=t[11],d=t[12],f=t[13],v=t[14],g=t[15];return(e*a-n*o)*(h*g-p*v)-(e*s-i*o)*(c*g-p*f)+(e*l-r*o)*(c*v-h*f)+(n*s-i*a)*(u*g-p*d)-(n*l-r*a)*(u*v-h*d)+(i*l-r*s)*(u*f-c*d)}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],d=e[10],f=e[11],v=e[12],g=e[13],m=e[14],y=e[15],x=n[0],_=n[1],A=n[2],b=n[3];return t[0]=x*i+_*s+A*h+b*v,t[1]=x*r+_*l+A*p+b*g,t[2]=x*o+_*u+A*d+b*m,t[3]=x*a+_*c+A*f+b*y,x=n[4],_=n[5],A=n[6],b=n[7],t[4]=x*i+_*s+A*h+b*v,t[5]=x*r+_*l+A*p+b*g,t[6]=x*o+_*u+A*d+b*m,t[7]=x*a+_*c+A*f+b*y,x=n[8],_=n[9],A=n[10],b=n[11],t[8]=x*i+_*s+A*h+b*v,t[9]=x*r+_*l+A*p+b*g,t[10]=x*o+_*u+A*d+b*m,t[11]=x*a+_*c+A*f+b*y,x=n[12],_=n[13],A=n[14],b=n[15],t[12]=x*i+_*s+A*h+b*v,t[13]=x*r+_*l+A*p+b*g,t[14]=x*o+_*u+A*d+b*m,t[15]=x*a+_*c+A*f+b*y,t}},function(t,e){t.exports=function(t,e,n){var i,r,o,a,s,l,u,c,h,p,d,f,v=n[0],g=n[1],m=n[2];e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],d=e[10],f=e[11],t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=p,t[10]=d,t[11]=f,t[12]=i*v+s*g+h*m+e[12],t[13]=r*v+l*g+p*m+e[13],t[14]=o*v+u*g+d*m+e[14],t[15]=a*v+c*g+f*m+e[15]);return t}},function(t,e){t.exports=function(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function(t,e,n,i){var r,o,a,s,l,u,c,h,p,d,f,v,g,m,y,x,_,A,b,w,O,S,M,T,D=i[0],C=i[1],F=i[2],E=Math.sqrt(D*D+C*C+F*F);if(Math.abs(E)<1e-6)return null;D*=E=1/E,C*=E,F*=E,r=Math.sin(n),o=Math.cos(n),a=1-o,s=e[0],l=e[1],u=e[2],c=e[3],h=e[4],p=e[5],d=e[6],f=e[7],v=e[8],g=e[9],m=e[10],y=e[11],x=D*D*a+o,_=C*D*a+F*r,A=F*D*a-C*r,b=D*C*a-F*r,w=C*C*a+o,O=F*C*a+D*r,S=D*F*a+C*r,M=C*F*a-D*r,T=F*F*a+o,t[0]=s*x+h*_+v*A,t[1]=l*x+p*_+g*A,t[2]=u*x+d*_+m*A,t[3]=c*x+f*_+y*A,t[4]=s*b+h*w+v*O,t[5]=l*b+p*w+g*O,t[6]=u*b+d*w+m*O,t[7]=c*b+f*w+y*O,t[8]=s*S+h*M+v*T,t[9]=l*S+p*M+g*T,t[10]=u*S+d*M+m*T,t[11]=c*S+f*M+y*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},function(t,e){t.exports=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=o*r+u*i,t[5]=a*r+c*i,t[6]=s*r+h*i,t[7]=l*r+p*i,t[8]=u*r-o*i,t[9]=c*r-a*i,t[10]=h*r-s*i,t[11]=p*r-l*i,t}},function(t,e){t.exports=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],h=e[10],p=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*r-u*i,t[1]=a*r-c*i,t[2]=s*r-h*i,t[3]=l*r-p*i,t[8]=o*i+u*r,t[9]=a*i+c*r,t[10]=s*i+h*r,t[11]=l*i+p*r,t}},function(t,e){t.exports=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],h=e[6],p=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*r+u*i,t[1]=a*r+c*i,t[2]=s*r+h*i,t[3]=l*r+p*i,t[4]=u*r-o*i,t[5]=c*r-a*i,t[6]=h*r-s*i,t[7]=p*r-l*i,t}},function(t,e){t.exports=function(t,e,n){var i,r,o,a=n[0],s=n[1],l=n[2],u=Math.sqrt(a*a+s*s+l*l);if(Math.abs(u)<1e-6)return null;return a*=u=1/u,s*=u,l*=u,i=Math.sin(e),r=Math.cos(e),o=1-r,t[0]=a*a*o+r,t[1]=s*a*o+l*i,t[2]=l*a*o-s*i,t[3]=0,t[4]=a*s*o-l*i,t[5]=s*s*o+r,t[6]=l*s*o+a*i,t[7]=0,t[8]=a*l*o+s*i,t[9]=s*l*o-a*i,t[10]=l*l*o+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=i+i,l=r+r,u=o+o,c=i*s,h=i*l,p=i*u,d=r*l,f=r*u,v=o*u,g=a*s,m=a*l,y=a*u;return t[0]=1-(d+v),t[1]=h+y,t[2]=p-m,t[3]=0,t[4]=h-y,t[5]=1-(c+v),t[6]=f+g,t[7]=0,t[8]=p+m,t[9]=f-g,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},function(t,e){t.exports=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,l=r+r,u=n*a,c=i*a,h=i*s,p=r*a,d=r*s,f=r*l,v=o*a,g=o*s,m=o*l;return t[0]=1-h-f,t[1]=c+m,t[2]=p-g,t[3]=0,t[4]=c-m,t[5]=1-u-f,t[6]=d+v,t[7]=0,t[8]=p+g,t[9]=d-v,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,n,i,r,o,a){var s=1/(n-e),l=1/(r-i),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(r+i)*l,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t}},function(t,e){t.exports=function(t,e,n,i,r){var o=1/Math.tan(e/2),a=1/(i-r);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*a,t[15]=0,t}},function(t,e){t.exports=function(t,e,n,i){var r=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(r+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(r-o)*u*.5,t[10]=i/(n-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*n/(n-i),t[15]=0,t}},function(t,e){t.exports=function(t,e,n,i,r,o,a){var s=1/(e-n),l=1/(i-r),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*l,t[14]=(a+o)*u,t[15]=1,t}},function(t,e,n){var i=n(95);t.exports=function(t,e,n,r){var o,a,s,l,u,c,h,p,d,f,v=e[0],g=e[1],m=e[2],y=r[0],x=r[1],_=r[2],A=n[0],b=n[1],w=n[2];if(Math.abs(v-A)<1e-6&&Math.abs(g-b)<1e-6&&Math.abs(m-w)<1e-6)return i(t);h=v-A,p=g-b,d=m-w,f=1/Math.sqrt(h*h+p*p+d*d),o=x*(d*=f)-_*(p*=f),a=_*(h*=f)-y*d,s=y*p-x*h,(f=Math.sqrt(o*o+a*a+s*s))?(o*=f=1/f,a*=f,s*=f):(o=0,a=0,s=0);l=p*s-d*a,u=d*o-h*s,c=h*a-p*o,(f=Math.sqrt(l*l+u*u+c*c))?(l*=f=1/f,u*=f,c*=f):(l=0,u=0,c=0);return t[0]=o,t[1]=l,t[2]=h,t[3]=0,t[4]=a,t[5]=u,t[6]=p,t[7]=0,t[8]=s,t[9]=c,t[10]=d,t[11]=0,t[12]=-(o*v+a*g+s*m),t[13]=-(l*v+u*g+c*m),t[14]=-(h*v+p*g+d*m),t[15]=1,t}},function(t,e){t.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},function(t,e){t.exports=function(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},function(t,e){t.exports=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}},function(t,e){t.exports=function(t,e,n,i){var r=new Float32Array(4);return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},function(t,e){t.exports=function(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}},function(t,e){t.exports=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+i*i+r*r+o*o)}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return n*n+i*i+r*r+o*o}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.sqrt(e*e+n*n+i*i+r*r)}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return e*e+n*n+i*i+r*r}},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}},function(t,e){t.exports=function(t,e,n,i){var r=e[0],o=e[1],a=e[2],s=e[3];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t[3]=s+i*(n[3]-s),t}},function(t,e,n){var i=n(98),r=n(97);t.exports=function(t,e){return e=e||1,t[0]=Math.random(),t[1]=Math.random(),t[2]=Math.random(),t[3]=Math.random(),i(t,t),r(t,t,e),t}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,t}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*i+s*o-l*r,h=u*r+l*i-a*o,p=u*o+a*r-s*i,d=-a*i-s*r-l*o;return t[0]=c*u+d*-a+h*-l-p*-s,t[1]=h*u+d*-s+p*-a-c*-l,t[2]=p*u+d*-l+c*-s-h*-a,t[3]=e[3],t}},function(t,e){t.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(t,e,n){t.exports=function(t,e){var n=i(t[0],t[1],t[2]),a=i(e[0],e[1],e[2]);r(n,n),r(a,a);var s=o(n,a);return s>1?0:Math.acos(s)};var i=n(102),r=n(103),o=n(104)},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(t,e){t.exports=function(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t}},function(t,e,n){t.exports=function(t,e){var n=t[0],r=t[1],o=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(n-a)<=i*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=i*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-l)<=i*Math.max(1,Math.abs(o),Math.abs(l))};var i=n(100)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}},function(t,e,n){t.exports=n(105)},function(t,e,n){t.exports=n(106)},function(t,e,n){t.exports=n(107)},function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}},function(t,e){t.exports=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t}},function(t,e,n){t.exports=n(108)},function(t,e,n){t.exports=n(109)},function(t,e,n){t.exports=n(110)},function(t,e,n){t.exports=n(111)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=r*l-o*s,t[1]=o*a-i*l,t[2]=i*s-r*a,t}},function(t,e){t.exports=function(t,e,n,i){var r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t}},function(t,e){t.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI,i=2*Math.random()-1,r=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t[2]=i*e,t}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*i+s*o-l*r,h=u*r+l*i-a*o,p=u*o+a*r-s*i,d=-a*i-s*r-l*o;return t[0]=c*u+d*-a+h*-l-p*-s,t[1]=h*u+d*-s+p*-a-c*-l,t[2]=p*u+d*-l+c*-s-h*-a,t}},function(t,e){t.exports=function(t,e,n,i){var r=n[1],o=n[2],a=e[1]-r,s=e[2]-o,l=Math.sin(i),u=Math.cos(i);return t[0]=e[0],t[1]=r+a*u-s*l,t[2]=o+a*l+s*u,t}},function(t,e){t.exports=function(t,e,n,i){var r=n[0],o=n[2],a=e[0]-r,s=e[2]-o,l=Math.sin(i),u=Math.cos(i);return t[0]=r+s*l+a*u,t[1]=e[1],t[2]=o+s*u-a*l,t}},function(t,e){t.exports=function(t,e,n,i){var r=n[0],o=n[1],a=e[0]-r,s=e[1]-o,l=Math.sin(i),u=Math.cos(i);return t[0]=r+a*u-s*l,t[1]=o+a*l+s*u,t[2]=e[2],t}},function(t,e,n){t.exports=function(t,e,n,r,o,a){var s,l;e||(e=3);n||(n=0);l=r?Math.min(r*e+n,t.length):t.length;for(s=n;s<l;s+=e)i[0]=t[s],i[1]=t[s+1],i[2]=t[s+2],o(i,i,a),t[s]=i[0],t[s+1]=i[1],t[s+2]=i[2];return t};var i=n(101)()},function(t,e,n){"use strict";var i=n(260),r=n(261),o=n(262);function a(t,e,n,r,o){e=e||s,n=n||l,o=o||Array,this.nodeSize=r||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var a=0;a<t.length;a++)this.ids[a]=a,this.coords[2*a]=e(t[a]),this.coords[2*a+1]=n(t[a]);i(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function s(t){return t[0]}function l(t){return t[1]}t.exports=function(t,e,n,i,r){return new a(t,e,n,i,r)},a.prototype={range:function(t,e,n,i){return r(this.ids,this.coords,t,e,n,i,this.nodeSize)},within:function(t,e,n){return o(this.ids,this.coords,t,e,n,this.nodeSize)}}},function(t,e,n){"use strict";function i(t,e,n,i){r(t,n,i),r(e,2*n,2*i),r(e,2*n+1,2*i+1)}function r(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}t.exports=function t(e,n,r,o,a,s){if(a-o<=r)return;var l=Math.floor((o+a)/2);!function t(e,n,r,o,a,s){for(;a>o;){if(a-o>600){var l=a-o+1,u=r-o+1,c=Math.log(l),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),d=Math.max(o,Math.floor(r-u*h/l+p)),f=Math.min(a,Math.floor(r+(l-u)*h/l+p));t(e,n,r,d,f,s)}var v=n[2*r+s],g=o,m=a;for(i(e,n,o,r),n[2*a+s]>v&&i(e,n,o,a);g<m;){for(i(e,n,g,m),g++,m--;n[2*g+s]<v;)g++;for(;n[2*m+s]>v;)m--}n[2*o+s]===v?i(e,n,o,m):i(e,n,++m,a),m<=r&&(o=m+1),r<=m&&(a=m-1)}}(e,n,l,o,a,s%2);t(e,n,r,o,l-1,s+1);t(e,n,r,l+1,a,s+1)}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r,o,a){var s,l,u=[0,t.length-1,0],c=[];for(;u.length;){var h=u.pop(),p=u.pop(),d=u.pop();if(p-d<=a)for(var f=d;f<=p;f++)s=e[2*f],l=e[2*f+1],s>=n&&s<=r&&l>=i&&l<=o&&c.push(t[f]);else{var v=Math.floor((d+p)/2);s=e[2*v],l=e[2*v+1],s>=n&&s<=r&&l>=i&&l<=o&&c.push(t[v]);var g=(h+1)%2;(0===h?n<=s:i<=l)&&(u.push(d),u.push(v-1),u.push(g)),(0===h?r>=s:o>=l)&&(u.push(v+1),u.push(p),u.push(g))}}return c}},function(t,e,n){"use strict";function i(t,e,n,i){var r=t-n,o=e-i;return r*r+o*o}t.exports=function(t,e,n,r,o,a){var s=[0,t.length-1,0],l=[],u=o*o;for(;s.length;){var c=s.pop(),h=s.pop(),p=s.pop();if(h-p<=a)for(var d=p;d<=h;d++)i(e[2*d],e[2*d+1],n,r)<=u&&l.push(t[d]);else{var f=Math.floor((p+h)/2),v=e[2*f],g=e[2*f+1];i(v,g,n,r)<=u&&l.push(t[f]);var m=(c+1)%2;(0===c?n-o<=v:r-o<=g)&&(s.push(p),s.push(f-1),s.push(m)),(0===c?n+o>=v:r+o>=g)&&(s.push(f+1),s.push(h),s.push(m))}}return l}},function(t,e,n){var i=n(0),r=n(34),o=n(56),a=n(6),s=n(1),l=n(7),u=n(2),c=n(115),h=n(25),p=function(t){"use strict";if(!(this instanceof p))return new p(t);r.call(this,t);var e,i,d,f=n(50),v=n(10),g=n(3),m=this,y=this._init,x=this._exit,_=this.draw,A=this._update,b=v(),w=null,O=[],S=[],M={closed:{dataType:"boolean",keys:["closed","close"]},fill:{dataType:"boolean",keys:["fill"]},fillColor:{dataType:"color",keys:["fillColor","fill-color","marker-color","fill"]},fillOpacity:{dataType:"opacity",keys:["fillOpacity","fill-opacity"]},lineCap:{dataType:"text",keys:["lineCap","line-cap"]},lineJoin:{dataType:"text",keys:["lineJoin","line-join"]},radius:{dataType:"positive",keys:["radius"]},scaled:{dataType:"booleanOrNumber",keys:["scaled"]},stroke:{dataType:"boolean",keys:["stroke"]},strokeColor:{dataType:"color",keys:["strokeColor","stroke-color","stroke"]},strokeOffset:{dataType:"number",keys:["strokeOffset","stroke-offset"]},strokeOpacity:{dataType:"opacity",keys:["strokeOpacity","stroke-opacity"]},strokeWidth:{dataType:"positive",keys:["strokeWidth","stroke-width"]}};return h.usedStyles.forEach(function(t){M[t]={option:"labelStyle",dataType:["visible","rotateWithMap","scaleWithMap"].indexOf(t)>=0?"boolean":["scale"].indexOf(t)>=0?"booleanOrNumber":["rotation"].indexOf(t)>=0?"angle":["offset","shadowOffset"].indexOf(t)>=0?"coordinate2":["shadowBlur, strokeWidth"].indexOf(t)>=0?"numberOrBlank":"text",keys:[t,"label"+t.charAt(0).toUpperCase()+t.slice(1),t.replace(/([A-Z])/g,"-$1").toLowerCase(),"label-"+t.replace(/([A-Z])/g,"-$1").toLowerCase()]}}),e=u.extend(!0,{},{dblClickTime:300,adjacentPointProximity:5,continuousPointProximity:5,continuousPointColinearity:1*Math.PI/180,finalPointProximity:10,showLabels:!0,clickToEdit:!1},t),this._processAction=function(t){var e;if(t.state&&t.state.actionRecord&&t.state.actionRecord.owner===o.actionOwner&&m.currentAnnotation)switch(m.mode()){case m.modes.edit:e=m.currentAnnotation.processEditAction(t),m.currentAnnotation&&m.currentAnnotation._editHandle&&m.currentAnnotation._editHandle.handle&&(m.geoTrigger(a.annotation.edit_action,{annotation:m.currentAnnotation,handle:m.currentAnnotation._editHandle?m.currentAnnotation._editHandle.handle:void 0,action:t.event}),t.event===a.actionup&&m._selectEditHandle({data:m.currentAnnotation._editHandle.handle},m.currentAnnotation._editHandle.handle.selected));break;default:e=m.currentAnnotation.processAction(t)}m._updateFromEvent(e)},this._updateFromEvent=function(t){switch(t){case"remove":m.removeAnnotation(m.currentAnnotation,!1),m.mode(null);break;case"done":m.mode(null)}t&&(m.modified(),m.draw())},this._handleMouseMove=function(t){m.mode()&&m.currentAnnotation&&(m.currentAnnotation.mouseMove(t)&&(m.modified(),m.draw()))},this._selectEditHandle=function(t,e){if(t.data&&t.data.editHandle){if(u.each(S[o._editHandleFeatureLevel],function(t,e){e.feature.modified()}),m.currentAnnotation.selectEditHandle(t.data,e),m.draw(),m.map().node().toggleClass("annotation-input",!!e),m.map().interactor().removeAction(void 0,void 0,o.actionOwner),e){var n=m.currentAnnotation.actions(o.state.edit);u.each(n,function(t,e){m.map().interactor().addAction(e)})}return m}},this._handleMouseOn=function(t){t.data&&t.data.annotation&&(m.mode()===m.modes.edit&&m.currentAnnotation?m._selectEditHandle(t,!0):m.mode()||m.currentAnnotation||!m.options("clickToEdit")||(t.data.annotation.state(o.state.highlight),m.modified(),m.draw()))},this._handleMouseOff=function(t){t.data&&t.data.annotation&&(m.mode()===m.modes.edit&&t.data.editHandle&&t.data.selected?m._selectEditHandle(t,!1):t.data.annotation.state()===o.state.highlight&&(t.data.annotation.state(o.state.done),m.modified(),m.draw()))},this._handleMouseClick=function(t){var e,n=!1;if(m.mode()===m.modes.edit){if(m.map().interactor().hasAction(void 0,void 0,o.actionOwner))return e=m.currentAnnotation.mouseClickEdit(t),void m._updateFromEvent(e);m.mode(null),m.draw(),u.each(S,function(t,e){u.each(e,function(t,e){e.feature._clearSelectedFeatures()})}),n=!0}else if(m.mode()&&m.currentAnnotation)e=m.currentAnnotation.mouseClick(t),m._updateFromEvent(e),n=!m.mode();else if(!m.mode()&&!m.currentAnnotation&&m.options("clickToEdit")){var i=m.annotations().filter(function(t){return t.state()===o.state.highlight});if(1!==i.length)return;m.mode(m.modes.edit,i[0]),m.draw(),n=!0}n&&m.map().interactor().retriggerMouseMove()},this.options=function(t,n){return void 0===t?e:"string"==typeof t&&void 0===n?e[t]:(void 0===n?e=u.extend(!0,e,t):e[t]=n,m.modified(),m)},this.displayDistance=function(t,e,n,i){var r=m.map();return"display"!==e&&(e=null===e?r.gcs():void 0===e?r.ingcs():e,t=r.gcsToDisplay(t,e)),"display"!==i&&(i=null===i?r.gcs():void 0===i?r.ingcs():i,n=r.gcsToDisplay(n,i)),Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},this.addAnnotation=function(t,e){if(u.inArray(t,O)<0){m.geoTrigger(a.annotation.add_before,{annotation:t}),O.push(t),t.layer(m);var n=m.map();(e=null===e?n.gcs():void 0===e?n.ingcs():e)!==n.gcs()&&t._coordinates(l.transformCoordinates(e,n.gcs(),t._coordinates())),m.modified(),m.draw(),m.geoTrigger(a.annotation.add,{annotation:t})}return m},this.removeAnnotation=function(t,e){var n=u.inArray(t,O);return n>=0&&(t===m.currentAnnotation&&(m.currentAnnotation=null),t._exit(),O.splice(n,1),!1!==e&&(m.modified(),m.draw()),m.geoTrigger(a.annotation.remove,{annotation:t})),n>=0},this.removeAllAnnotations=function(t,e){for(var n,i=0,r=0;r<O.length;)n=O[r],t&&n.state()===o.state.create?r+=1:(m.removeAnnotation(n,!1),i+=1);return i&&!1!==e&&(m.modified(),m.draw()),i},this.annotations=function(){return O.slice()},this.annotationById=function(t){void 0!==t&&null!==t&&(t=+t);var e=O.filter(function(e){return e.id()===t});if(e.length)return e[0]},this.modes={edit:"edit"},this.mode=function(t,e){if(void 0===t)return w;if(t!==w||t===m.modes.edit&&e!==m.editAnnotation){var n,i,r=m.map().node(),s=w;if(w=t,r.toggleClass("annotation-input",!(!w||w===m.modes.edit)),w?c(r[0]).bind("esc",function(){m.mode(null)}):c(r[0]).unbind("esc"),m.currentAnnotation){switch(m.currentAnnotation.state()){case o.state.create:m.removeAnnotation(m.currentAnnotation);break;case o.state.edit:m.currentAnnotation.state(o.state.done),m.modified(),m.draw()}m.currentAnnotation=null}switch(w){case m.modes.edit:m.currentAnnotation=e,m.currentAnnotation.state(o.state.edit),m.modified();break;case"line":n=o.lineAnnotation;break;case"point":n=o.pointAnnotation;break;case"polygon":n=o.polygonAnnotation;break;case"rectangle":n=o.rectangleAnnotation}m.map().interactor().removeAction(void 0,void 0,o.actionOwner),n&&(m.currentAnnotation=n({state:o.state.create,layer:this}),m.addAnnotation(m.currentAnnotation,null),i=m.currentAnnotation.actions(o.state.create),u.each(i,function(t,e){m.map().interactor().addAction(e)})),m.geoTrigger(a.annotation.mode,{mode:w,oldMode:s}),s===m.modes.edit&&m.modified()}return m},this.geojson=function(t,e,n,i){if(void 0!==t){var r=s.createFileReader("jsonReader",{layer:m});if(!r.canRead(t))return;return!0===e&&m.removeAllAnnotations(!0,!1),"update"===e&&u.each(m.annotations(),function(t,e){e.options("updated",!1)}),r.read(t,function(t){u.each(t.slice(),function(t,e){m._geojsonFeatureToAnnotation(e,n),m.deleteFeature(e)})}),"update"===e&&u.each(m.annotations(),function(t,e){!1===e.options("updated")&&e.state()===o.state.done&&m.removeAnnotation(e,!1)}),m.modified(),m.draw(),O.length}t=null;var a=[];return u.each(O,function(t,e){var r=e.geojson(n,i);r&&a.push(r)}),a.length&&(t={type:"FeatureCollection",features:a}),t},this._geojsonFeatureToAnnotation=function(t,e){var n=t.data(),i=s.listAnnotations(),r=m.map();e=null===e?r.gcs():void 0===e?r.ingcs():e,u.each(n,function(n,c){var h,p,d,f,v=(c.properties||{}).annotationType||t.featureType,y=u.extend({},c.properties||{});if(!(u.inArray(v,i)<0)){switch(y.style=y.style||{},y.labelStyle=y.labelStyle||{},delete y.annotationType,t.featureType){case"line":if(!(h=t.line()(c,n))||h.length<2)return;h=h.slice();break;case"polygon":if(!(h=t.polygon()(c,n))||!h.outer||h.outer.length<3)return;if((h=h.outer.slice())[h.length-1][0]===h[0][0]&&h[h.length-1][1]===h[0][1]&&(h.splice(h.length-1,1),h.length<3))return;break;case"point":h=[t.position()(c,n)]}for(d=0;d<h.length;d+=1)h[d]=g.normalizeCoordinates(h[d]);(p=c.crs&&"name"===c.crs.type&&c.crs.properties&&"proj4"===c.crs.properties.type&&c.crs.properties.name?c.crs.properties.name:e)!==r.gcs()&&(h=l.transformCoordinates(p,r.gcs(),h)),y.coordinates=h,u.each(M,function(e,i){var r;u.each(i.keys,function(t,e){void 0===r&&(r=m.validateAttribute(y[e],i.dataType))}),void 0===r&&(r=m.validateAttribute(t.style.get(e)(c,n),i.dataType)),void 0!==r&&(y[i.option||"style"][e]=r)}),u.each(M,function(t,e){u.each(e.keys,function(t,e){delete y[e]})}),void 0!==y.annotationId&&(f=m.annotationById(y.annotationId))&&delete y.annotationId,f&&f.type()===v&&f.state()===o.state.done&&!1===f.options("updated")?(delete y.state,delete y.layer,y.updated=!0,f.options(y),m.geoTrigger(a.annotation.update,{annotation:f})):(y.state=o.state.done,y.layer=m,y.updated="new",m.addAnnotation(s.createAnnotation(v,y),null))}})},this.validateAttribute=function(t,e){var n;if(void 0!==t&&null!==t){switch(e){case"angle":if(""===t)break;if(!(n=/^\s*([-.0-9eE]+)\s*(deg|rad|grad|turn)?\s*$/.exec((""+t).toLowerCase()))||!isFinite(n[1]))return;var i="grad"===n[2]?Math.PI/200:"deg"===n[2]?Math.PI/180:"turn"===n[2]?2*Math.PI:1;t=+n[1]*i;break;case"boolean":t=!!t&&["false","no","off"].indexOf((""+t).toLowerCase())<0;break;case"booleanOrNumber":if(!t&&0!==t&&""!==t||["true","false","off","on","no","yes"].indexOf((""+t).toLowerCase())>=0)t=!!t&&["false","no","off"].indexOf((""+t).toLowerCase())<0;else{if(!g.isNonNullFinite(t))return;t=+t}break;case"coordinate2":if(""===t)break;if(t&&g.isNonNullFinite(t.x)&&g.isNonNullFinite(t.y)){t.x=+t.x,t.y=+t.y;break}try{t=JSON.parse(t)}catch(t){}if(t&&g.isNonNullFinite(t.x)&&g.isNonNullFinite(t.y)){t.x=+t.x,t.y=+t.y;break}if(Array.isArray(t)&&g.isNonNullFinite(t[0])&&g.isNonNullFinite(t[1])){t={x:+t[0],y:+t[1]};break}if(!(n=/^\s*([-.0-9eE]+)(?:\s+|\s*,)\s*([-.0-9eE]+)\s*$/.exec(""+t))||!isFinite(n[1])||!isFinite(n[2]))return;t={x:+n[1],y:+n[2]};break;case"color":if(void 0===(t=g.convertColor(t))||void 0===t.r)return;break;case"number":if(!g.isNonNullFinite(t))return;t=+t;break;case"numberOrBlank":if(""===t)break;if(!g.isNonNullFinite(t))return;t=+t;break;case"opacity":if(void 0===t||null===t||""===t)return;if(t=+t,isNaN(t)||t<0||t>1)return;break;case"positive":if(t=+t,!isFinite(t)||t<=0)return;break;case"text":t=""+t}return t}},this._update=function(){if(m.getMTime()>b.getMTime()){var t=m.options("showLabels")?[]:null,e=m.options("clickToEdit")||m.mode()===m.modes.edit;u.each(S,function(t,e){u.each(e,function(t,e){e.data=[],delete e.feature.scaleOnZoom})}),u.each(O,function(n,i){var r=i.features();if(t){var o=i.labelRecord();o&&t.push(o)}u.each(r,function(t,n){void 0===S[t]&&(S[t]={}),u.each(n,function(n,r){if(S[t][n])(o=S[t][n].feature).selectionAPI()!==!!e&&(o.selectionAPI(e),e?(o.geoOn(a.feature.mouseon,m._handleMouseOn),o.geoOn(a.feature.mouseoff,m._handleMouseOff)):(o.geoOff(a.feature.mouseon,m._handleMouseOn),o.geoOff(a.feature.mouseoff,m._handleMouseOff)));else{var o=m.createFeature(n,{gcs:m.map().gcs(),selectionAPI:e});if(!o){var s="error_feature_"+n;return void(m[s]||(console.warn("Cannot create a "+n+" feature for annotations."),m[s]=!0))}e&&(o.geoOn(a.feature.mouseon,m._handleMouseOn),o.geoOn(a.feature.mouseoff,m._handleMouseOff));var l={};u.each(["closed","fill","fillColor","fillOpacity","line","lineCap","lineJoin","polygon","position","radius","stroke","strokeColor","strokeOffset","strokeOpacity","strokeWidth","uniformPolygon"],function(t,e){var n;void 0!==o.style()[e]&&(n=o.style.get(e)),l[e]=function(t,i,r,o){var a=t&&t.style?t.style:t&&t[2]&&t[2].style?t[2].style:r.style,s=a?a[e]:t;return g.isFunction(s)&&(s=s(t,i,r,o)),void 0===s&&n&&(s=n(t,i,r,o)),s}}),o.style(l),S[t][n]={feature:o,style:l,data:[]}}var c=r.data||r;Array.isArray(c)||(c=[c]),c.forEach(function(e){e.annotation=i,S[t][n].data.push(e),r.scaleOnZoom&&(S[t][n].feature.scaleOnZoom=!0)})})})}),u.each(S,function(t,e){u.each(e,function(t,e){e.feature.data(e.data)})}),m._updateLabels(t),b.modified()}return A.call(m,arguments),m},this._updateLabels=function(t){if(!t||!t.length)return m._removeLabelFeature(),m;if(!i){if(!(s.registries.features[m.rendererName()]||{}).text){var e=s.rendererForFeatures(["text"]);d=s.createLayer("feature",m.map(),{renderer:e}),m.addChild(d),d._update(),m.geoTrigger(a.layerAdd,{target:m,layer:d})}var n={};h.usedStyles.forEach(function(t){n[t]=function(e,n){return e.style&&void 0!==e.style[t]?e.style[t]:(m.options("defaultLabelStyle")||{})[t]}}),i=(d||m).createFeature("text",{style:n,gcs:m.map().gcs(),position:function(t){return t.position}})}return i.data(t),m},this._handleZoom=function(){var t,e=m.features();for(t=0;t<e.length;t+=1)e[t].scaleOnZoom&&e[t].modified()},this._removeLabelFeature=function(){return d&&(d._exit(),m.removeChild(d),m.geoTrigger(a.layerRemove,{target:m,layer:d}),d=i=null),i&&(m.removeFeature(i),i=null),m},this.draw=function(){return m._update(),_.call(m),m},this._init=function(){return y.call(m),m.map().interactor()||m.map().interactor(f({actions:[]})),m.geoOn(a.actionselection,m._processAction),m.geoOn(a.actionmove,m._processAction),m.geoOn(a.actionup,m._processAction),m.geoOn(a.mouseclick,m._handleMouseClick),m.geoOn(a.mousemove,m._handleMouseMove),m.geoOn(a.zoom,m._handleZoom),m},this._exit=function(){return m._removeLabelFeature(),x.call(m),O=[],S=[],m},m};i(p,r),s.registerLayer("annotation",p),t.exports=p},function(e,n){if(void 0===t){var i=new Error('Cannot find module "hammerjs"');throw i.code="MODULE_NOT_FOUND",i}e.exports=t},function(t,n){if(void 0===e){var i=new Error('Cannot find module "d3"');throw i.code="MODULE_NOT_FOUND",i}t.exports=e},function(t,e,n){var i=n(0),r=n(22),o=n(1).registerRenderer,a=function(t){"use strict";if(!(this instanceof a))return new a(t);r.call(this,t),t=t||{};var e=this;return this.api=function(){return"dom"},this._init=function(){var t=e.layer().node();return!e.canvas()&&t&&t.length&&e.canvas(t[0]),e},this._init(t),this};i(a,r),o("dom",a),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFileReader,o=n(120),a=function(t){"use strict";if(!(this instanceof a))return new a(t);var e=n(2),i=n(3).convertColor,r=this;o.call(this,t),this.canRead=function(t){if(t instanceof File)return"application/json"===t.type||t.name.match(/\.json$/);if("string"==typeof t){try{JSON.parse(t)}catch(t){return!1}return!0}try{if(Array.isArray(r._featureArray(t)))return!0}catch(t){}return!1},this._readObject=function(t,n,i){var o;function a(t){"string"!=typeof t&&n(!1);try{o=JSON.parse(t),n(o)}catch(i){o||e.ajax({type:"GET",url:t,dataType:"text"}).done(function(t){o=JSON.parse(t),n(o)}).fail(function(){n(!1)})}}t instanceof File?r._getString(t,a,i):"string"==typeof t?a(t):n(t)},this._featureArray=function(t){var e,n=[];switch(t.type){case"FeatureCollection":e=t.features;break;case"Feature":e=[t];break;case"GeometryCollection":e=t.geometries.map(function(t){return{type:"Feature",geometry:t,properties:{}}});break;case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":e=[{type:"Feature",geometry:t,properties:{}}];break;default:throw new Error("Invalid json type")}return e.forEach(function(t){Array.prototype.push.apply(n,r._feature(t))}),n=n.filter(function(t){return t.geometry&&t.geometry.coordinates&&t.geometry.coordinates.length})},this._feature=function(t){if("Feature"!==t.type)throw new Error("Invalid feature object");switch(t.geometry.type){case"Point":case"LineString":case"Polygon":return[t];case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.geometry.coordinates.map(function(e){return{type:"Feature",geometry:{type:t.geometry.type.replace("Multi",""),coordinates:e},properties:t.properties}});default:throw new Error("Invalid geometry type")}},this._position=function(t){return{x:t[0],y:t[1],z:t[2]||0}},this._style=function(t,e,n,i){return e=(i=i||function(t){return t})(e),function(r,o,a,s){var l;return void 0!==(l=n&&void 0!==s&&void 0!==n[s]?n[s].properties:r.properties)&&l.hasOwnProperty(t)?i(l[t]):e}},this.read=function(t,e,n){r._readObject(t,function(t){var n,o,a,s,l,u=[];(o=(n=r._featureArray(t)).filter(function(t){return"Point"===t.geometry.type})).length&&(l=r.layer().createFeature("point"))&&(l.data(o).position(function(t){return r._position(t.geometry.coordinates)}).style({fill:r._style("fill",!0),fillColor:r._style("fillColor","#ff7800",null,i),fillOpacity:r._style("fillOpacity",.8),stroke:r._style("stroke",!0),strokeColor:r._style("strokeColor","#000000",null,i),strokeWidth:r._style("strokeWidth",1),strokeOpacity:r._style("strokeOpacity",1),radius:r._style("radius",8)}),u.push(l)),(a=n.filter(function(t){return"LineString"===t.geometry.type})).length&&(l=r.layer().createFeature("line"))&&(l.data(a).line(function(t){return t.geometry.coordinates}).position(r._position).style({strokeColor:r._style("strokeColor","#ff7800",a,i),strokeWidth:r._style("strokeWidth",4,a),strokeOpacity:r._style("strokeOpacity",.5,a),strokeOffset:r._style("strokeOffset",0,a),lineCap:r._style("lineCap","butt",a),lineJoin:r._style("lineCap","miter",a),closed:r._style("closed",!1,a)}),u.push(l)),(s=n.filter(function(t){return"Polygon"===t.geometry.type})).length&&(l=r.layer().createFeature("polygon"))&&(l.data(s).polygon(function(t,e){return{outer:t.geometry.coordinates[0],inner:t.geometry.coordinates.slice(1)}}).position(r._position).style({fill:r._style("fill",!0),fillColor:r._style("fillColor","#b0de5c",s,i),fillOpacity:r._style("fillOpacity",.8,s),stroke:r._style("stroke",!0),strokeColor:r._style("strokeColor","#999999",s,i),strokeWidth:r._style("strokeWidth",2,s),strokeOpacity:r._style("strokeOpacity",1,s)}),u.push(l)),e&&e(u)},n)}};i(a,o),r("jsonReader",a),t.exports=a},function(t,e,n){var i=n(2),r=n(9),o=n(0),a=n(13),s=function(t){"use strict";if(!(this instanceof s))return new s(t);if(void 0===(t=t||{}).node||null===t.node)return console.warn("map creation requires a node"),this;a.call(this,t);var e,o,l,u,c,h=n(48),p=n(7),d=n(3),f=n(1),v=n(6),g=n(50),m=n(124),y=this,x=this._exit,_=i(t.node),A=t.width||_.width()||512,b=t.height||_.height()||512,w=void 0===t.gcs?"EPSG:3857":t.gcs,O=void 0===t.ingcs?"EPSG:4326":t.ingcs,S={x:0,y:0},M=void 0===t.zoom?4:t.zoom,T=t.rotation?t.rotation:0,D=null,C=null,F={min:0,max:16,origMin:0},E=null,P=null,L=!!t.discreteZoom,R="function"==typeof t.allowRotation?t.allowRotation:void 0===t.allowRotation||!!t.allowRotation,k=t.maxBounds||{},I=t.camera||h(),N=t.animationQueue||[],G=void 0===t.autoResize||t.autoResize,j=((k.left||0)+(k.right||0))/2,V=((k.bottom||0)+(k.top||0))/2;function z(t,e,n,i){t.globalAlpha=e;var r=n.css("transform");r&&"matrix("===r.substr(0,7)?t.setTransform.apply(t,r.substr(7,r.length-8).split(",").map(parseFloat)):t.setTransform(1,0,0,1,0,0),t.drawImage(i,0,0)}function B(){for(var t=N.splice(0,N.length),e=1;e<t.length;e+=1)t[e].apply(this,arguments)}function U(t,e,n){var i=e.width/2,r=e.height/2,o=Math.sin(n),a=Math.cos(n),s={},l={},u={},c={};return s.x=t.x+-i*a- -r*o,s.y=t.y+-i*o+-r*a,l.x=t.x+i*a- -r*o,l.y=t.y+i*o+-r*a,u.x=t.x+-i*a-r*o,u.y=t.y+-i*o+r*a,c.x=t.x+i*a-r*o,c.y=t.y+i*o+r*a,{left:Math.min(s.x,l.x,u.x,c.x),right:Math.max(s.x,l.x,u.x,c.x),bottom:Math.min(s.y,l.y,u.y,c.y),top:Math.max(s.y,l.y,u.y,c.y)}}function H(t,n){void 0===n&&(n=T);var i=function(t){var e,n,i=t.right-t.left,r=t.top-t.bottom,o=Math.abs(i/r),a=A/b;return o>a?(e=1,n=o/a):(n=1,e=a/o),{x:e,y:n}}(t=function(t,e){return e&&(t=U({x:(t.left+t.right)/2,y:(t.top+t.bottom)/2},{width:Math.abs(t.left-t.right),height:Math.abs(t.top-t.bottom)},e)),t}(t,n));return i.y>i.x?-Math.log2(Math.abs(t.right-t.left)*i.x/(A*e)):-Math.log2(Math.abs(t.top-t.bottom)*i.y/(b*e))}function q(){F.min=u?Math.max(F.origMin,H(k)):F.origMin}function X(t,e){return t=Math.round(1e6*t)/1e6,t=Math.max(Math.min(F.max,t),F.min),L&&!e&&(t=Math.round(t))<F.min&&(t=Math.ceil(F.min)),t}function W(t,e,n){if(!R)return 0;if(e||"function"!=typeof R||(t=R(t)),!n){var i=2*Math.PI;t=t%i+(t>=0?0:i),Math.min(Math.abs(t),Math.abs(t-i))<1e-5&&(t=0)}return t}function Y(t,e,n,r){if(!o&&!l)return t;var a,s,u=k;if(e){u=i.extend({},k);var c,h,p=Math.abs(t.right-t.left),d=Math.abs(t.top-t.bottom),f=Math.abs(Math.sin(e)),v=Math.abs(Math.cos(e));if(t.width&&t.height)c=t.width,h=t.height;else if(Math.abs(f-v)<5e-4)if(A&&b){var g=Math.abs(A/b),m=Math.pow(1+Math.pow(g,2),.5);h=(c=Math.max(p,d)/m)*g}else c=p*v,h=d*f;else c=(v*p-f*d)/(v*v-f*f),h=(v*d-f*p)/(v*v-f*f);var y=p-Math.max(v*c,f*h),x=d-Math.max(v*h,f*c);u.left-=y,u.right+=y,u.top+=x,u.bottom-=x}return r&&(u={left:u.left-(t.right-t.left)/2,right:u.right+(t.right-t.left)/2,top:u.top-(t.bottom-t.top)/2,bottom:u.bottom+(t.bottom-t.top)/2}),o&&(t.right-t.left>u.right-u.left?a=u.left-(t.right-t.left-(u.right-u.left))/2-t.left:t.left<u.left?a=u.left-t.left:t.right>u.right&&(a=u.right-t.right),a&&(!n||n.x*a>0)&&(n&&Math.abs(a)>Math.abs(n.x*n.unit)&&(a=Math.abs(n.x*n.unit)*a/Math.abs(a)),t={left:t.left+=a,right:t.right+=a,top:t.top,bottom:t.bottom})),l&&(t.top-t.bottom>u.top-u.bottom?s=u.bottom-(t.top-t.bottom-(u.top-u.bottom))/2-t.bottom:t.top>u.top?s=u.top-t.top:t.bottom<u.bottom&&(s=u.bottom-t.bottom),s&&(!n||-n.y*s>0)&&(n&&Math.abs(s)>Math.abs(n.y*n.unit)&&(s=Math.abs(n.y*n.unit)*s/Math.abs(s)),t={top:t.top+=s,bottom:t.bottom+=s,left:t.left,right:t.right})),t}function K(t,e){if(I.rotation=e||0,t.width&&t.height&&e){var n=(t.left+t.right)/2,i=(t.top+t.bottom)/2;I.viewFromCenterSizeRotation({x:n,y:i},t,e)}else I.bounds=t;S={x:(I.bounds.left+I.bounds.right)/2,y:(I.bounds.top+I.bounds.bottom)/2}}function Q(){y.size({width:_.width(),height:_.height()})}return k.left=p.transformCoordinates(k.gcs||O,w,{x:void 0!==k.left?k.left:-180,y:V}).x,k.right=p.transformCoordinates(k.gcs||O,w,{x:void 0!==k.right?k.right:180,y:V}).x,k.top=void 0!==k.top?p.transformCoordinates(k.gcs||O,w,{x:j,y:k.top}).y:k.right,k.bottom=void 0!==k.bottom?p.transformCoordinates(k.gcs||O,w,{x:j,y:k.bottom}).y:k.left,e=t.unitsPerPixel||(k.right-k.left)/256,I.viewport={width:A,height:b,left:_.offset().left,top:_.offset().top},t.center=d.normalizeCoordinates(t.center),o=void 0!==t.clampBoundsX&&t.clampBoundsX,l=void 0===t.clampBoundsY||t.clampBoundsY,u=void 0===t.clampZoom||t.clampZoom,this.unitsPerPixel=function(t,n){return t=t||0,n?(e=Math.pow(2,t)*n,y.draw(),y):Math.pow(2,-t)*e},this.animationQueue=function(t){if(void 0===t)return N;if(t!==N){if(N.length){t.length&&t[0]!==N[0]&&window.cancelAnimationFrame(N[0]);for(var e=t.length?1:0;e<N.length;e+=1)t.push(N[e])}N=t}return this},this.autoResize=function(t){return void 0===t?G:(t!==G&&(i(window).off("resize",Q),(G=t)&&i(window).on("resize",Q)),this)},this.clampBoundsX=function(t){return void 0===t?o:(t!==o&&(o=!!t,y.pan({x:0,y:0})),y)},this.clampBoundsY=function(t){return void 0===t?l:(t!==l&&(l=!!t,y.pan({x:0,y:0})),y)},this.clampZoom=function(t){return void 0===t?u:(t!==u&&(u=!!t,q(),y.zoom(M)),y)},this.allowRotation=function(t){return void 0===t?R:("function"!=typeof t&&(t=!!t),t!==R&&(R=t,y.rotation(T)),y)},this.origin=function(){return i.extend({},c)},this.camera=function(){return I},this.gcs=function(t){if(void 0===t)return w;if(t!==w){var e=y.center(void 0,void 0);w=t,q();var n=X(M);n!==M&&y.zoom(n),y.center(e,void 0)}return y},this.ingcs=function(t){return void 0===t?O:(O=t,y)},this.node=function(){return _},this.zoom=function(t,e,n){if(void 0===t)return M;var i,r,o=e&&(e.mapgcs||e.geo)&&e.map,a=o;if((t=X(t,n))===M)return y;if(M=t,r=y.boundsFromZoomAndCenter(t,S,T,null,n,a),y.modified(),K(r,T),i={zoomLevel:M,screenPosition:e?e.map:void 0},y.geoTrigger(v.zoom,i),o){var s=y.gcsToDisplay(e.mapgcs||e.geo,e.mapgcs?null:void 0);y.pan({x:e.map.x-s.x,y:e.map.y-s.y},n,!0)}else y.pan({x:0,y:0},n);return y},this.pan=function(t,e,n){var i={screenDelta:t};if(t.x||t.y){var r=y.unitsPerPixel(M),o=Math.sin(T),a=Math.cos(T);I.pan({x:(t.x*a- -t.y*o)*r,y:(t.x*o+-t.y*a)*r})}var s=I.bounds;if((s=Y(s,T,"limited"===n?{x:t.x,y:t.y,unit:r}:void 0,!0===n))!==I.bounds){var l=y.gcsToDisplay({x:I.bounds.left,y:I.bounds.top},null);K(s=y.boundsFromZoomAndCenter(M,{x:(s.left+s.right)/2,y:(s.top+s.bottom)/2},T,null,e,!0),T);var u=y.gcsToDisplay({x:I.bounds.left,y:I.bounds.top},null);i.screenDelta.x+=u.x-l.x,i.screenDelta.y+=u.y-l.y}return S=I.displayToWorld({x:A/2,y:b/2}),y.geoTrigger(v.pan,i),y.modified(),y},this.rotation=function(t,e,n){if(void 0===t)return T;var i=e&&e.geo&&e.map;if((t=W(t,n))===T)return y;T=t;var r=y.boundsFromZoomAndCenter(M,S,T,null,n,!0);y.modified(),K(r,T);var o={rotation:T,screenPosition:e?e.map:void 0};if(y.geoTrigger(v.rotate,o),i){var a=y.gcsToDisplay(e.geo);y.pan({x:e.map.x-a.x,y:e.map.y-a.y},void 0,!0)}else y.pan({x:0,y:0},void 0,!0);return q(),y.zoom(M,void 0,n),y},this.center=function(t,e,n,r){var o;return void 0===t?o=i.extend({},y.worldToGcs(S,e)):(o=y.gcsToWorld(t,e),K(y.boundsFromZoomAndCenter(M,o,T,null,n,r),T),y.modified(),y.geoTrigger(v.pan,{screenDelta:{x:0,y:0}}),y)},this.createLayer=function(t,e){e=e||{};var n=f.createLayer(t,y,e);return n&&(y.addChild(n),y.children().forEach(function(t){t instanceof m&&t.moveToTop()}),n._update(),y.modified(),y.geoTrigger(v.layerAdd,{target:y,layer:n})),n},this.deleteLayer=function(t){return null!==t&&void 0!==t&&(t._exit(),y.removeChild(t),y.modified(),y.geoTrigger(v.layerRemove,{target:y,layer:t})),t},this.size=function(t){if(void 0===t)return{width:A,height:b};var e=y.center();A=t.width||A,b=t.height||b,q();var n=X(M);return n!==M&&y.zoom(n),y.camera().viewport={width:A,height:b,left:_.offset().left,top:_.offset().top},y.center(e),y.geoTrigger(v.resize,{target:y,width:A,height:b}),y.modified(),y},this.rotatedSize=function(){if(!this.rotation())return{width:A,height:b};var t=U({x:0,y:0},{width:A,height:b},this.rotation());return{width:Math.abs(t.right-t.left),height:Math.abs(t.top-t.bottom)}},this.gcsToWorld=function(t,e){return Array.isArray(t)?t.map(function(t){return y.gcsToWorld(t,e)}):((e=null===e?w:void 0===e?O:e)!==w&&(t=p.transformCoordinates(e,w,t)),c.x||c.y||c.z?t=p.affineForward({origin:c},[t])[0]:"z"in t||(t={x:t.x,y:t.y,z:0}),t)},this.worldToGcs=function(t,e){return Array.isArray(t)?t.map(function(t){return y.worldToGcs(t,e)}):(c.x||c.y||c.z?t=p.affineInverse({origin:c},[t])[0]:"z"in t||(t={x:t.x,y:t.y,z:0}),(e=null===e?w:void 0===e?O:e)!==w&&(t=p.transformCoordinates(w,e,t)),t)},this.gcsToDisplay=function(t,e){return t=y.gcsToWorld(t,e),y.worldToDisplay(t)},this.worldToDisplay=function(t){return Array.isArray(t)?t.map(function(t){return I.worldToDisplay(t)}):I.worldToDisplay(t)},this.displayToGcs=function(t,e){return t=y.displayToWorld(t),y.worldToGcs(t,e)},this.displayToWorld=function(t){return Array.isArray(t)?t.map(function(t){return I.displayToWorld(t)}):I.displayToWorld(t)},this.draw=function(){var t,e=y.children();for(y.geoTrigger(v.draw,{target:y}),y._update(),t=0;t<e.length;t+=1)e[t].draw();return y.geoTrigger(v.drawEnd,{target:y}),y},this.fileReader=function(t,e){return void 0===t?D:("string"==typeof t?((e=e||{}).layer||(e.layer=y.createLayer("feature",i.extend({},e))),e.renderer=e.layer.renderer().api(),D=f.createFileReader(t,e)):D=t,y)},this._init=function(){if(void 0===_||null===_)throw new Error("Map require DIV node");return _.data("data-geojs-map")&&i.isFunction(_.data("data-geojs-map").exit)&&_.data("data-geojs-map").exit(),_.addClass("geojs-map"),_.data("data-geojs-map",y),y},this._update=function(t){var e,n=y.children();for(e=0;e<n.length;e+=1)n[e]._update(t);return y},this.exit=function(){var t,e=y.children();for(t=e.length-1;t>=0;t-=1)e[t]._exit(),y.removeChild(e[t]);y.interactor()&&(y.interactor().destroy(),y.interactor(null)),N=[],y.node().data("data-geojs-map",null),y.node().off(".geo"),y.node().empty(),i(window).off("resize",Q),x()},this.interactor=function(t){return void 0===t?C:(C&&C!==t&&C.destroy(),(C=t)&&(_.attr("tabindex")||_.attr("tabindex",0),C.map(y)),y)},this.zoomRange=function(t,e){return void 0===t?i.extend({},F):(void 0!==t.max&&(F.max=t.max),void 0!==t.min&&(F.min=F.origMin=t.min),q(),e||y.zoom(M),y)},this.transition=function(t,e,n){if(void 0===t)return E;if(E){var o=i.extend(!0,{},E.end);return o.center&&w!==O&&(o.center=p.transformCoordinates(w,O,o.center)),P=i.extend({},o||{},P||{},t),y}var a=y.unitsPerPixel(0);function s(t){return r.zoomToHeight(t+1,A,b)*a}var l={center:void 0,zoom:y.zoom(),rotation:y.rotation(),duration:1e3,ease:function(t){return t},interp:function(t,e){return function(n){var r=[];return i.each(t,function(i){r.push(function(t,e,n){return t+(e-t)*n}(t[i],e[i],n))}),r}},done:null,zCoord:!0};function u(e){var n=E.done,i=P;if(!0===E.cancel)return y.geoTrigger(v.transitioncancel,t),n&&n({cancel:!0,source:E.cancelSource,transition:E}),E=null,void(P&&(i=P,P=null,y.transition(i,void 0,e)));if(E.start.time||(E.start.time=e,E.end.time=e+t.duration),E.time=e-E.start.time,e>=E.end.time||i){if(!i){if(E.end.center){var o=M!==X(E.end.zoom);y.center(E.end.center,null,o,o)}y.zoom(E.end.zoom,E.zoomOrigin),y.rotation(W(E.end.rotation))}return y.geoTrigger(v.transitionend,t),n&&n({next:!!i}),E=null,void(P&&(i=P,P=null,y.transition(i,void 0,e)))}var s=E.ease((e-E.start.time)/t.duration),l=E.interp(s);E.zCoord&&(l[2]=function(t){return r.heightToZoom(t/a,A,b)-1}(l[2])),X(l[2],!0)===M?y.center({x:l[0],y:l[1]},null,!0,!0):(S=y.gcsToWorld({x:l[0],y:l[1]},null,!0,!0),y.zoom(l[2],E.zoomOrigin,!0)),y.rotation(l[3],void 0,!0),y.scheduleAnimationFrame(u)}return t.center&&(e=null===e?w:void 0===e?O:e,(t=i.extend(!0,{},t)).center=d.normalizeCoordinates(t.center),e!==w&&(t.center=p.transformCoordinates(e,w,t.center))),t=i.extend(!0,{},l,t),(E={start:{center:y.center(void 0,null),zoom:y.zoom(),rotation:y.rotation()},end:{center:t.center,zoom:X(t.zoom),rotation:W(t.rotation,void 0,!0)},ease:t.ease,zCoord:t.zCoord,done:t.done,duration:t.duration,zoomOrigin:t.zoomOrigin}).interp=t.interp([E.start.center.x,E.start.center.y,t.zCoord?s(E.start.zoom):E.start.zoom,E.start.rotation],[E.end.center?E.end.center.x:E.start.center.x,E.end.center?E.end.center.y:E.start.center.y,t.zCoord?s(E.end.zoom):E.end.zoom,E.end.rotation]),y.geoTrigger(v.transitionstart,t),v.cancelNavigation?(E=null,y.geoTrigger(v.transitionend,t),y):(v.cancelAnimation?(t.duration=0,u(0)):n?u(n):y.scheduleAnimationFrame(u),y)},this.transitionCancel=function(t){return!(!E||!0===E.cancel&&!P)&&(E.cancel=!0,E.cancelSource=t||E.cancelSource||"",P=null,!0)},this.bounds=function(t,e){var n;if(e=null===e?w:void 0===e?O:e,void 0!==t){if(e!==w){var i=p.transformCoordinates(e,w,[{x:t.left,y:t.top},{x:t.right,y:t.bottom}]);t={left:i[0].x,top:i[0].y,right:i[1].x,bottom:i[1].y}}t=Y(t,T),n=y.zoomAndCenterFromBounds(t,T,null),y.zoom(n.zoom),y.center(n.center,null)}return y.boundsFromZoomAndCenter(M,S,T,e,!0)},this.maxBounds=function(t,e){if(e=null===e?w:void 0===e?O:e,void 0===t)return{left:p.transformCoordinates(w,e,{x:k.left,y:0}).x,right:p.transformCoordinates(w,e,{x:k.right,y:0}).x,bottom:p.transformCoordinates(w,e,{x:0,y:k.bottom}).y,top:p.transformCoordinates(w,e,{x:0,y:k.top}).y};var n=((t.left||0)+(t.right||0))/2,i=((t.bottom||0)+(t.top||0))/2;return void 0!==t.left&&(k.left=p.transformCoordinates(e,w,{x:t.left,y:i}).x),void 0!==t.right&&(k.right=p.transformCoordinates(e,w,{x:t.right,y:i}).x),void 0!==t.bottom&&(k.bottom=p.transformCoordinates(e,w,{x:n,y:t.bottom}).y),void 0!==t.top&&(k.top=p.transformCoordinates(e,w,{x:n,y:t.top}).y),q(),y.zoom(M),y.pan({x:0,y:0}),this},this.zoomAndCenterFromBounds=function(t,e,n){var i,r;if((n=null===n?w:void 0===n?O:n)!==w){var o=p.transformCoordinates(n,w,[{x:t.left,y:t.top},{x:t.right,y:t.bottom}]);t={left:o[0].x,top:o[0].y,right:o[1].x,bottom:o[1].y}}if(t.left>=t.right||t.bottom>=t.top)throw new Error("Invalid bounds provided");return r=X(H(t,e)),i={x:((t=Y(t,e)).left+t.right)/2-c.x,y:(t.top+t.bottom)/2-c.y},n!==w&&(i=p.transformCoordinates(w,n,i)),{zoom:r,center:i}},this.boundsFromZoomAndCenter=function(t,e,n,i,r,o){var a,s,l,u,h,d;if(i=null===i?w:void 0===i?O:i,t=X(t,r),d=y.unitsPerPixel(t),e=y.gcsToWorld(e,null),l=(a=A*d)/2,u=(s=b*d)/2,n?(e.x+=c.x,e.y+=c.y,(h=U(e,{width:a,height:s},n)).width=a,h.height=s,h=Y(h,n,void 0,o)):h=Y(h={left:e.x-l+c.x,right:e.x+l+c.x,bottom:e.y-u+c.y,top:e.y+u+c.y},0,void 0,o),i!==w){var f=p.transformCoordinates(w,i,[[h.left,h.top],[h.right,h.bottom]]);h={left:f[0][0],top:f[0][1],right:f[1][0],bottom:f[1][1]}}return h.width=a,h.height=s,h},this.discreteZoom=function(t){return void 0===t?L:(L!==(t=!!t)&&((L=t)&&y.zoom(Math.round(y.zoom())),y.interactor()&&y.interactor().options({discreteZoom:L})),y)},this.layers=this.children,this.updateAttribution=function(){y.node().find(".geo-attribution").remove();var t=i("<div/>").addClass("geo-attribution").on("mousedown",function(t){t.stopPropagation()});return y.children().forEach(function(e){var n=e.attribution();n&&i("<span/>").addClass("geo-attribution-layer").html(n).appendTo(t)}),i("span",t).length&&t.appendTo(y.node()),y},this.screenshot=function(t,e,n,r){var o;if(!t||Array.isArray(t)||t.renderer||(e=e||t.type,n=n||t.encoderOptions,r=r||t,t=t.layers),(r=r||{}).wait){var a=i.extend({},r,{wait:!1});o=i.Deferred();var s=function(){window.requestAnimationFrame(function(){o.resolve()})};return"idle"===r.wait?y.onIdle(s):s(),o.then(function(){return y.screenshot(t,e,n,a)})}o=i.when(),t?Array.isArray(t)||(t=[t]):(t=y.layers(),null!==r.attribution&&void 0!==r.attribution||(r.attribution=!0)),t=(t=t.filter(function(t){return y.layers().indexOf(t)>=0&&t.opacity()>0&&(!t.visible||t.visible())})).sort(function(t,e){return t.zIndex()-e.zIndex()});var l=document.createElement("canvas");l.width=A,l.height=b;var u=l.getContext("2d");if(!1!==r.background&&null!==r.background){var c=r.background;void 0===r.background&&(u.fillStyle="white",u.fillRect(0,0,l.width,l.height),y.node().parents().get().reverse().forEach(function(t){(c=window.getComputedStyle(t).backgroundColor)&&"transparent"!==c&&(u.fillStyle=c,u.fillRect(0,0,l.width,l.height))}),c=window.getComputedStyle(y.node()[0]).backgroundColor),c&&"transparent"!==c&&(u.fillStyle=c,u.fillRect(0,0,l.width,l.height))}return t.forEach(function(t){var e=t.opacity();t.node().children("canvas").each(function(){var n=i(this);o=o.then(function(){"vgl"===t.renderer().api()&&t.renderer()._renderFrame(),z(u,e,n,n[0])})}),!t.node().children().not("canvas").length&&t.node().children().length||(o=o.then(function(){return d.htmlToImage(t.node(),1).done(function(t){z(u,1,i([]),t)})}))}),r.attribution&&y.node().find(".geo-attribution").each(function(){var t=i(this);o=o.then(function(){return d.htmlToImage(t,1).done(function(t){z(u,1,i([]),t)})})}),o=o.then(function(){var t=l;if("canvas"!==e)try{l=l.toDataURL(e,n)}catch(t){console.warn("Failed to convert screenshot to output",t);var r=i.Deferred();return r.reject(),r}return y.geoTrigger(v.screenshot.ready,{canvas:t,screenshot:l}),l})},this.scheduleAnimationFrame=function(t,e){N.length||N.push(window.requestAnimationFrame(B));var n=N.indexOf(t,1);if(n>=0){if(!e)return;if(N.splice(n,1),"remove"===e)return}return N.push(t),N[0]},this._init(t),this.node().on("dragover.geo",function(t){var e=t.originalEvent;y.fileReader()&&(e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy")}).on("drop.geo",function(t){var e,n,i=t.originalEvent,r=y.fileReader();function o(){y.draw()}if(r)for(i.stopPropagation(),i.preventDefault(),e=0;e<i.dataTransfer.files.length;e+=1)n=i.dataTransfer.files[e],r.canRead(n)&&r.read(n,o)}),c={x:0,y:0},this.zoomRange(t,!0),M=X(M),T=W(T),this.center(i.extend({},t.center||S),void 0),null!==t.interactor&&this.interactor(t.interactor||g({discreteZoom:L})),G&&i(window).on("resize",Q),y.geoOn([v.layerAdd,v.layerRemove],y.updateAttribution),this};s.create=function(t){"use strict";var e=s(t),i=n(24);return e&&e.zoom?(t.data=t.data||[],t.layers=t.layers||[],t.layers.forEach(function(n){n.data=n.data||t.data,n.layer=i.create(e,n)}),e):(console.warn("Could not create map."),null)},o(s,a),t.exports=s},function(t,e,n){t.exports=function(){"use strict";var t=n(2),e=n(0),i=n(125),r=n(1),o=n(17),a=function(t){var e=n(123);if(!(this instanceof a))return new a(t);void 0!==t.mapOpacity&&void 0===t.opacity&&(t.opacity=t.mapOpacity),i.call(this,t),this.mapOpacity=this.opacity,this._getTile=function(t,n){var i=n||t;return e({index:t,size:{x:this._options.tileWidth,y:this._options.tileHeight},queue:this._queue,overlap:this._options.tileOverlap,scale:this._options.tileScale,url:this._options.url.call(this,i.x,i.y,i.level||0,this._options.subdomains),crossDomain:this._options.crossDomain})}.bind(this)};return a.defaults=t.extend({},i.defaults,{tileOffset:function(t){var e=256*Math.pow(2,t-1);return{x:e,y:e}},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Tile data &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),e(a,i),r.registerLayer("osm",a,[o.capabilities.image]),a}()},function(t,e){},function(t,e,n){t.exports="0.17.0"},function(t,e,n){t.exports="735f517ecab19d9c13e0b72b728033d74abdee84"},function(t,e,n){n(6).d3={rescale:n(117)},t.exports={graphFeature:n(274),lineFeature:n(275),object:n(14),pathFeature:n(276),pointFeature:n(277),quadFeature:n(278),renderer:n(11),tileLayer:n(279),uniqueID:n(51),vectorFeature:n(280)}},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(121),a=function(t){"use strict";var e=this;return this instanceof a?(o.call(this,t),this.select=function(){var t=e.renderer(),n={},i=e.nodeFeature(),r=e.linkFeatures();return n.nodes=t.select(i._d3id()),n.links=r.map(function(e){return t.select(e._d3id())}),n},this):new a(t)};i(a,o),r("d3","graph",a),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(23),a=function(t){"use strict";if(!(this instanceof a))return new a(t);var e=n(11).d3,i=n(14),r=n(10),s=n(3);t=t||{},o.call(this,t),i.call(this);var l=this,u=this._init,c=r(),h=0,p=this._update;return this._init=function(t){return u.call(l,t),l},this._build=function(){var t,n,i=l.data()||[],r=l.style(),o=l.renderer(),a=l.position();for(p.call(l),r.fill=function(){return!1},i.forEach(function(n,i){var u,c,h=l.line()(n,i),p={};function d(t){return s.isFunction(t)?function(){return t(h[0],0,n,i)}:t}for(c in r)r.hasOwnProperty(c)&&(p[c]=d(r[c]));t=e.svg.line().x(function(t){return l.featureGcsToDisplay(t).x}).y(function(t){return l.featureGcsToDisplay(t).y}).interpolate(l.style.get("closed")(n,i)&&h.length>2?"linear-closed":"linear"),u={data:[h.map(function(t,e){return a(t,e,n,i)})],append:"path",attributes:{d:t},id:l._d3id()+i,classes:["d3LineFeature","d3SubLine-"+i],visible:l.visible,style:p},o._drawFeatures(u)}),n=i.length;n<h;n+=1)o._removeFeature(l._d3id()+n);return h=i.length,c.modified(),l.updateTime().modified(),l},this._update=function(){return p.call(l),l.getMTime()>=c.getMTime()&&l._build(),l},this._init(t),this};i(a,o);var s={};s[o.capabilities.basic]=!0,s[o.capabilities.multicolor]=!1,r("d3","line",a,s),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(127),a=function(t){"use strict";if(!(this instanceof a))return new a(t);var e=n(2),i=n(11).d3,r=n(14),s=n(10);t=t||{},o.call(this,t),r.call(this);var l=this,u=this._init,c=s(),h=this._update,p={style:{}};return this._init=function(t){return u.call(l,t),l},this._build=function(){var t,n,r=l.data()||[],o=l.style();return h.call(l),n=function(t){var e={source:t.source,target:t.target};return i.svg.diagonal()(e)},t=[],r.forEach(function(e,n){var i,o;n<r.length-1&&(i=e,o=r[n+1],t.push({source:l.featureGcsToDisplay(i),target:l.featureGcsToDisplay(o)}))}),p.data=t,p.attributes={d:n},p.id=l._d3id(),p.append="path",p.classes=["d3PathFeature"],p.style=e.extend({fill:function(){return!1},fillColor:function(){return{r:0,g:0,b:0}}},o),p.visible=l.visible,l.renderer()._drawFeatures(p),c.modified(),l.updateTime().modified(),l},this._update=function(){return h.call(l),l.dataTime().getMTime()>=c.getMTime()&&l._build(),l},this._init(t),this};i(a,o),r("d3","path",a),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(33),a=function(t){"use strict";if(!(this instanceof a))return new a(t);var e=n(14),i=n(10);t=t||{},o.call(this,t),e.call(this);var r=this,s=this._init,l=this._update,u=i(),c={};return this._init=function(t){return s.call(r,t),r},this._build=function(){var t=r.data(),e=r.style.get(),n=r.renderer(),i=r.position();return l.call(r),t||(t=[]),c.id=r._d3id(),c.data=t,c.append="circle",c.attributes={r:n._convertScale(e.radius),cx:function(t){return r.featureGcsToDisplay(i(t)).x},cy:function(t){return r.featureGcsToDisplay(i(t)).y}},c.style=e,c.classes=["d3PointFeature"],c.visible=r.visible,r.renderer()._drawFeatures(c),u.modified(),r.updateTime().modified(),r},this._update=function(){return l.call(r),r.getMTime()>=u.getMTime()&&r._build(),r},this._init(t),this};i(a,o),r("d3","point",a),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(17),a=function(t){"use strict";if(!(this instanceof a))return new a(t);var e=n(2),i=n(11).d3,r=n(14);o.call(this,t),r.call(this);var s,l=this,u=this._exit,c=this._init,h=this._update;return this._build=function(){if(this.position()){var t=this.renderer(),n=t.layer().map();s=this._generateQuads();var r=[];e.each(s.clrQuads,function(t,e){r.push({type:"clr",quad:e,zIndex:e.pos[2]})}),e.each(s.imgQuads,function(t,e){e.image&&r.push({type:"img",quad:e,zIndex:e.pos[2]})});var o={id:this._d3id(),data:r,dataIndex:function(t){return t.quad.quadId},append:function(t){var e=this.namespaceURI,n="clr"===t.type?"polygon":"image";return e?document.createElementNS(e,n):document.createElement(n)},attributes:{fill:function(t){if("clr"===t.type)return i.rgb(255*t.quad.color.r,255*t.quad.color.g,255*t.quad.color.b);1!==t.quad.opacity&&i.select(this).style("opacity",t.quad.opacity)},height:function(t){return"clr"===t.type?void 0:1},points:function(e){if("clr"===e.type&&!e.points){var i,r=[];for(i=0;i<e.quad.pos.length;i+=3){var o={x:e.quad.pos[i],y:e.quad.pos[i+1],z:e.quad.pos[i+2]};o=n.gcsToDisplay(o,null),o=t.baseToLocal(o),r.push(o.x+","+o.y)}e.points=r[0]+" "+r[1]+" "+r[3]+" "+r[2]}return"clr"===e.type?e.points:void 0},preserveAspectRatio:function(t){return"clr"===t.type?void 0:"none"},reference:function(t){return t.quad.reference},stroke:!1,transform:function(e){if("img"===e.type&&e.quad.image&&!e.svgTransform){var i,r,o,a,s=[],l=-1,u=e.quad.image.width,c=e.quad.image.height;for(o=0;o<e.quad.pos.length;o+=3){var h={x:e.quad.pos[o],y:e.quad.pos[o+1],z:e.quad.pos[o+2]};h=n.gcsToDisplay(h,null),h=t.baseToLocal(h),s.push(h)}for(o=0;o<4;o+=1)(i=Math.abs(s[(o+1)%4].x*(s[(o+2)%4].y-s[(o+3)%4].y)+s[(o+2)%4].x*(s[(o+3)%4].y-s[(o+1)%4].y)+s[(o+3)%4].x*(s[(o+1)%4].y-s[(o+2)%4].y))/2)>l&&(l=i,r=o);e.svgTransform=[3===r||2===r?s[1].x-s[0].x:s[3].x-s[2].x,3===r||2===r?s[1].y-s[0].y:s[3].y-s[2].y,0===r||2===r?s[1].x-s[3].x:s[0].x-s[2].x,0===r||2===r?s[1].y-s[3].y:s[0].y-s[2].y,2===r?s[3].x+s[0].x-s[1].x:s[2].x,2===r?s[3].y+s[0].y-s[1].y:s[2].y],Math.abs(e.svgTransform[1]/u)<1e-6&&Math.abs(e.svgTransform[2]/c)<1e-6&&(a=e.svgTransform[0]/u,e.svgTransform[4]=Math.round(e.svgTransform[4]/a)*a,a=e.svgTransform[3]/c,e.svgTransform[5]=Math.round(e.svgTransform[5]/a)*a)}return"img"===e.type&&e.quad.image?"matrix("+e.svgTransform.join(" ")+")":void 0},width:function(t){return"clr"===t.type?void 0:1},x:function(t){return"clr"===t.type?void 0:0},"xlink:href":function(t){return"clr"!==t.type&&t.quad.image?t.quad.image.src:void 0},y:function(t){return"clr"===t.type?void 0:0}},style:{fillOpacity:function(t){return"clr"===t.type?t.quad.opacity:void 0}},onlyRenderNew:!this.style("previewColor")&&!this.style("previewImage"),sortByZ:!0,visible:l.visible,classes:["d3QuadFeature"]};t._drawFeatures(o),this.buildTime().modified()}},this._update=function(){return h.call(l),(l.buildTime().getMTime()<=l.dataTime().getMTime()||l.buildTime().getMTime()<l.getMTime())&&l._build(),l},this._init=function(){c.call(l,t)},this._exit=function(){u.call(l)},l._init(t),this};i(a,o);var s={};s[o.capabilities.color]=!0,s[o.capabilities.image]=!0,s[o.capabilities.imageCrop]=!1,s[o.capabilities.imageFixedScale]=!1,s[o.capabilities.imageFull]=!1,s[o.capabilities.canvas]=!1,s[o.capabilities.video]=!1,r("d3","quad",a,s),t.exports=a},function(t,e,n){var i=function(){"use strict";var t,e=this,n=this._init,i=this._exit,r=0,o=[];this._drawTile=function(n){if(t){var i=e._tileBounds(n),a=n.index.level||0,s=this._tileOffset(a),l={};l.ul=this.fromLocal(this.fromLevel({x:i.left-s.x,y:i.top-s.y},a),0),l.ll=this.fromLocal(this.fromLevel({x:i.left-s.x,y:i.bottom-s.y},a),0),l.ur=this.fromLocal(this.fromLevel({x:i.right-s.x,y:i.top-s.y},a),0),l.lr=this.fromLocal(this.fromLevel({x:i.right-s.x,y:i.bottom-s.y},a),0),l.ul.z=l.ll.z=l.ur.z=l.lr.z=1e-5*a,r+=1,l.id=r,n.quadId=l.id,l.image=n.image,l.reference=n.toString(),o.push(l),t.data(o),t._update(),e.draw()}},this._remove=function(n){if(void 0!==n.quadId&&t){for(var i=0;i<o.length;i+=1)if(o[i].id===n.quadId){o.splice(i,1);break}t.data(o),t._update(),e.draw()}},this._exit=function(){e.deleteFeature(t),t=null,o=[],i.apply(e,arguments)},this._init=function(){n.apply(e,arguments),(t=this.createFeature("quad",{previewColor:e._options.previewColor,previewImage:e._options.previewImage})).geoTrigger=void 0,t.gcs(e._options.gcs||e.map().gcs()),t.data(o),t._update()},this._getSubLayer=function(){},this._updateSubLayers=void 0};(0,n(1).registerLayerAdjustment)("d3","tile",i),t.exports=i},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(129),a=function(t){"use strict";if(!(this instanceof a))return new a(t);var e=n(14),i=n(10),r=n(11).d3;t=t||{},o.call(this,t),e.call(this);var s=this,l=this._init,u=this._exit,c=this._update,h=i(),p={};function d(t,e,n){return s._d3id()+"_marker_"+e+"_"+n}function f(t,e,n,i,o){var a={arrow:{attrs:{class:"geo-vector-arrow geo-vector-marker",viewBox:"0 0 10 10",refX:"1",refY:"5",markerHeight:"5",markerWidth:"5",orient:"auto"},path:"M 0 0 L 10 5 L 0 10 z"},point:{attrs:{class:"geo-vector-point geo-vector-marker",viewBox:"0 0 12 12",refX:"6",refY:"6",markerHeight:"8",markerWidth:"8",orient:"auto"},path:"M 6 3 A 3 3 0 1 1 5.99999 3 Z"},bar:{attrs:{class:"geo-vector-bar geo-vector-marker",viewBox:"0 0 10 10",refX:"0",refY:"5",markerHeight:"6",markerWidth:"6",orient:"auto"},path:"M 0 0 L 2 0 L 2 10 L 0 10 z"},wedge:{attrs:{class:"geo-vector-wedge geo-vector-marker",viewBox:"0 0 10 10",refX:"10",refY:"5",markerHeight:"5",markerWidth:"5",orient:"auto"},path:"M 0 0 L 1 0 L 10 5 L 1 10 L 0 10 L 9 5 L 0 0"}},l=s.renderer()._definitions().selectAll("g.marker-group#"+s._d3id()).data(t.length?[1]:[]);l.enter().append("g").attr("id",s._d3id).attr("class","marker-group"),l.exit().remove();var u=t.reduce(function(t,e,n){var r=a[o(e,n)],s=a[i(e,n)];return r&&t.push({data:e,dataIndex:n,head:!0}),s&&t.push({data:e,dataIndex:n,head:!1}),t},[]),c=l.selectAll("marker.geo-vector-marker").data(u);c.enter().append("marker").append("path");var h=s.renderer();c.each(function(t){var e=r.select(this),n=t.head?a[o(t.data,t.dataIndex)]:a[i(t.data,t.dataIndex)];Object.keys(n.attrs).map(function(t){e.attr(t,n.attrs[t])})}).attr("id",function(t){return d(t.data,t.dataIndex,t.head?"head":"tail")}).style("stroke",function(t){return h._convertColor(e)(t.data,t.dataIndex)}).style("fill",function(t){return h._convertColor(e)(t.data,t.dataIndex)}).style("opacity",function(t){return n(t.data,t.dataIndex)}).select("path").attr("d",function(t){return t.head?a[o(t.data,t.dataIndex)].path:a[i(t.data,t.dataIndex)].path}),c.exit().remove()}return this._init=function(t){return l.call(s,t),s},this._build=function(){var t,e=s.data(),n=s.style.get(),i=s.renderer(),r=s.origin(),o=s.delta(),a=s.style("scale"),l=Number.NEGATIVE_INFINITY;function u(){return a/i.scaleFactor()}return c.call(s),e||(e=[]),t=e.map(function(t,e){var n=s.featureGcsToDisplay(r(t,e)),i=o(t,e);return l=Math.max(l,i.x*i.x+i.y*i.y),{x1:n.x,y1:n.y,dx:i.x,dy:-i.y}}),l=Math.sqrt(l),a||(a=75/l),p.id=s._d3id(),p.data=e,p.append="line",p.attributes={x1:function(e,n){return t[n].x1},y1:function(e,n){return t[n].y1},x2:function(e,n){return t[n].x1+u()*t[n].dx},y2:function(e,n){return t[n].y1+u()*t[n].dy},"marker-start":function(t,e){return"url(#"+d(0,e,"tail")+")"},"marker-end":function(t,e){return"url(#"+d(0,e,"head")+")"}},p.style={stroke:function(){return!0},strokeColor:n.strokeColor,strokeWidth:n.strokeWidth,strokeOpacity:n.strokeOpacity,originStyle:n.originStyle,endStyle:n.endStyle},p.classes=["d3VectorFeature"],p.visible=s.visible,f(e,n.strokeColor,n.strokeOpacity,n.originStyle,n.endStyle),s.renderer()._drawFeatures(p),h.modified(),s.updateTime().modified(),s},this._update=function(){return c.call(s),s.getMTime()>=h.getMTime()?s._build():f(p.data,p.style.strokeColor,p.style.strokeOpacity,p.style.originStyle,p.style.endStyle),s},this._exit=function(){u.call(s),p={},f([],null,null,null,null)},this._init(t),this};i(a,o),r("d3","vector",a),t.exports=a},function(t,e,n){t.exports={choroplethFeature:n(282),contourFeature:n(283),isolineFeature:n(284),lineFeature:n(285),pointFeature:n(286),polygonFeature:n(287),quadFeature:n(289),tileLayer:n(290),vglRenderer:n(112)}},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(116),a=function(t){"use strict";if(!(this instanceof a))return new a(t);t=t||{},o.call(this,t);var e=this,n=null,i=this._exit,r=this._init,s=this.draw,l=this._update;return this.draw=function(){if(e._update(),n)for(var t=0;t<n.length;t+=1)n[t].draw();return s(),e},this._init=function(t){r.call(e,t)},this._build=function(){return e.buildTime().modified(),n=e.createChoropleth()},this._update=function(){l.call(e),(e.dataTime().getMTime()>=e.buildTime().getMTime()||e.updateTime().getMTime()<=e.getMTime())&&(e._wipePolygons(),e._build()),e.updateTime().modified()},this._wipePolygons=function(){n&&n.map(function(t){return t._exit()}),n=null},this._exit=function(){e._wipePolygons(),i()},this._init(t),this};i(a,o),r("vgl","choropleth",a),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(118),a=function(t){"use strict";if(!(this instanceof a))return new a(t);t=t||{},o.call(this,t);var e=n(9),i=n(7),r=n(3);n(18).call(this);var s=this,l=this._exit,u=null,c=null,h=null,p=null,d=null,f=null,v=null,g=null,m=void 0!==t.dynamicDraw&&t.dynamicDraw,y=this._init,x=this._update;return this._init=function(t){var n=e.blend(),i=e.shaderProgram(),r=e.material(),o=e.lookupTable(),a=e.geometryData(),l=new e.modelViewUniform("modelViewMatrix"),x=new e.projectionUniform("projectionMatrix"),_=new e.uniform(e.GL.INT,"sampler2d"),A=function(){var t=["#ifdef GL_ES","  precision highp float;","#endif","attribute vec3 pos;","attribute float value;","attribute float opacity;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","varying float valueVar;","varying float opacityVar;","void main(void)","{","  vec4 scrPos = projectionMatrix * modelViewMatrix * vec4(pos.xy, 0, 1);","  if (scrPos.w != 0.0) {","    scrPos = scrPos / scrPos.w;","  }","  valueVar = value;","  opacityVar = opacity;","  gl_Position = scrPos;","}"].join("\n"),n=new e.shader(e.GL.VERTEX_SHADER);return n.setShaderSource(t),n}(),b=function(){var t=["#ifdef GL_ES","  precision highp float;","#endif","uniform vec4 minColor;","uniform vec4 maxColor;","uniform float steps;","uniform bool stepped;","uniform sampler2D sampler2d;","varying float valueVar;","varying float opacityVar;","void main () {","  vec4 clr;","  if (valueVar < 0.0) {","    clr = minColor;","  } else if (valueVar > steps) {","    clr = maxColor;","  } else {","    float step;","    if (stepped) {","      step = floor(valueVar) + 0.5;","      if (step > steps) {","        step = steps - 0.5;","      }","    } else {","      step = valueVar;","    }","    clr = texture2D(sampler2d, vec2((step + 1.0) / (steps + 2.0), 0.0));","  }","  gl_FragColor = vec4(clr.rgb, clr.a * opacityVar);","}"].join("\n"),n=new e.shader(e.GL.FRAGMENT_SHADER);return n.setShaderSource(t),n}(),w=e.vertexAttribute("pos"),O=e.vertexAttribute("value"),S=e.vertexAttribute("opacity"),M=e.sourceDataP3fv({name:"pos"}),T=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.One,{name:"value"}),D=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.Two,{name:"opacity"}),C=new e.triangles;y.call(s,t),c=e.mapper({dynamicDraw:m}),i.addVertexAttribute(w,e.vertexAttributeKeys.Position),i.addVertexAttribute(O,e.vertexAttributeKeysIndexed.One),i.addVertexAttribute(S,e.vertexAttributeKeysIndexed.Two),i.addUniform(l),i.addUniform(x),d=new e.uniform(e.GL.FLOAT_VEC4,"minColor"),i.addUniform(d),f=new e.uniform(e.GL.FLOAT_VEC4,"maxColor"),i.addUniform(f),v=new e.uniform(e.GL.FLOAT,"steps"),i.addUniform(v),g=new e.uniform(e.GL.BOOL,"stepped"),i.addUniform(g),i.addShader(b),i.addShader(A),i.addUniform(_),o.setTextureUnit(7),_.set(7),(h=r).addAttribute(i),h.addAttribute(n),p=o,h.addAttribute(p),(u=e.actor()).setMaterial(h),u.setMapper(c),a.addSource(M),a.addSource(T),a.addSource(D),a.addPrimitive(C),c.setGeometryData(a)},this._build=function(){u&&s.renderer().contextRenderer().removeActor(u),function(){var t,e,n,o,a,l,u,h,m=s._createContours(),y=m.elements.length,x=[],_=c.geometryData();for(d.set([m.minColor.r,m.minColor.g,m.minColor.b,m.minColor.a]),f.set([m.maxColor.r,m.maxColor.g,m.maxColor.b,m.maxColor.a]),v.set(m.colorMap.length),g.set(m.stepped),t=-1;t<m.colorMap.length+1;t+=1)n=Math.max(0,Math.min(m.colorMap.length-1,t)),x.push(255*m.colorMap[n].r),x.push(255*m.colorMap[n].g),x.push(255*m.colorMap[n].b),x.push(255*m.colorMap[n].a);for(p.setColorTable(x),m.pos=i.transformCoordinates(s.gcs(),s.layer().map().gcs(),m.pos,3),a=r.getGeomBuffer(_,"pos",3*y),l=r.getGeomBuffer(_,"opacity",y),u=r.getGeomBuffer(_,"value",y),t=e=0;t<y;t+=1,e+=3)o=3*(n=m.elements[t]),a[e]=m.pos[o],a[e+1]=m.pos[o+1],a[e+2]=m.pos[o+2],l[t]=m.opacity[n],u[t]=m.value[n];(h=_.primitive(0).indices())instanceof Uint16Array&&h.length===y||(h=new Uint16Array(y),_.primitive(0).setIndices(h)),_.boundsDirty(!0),c.modified(),c.boundsDirtyTimestamp().modified()}(),s.renderer().contextRenderer().addActor(u),s.buildTime().modified()},this._update=function(){x.call(s),(s.dataTime().getMTime()>=s.buildTime().getMTime()||s.updateTime().getMTime()<=s.getMTime())&&s._build(),u.setVisible(s.visible()),u.material().setBinNumber(s.bin()),s.updateTime().modified()},this._exit=function(){s.renderer().contextRenderer().removeActor(u),l()},this._init(t),this};i(a,o),r("vgl","contour",a),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(54),a=function(t){"use strict";return this instanceof a?(t=t||{},o.call(this,t),n(18).call(this),this._init(t),this):new a(t)};i(a,o),r("vgl","isoline",a),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(23),a=100,s={corner:0,near:1,far:3},l={butt:0,square:1,round:2},u={passthrough:3,miter:4,bevel:5,round:6,"miter-clip":7},c=2,h=5,p=8,d={normal:0,debug:1},f=function(t){"use strict";if(!(this instanceof f))return new f(t);t=t||{},o.call(this,t);var e=n(9),i=n(7),r=n(3);n(18).call(this);var v,g,m,y,x,_,A,b,w,O=this,S=this._exit,M=void 0!==t.dynamicDraw&&t.dynamicDraw,T=this._init,D=this._update;return this.featureVertices=function(){return[[0,"corner",-1],[0,"near",1],[1,"far",-1],[1,"corner",1],[1,"near",-1],[0,"far",1]]},this.verticesPerFeature=function(){return O.featureVertices().length},this._init=function(t){var n=e.shaderProgram(),i=function(){var t=["#ifdef GL_ES","  precision highp float;","#endif","attribute vec3 pos;","attribute vec3 prev;","attribute vec3 next;","attribute vec3 far;","attribute float flags;","attribute vec3 strokeColor;","attribute float strokeOpacity;","attribute float strokeWidth;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float pixelWidth;","uniform float aspect;","uniform float miterLimit;","uniform float antialiasing;","varying vec4 strokeColorVar;","varying vec4 subpos;","varying vec4 info;","varying vec4 angles;","const float PI = 3.14159265358979323846264;","vec4 viewCoord(vec3 c) {","  vec4 result = projectionMatrix * modelViewMatrix * vec4(c.xyz, 1.0);","  if (result.w != 0.0)  result = result / result.w;","  return result;","}","float atan2(float y, float x) {","  if (x > 0.0)  return atan(y / x);","  if (x < 0.0 && y >= 0.0)  return atan(y / x) + PI;","  if (x < 0.0)  return atan(y / x) - PI;","  return sign(y) * 0.5 * PI;","}","void main(void)","{","  if (strokeOpacity < 0.0) {","    gl_Position = vec4(2.0, 2.0, 0.0, 1.0);","    return;","  }","  vec4 A = viewCoord(prev);","  vec4 B = viewCoord(pos);","  vec4 C = viewCoord(next);","  vec4 D = viewCoord(far);","  vec2 deltaCB = C.xy - B.xy;","  if (deltaCB == vec2(0.0, 0.0)) {","    gl_Position = vec4(2.0, 2.0, 0.0, 1.0);","    return;","  }","  float angleCB = atan2(deltaCB.y, deltaCB.x * aspect);","  strokeColorVar = vec4(strokeColor, strokeOpacity);","  int vertex = int(mod(flags, 4.0));","  int nearMode = int(mod(floor(flags / 4.0), 8.0));","  int farMode = int(mod(floor(flags / 32.0), 8.0));","  float offset = mod(floor(flags / 256.0), 2048.0) / 1023.0;","  if (offset > 1.0)  offset -= 2048.0 / 1023.0;","  float yOffset = strokeWidth + antialiasing;","  if (vertex == 0 || vertex == 2)  yOffset *= -1.0;","  yOffset += strokeWidth * offset;","  float xOffset = 0.0;","  if (nearMode == 0) {","    xOffset = antialiasing;","  } else if (nearMode == 1 || nearMode == 2) {","    xOffset = strokeWidth + antialiasing;","  }","  float cosABC = 1.0, sinABC = 0.0, cosBCD = 1.0, sinBCD = 0.0;","  if (nearMode >= 4) {","    float angleBA = atan2(B.y - A.y, (B.x - A.x) * aspect);","    if (A.xy == B.xy)  angleBA = angleCB;","    float angleABC = angleCB - angleBA;","    angleABC = (mod(angleABC + 3.0 * PI, 2.0 * PI) - PI) / 2.0;","    cosABC = cos(angleABC);  sinABC = sin(angleABC);","    if (nearMode >= 4 && cosABC > 0.999999) {","      nearMode = 3;","    }","    if (nearMode == 4 || nearMode == 7) {","      if (cosABC < 0.000001 || 1.0 / cosABC > miterLimit) {","        if (nearMode == 4) {","          nearMode = 5;","        } else {","          xOffset = miterLimit * strokeWidth * (1.0 - offset * sign(sinABC)) + antialiasing;","        }","      } else {","        xOffset = abs(sinABC / cosABC) * strokeWidth * (1.0 - offset * sign(sinABC)) + antialiasing + 1.0;","        nearMode = 4;","      }","    }","    if (nearMode == 5 || nearMode == 6) {","      xOffset = strokeWidth * (1.0 - offset * sign(sinABC)) + antialiasing;","    }","  }","  if (farMode >= 4) {","    float angleDC = atan2(D.y - C.y, (D.x - C.x) * aspect);","    if (D.xy == C.xy)  angleDC = angleCB;","    float angleBCD = angleDC - angleCB;","    angleBCD = (mod(angleBCD + 3.0 * PI, 2.0 * PI) - PI) / 2.0;","    cosBCD = cos(angleBCD);  sinBCD = sin(angleBCD);","    if (farMode >= 4 && cosBCD > 0.999999) {","      farMode = 3;","    }","    if (farMode == 4 || farMode == 7) {","      if (cosBCD < 0.000001 || 1.0 / cosBCD > miterLimit) {","        if (farMode == 4)  farMode = 5;","      } else {","        farMode = 4;","      }","    }","  }","  xOffset *= -1.0;","  gl_Position = vec4(","    B.x + (xOffset * cos(angleCB) - yOffset * sin(angleCB)) * pixelWidth,","    B.y + (xOffset * sin(angleCB) + yOffset * cos(angleCB)) * pixelWidth * aspect,","    B.z, 1.0);","  float lineLength = length(vec2(deltaCB.x, deltaCB.y / aspect)) / pixelWidth;","  if (vertex == 0 || vertex == 1) {","    subpos = vec4(xOffset, yOffset, lineLength - xOffset, strokeWidth);","    info = vec4(float(nearMode), float(farMode), offset, 0.0);","    angles = vec4(cosABC, sinABC, cosBCD, sinBCD);","  } else {","    subpos = vec4(lineLength - xOffset, -yOffset, xOffset, strokeWidth);","    info = vec4(float(farMode), float(nearMode), -offset, 0.0);","    angles = vec4(cosBCD, -sinBCD, cosABC, -sinABC);","  }","}"].join("\n"),n=new e.shader(e.GL.VERTEX_SHADER);return n.setShaderSource(t),n}(),r=function(t){var n=["#ifdef GL_ES","  #ifdef GL_FRAGMENT_PRECISION_HIGH","    precision highp float;","  #else","    precision mediump float;","  #endif","#endif","varying vec4 strokeColorVar;","varying vec4 subpos;","varying vec4 info;","varying vec4 angles;","uniform float antialiasing;","uniform float miterLimit;","uniform float fixedFlags;","void main () {","  vec4 color = strokeColorVar;",t?"  bool debug = bool(mod(fixedFlags, 2.0));":"","  float opacity = 1.0;","  int nearMode = int(floor(info.x + 0.5));","  int farMode = int(floor(info.y + 0.5));","  float cosABC = angles.x;","  float sinABC = angles.y;","  float cosBCD = angles.z;","  float sinBCD = angles.w;","  if (nearMode >= 4) {","    float dist = cosABC * subpos.x - sinABC * subpos.y;","    opacity = min(opacity, pow(smoothstep(-0.02, 0.02, dist), 0.5));","    if (opacity == 0.0) {",t?"if (debug) {color.r=255.0/255.0;gl_FragColor=color;return;}":"","      discard;","    }","  }","  if (farMode >= 4) {","    float dist = cosBCD * subpos.z - sinBCD * subpos.y;","    opacity = min(opacity, pow(smoothstep(-0.02, 0.02, dist), 0.5));","    if (opacity == 0.0) {",t?"if (debug) {color.r=254.0/255.0;gl_FragColor=color;return;}":"","      discard;","    }","  }","  if ((nearMode == 0 || nearMode == 1) && subpos.x < antialiasing) {","    opacity = min(opacity, smoothstep(-antialiasing, antialiasing, subpos.x + subpos.w * float(nearMode)));","  }","  if ((farMode == 0 || farMode == 1) && subpos.z < antialiasing) {","    opacity = min(opacity, smoothstep(-antialiasing, antialiasing, subpos.z + subpos.w * float(farMode)));","  }","  if (nearMode == 2 && subpos.x <= 0.0) {","    opacity = min(opacity, smoothstep(-antialiasing, antialiasing, subpos.w - sqrt(pow(subpos.x, 2.0) + pow(subpos.y - info.z * subpos.w, 2.0))));","  }","  if (farMode == 2 && subpos.z <= 0.0) {","    opacity = min(opacity, smoothstep(-antialiasing, antialiasing, subpos.w - sqrt(pow(subpos.z, 2.0) + pow(subpos.y - info.z * subpos.w, 2.0))));","  }","  if ((nearMode == 5 || nearMode == 7) && subpos.x < antialiasing) {","    float dist = (sinABC * subpos.x + cosABC * subpos.y) * sign(sinABC);","    float w = subpos.w * (1.0 - info.z * sign(sinABC));","    float maxDist;","    if (nearMode == 5)  maxDist = cosABC * w;","    else                maxDist = miterLimit * w;","    opacity = min(opacity, smoothstep(-antialiasing, antialiasing, maxDist + dist));","  }","  if ((farMode == 5 || farMode == 7) && subpos.z < antialiasing) {","    float dist = (sinBCD * subpos.z + cosBCD * subpos.y) * sign(sinBCD);","    float w = subpos.w * (1.0 - info.z * sign(sinBCD));","    float maxDist;","    if (farMode == 5)  maxDist = cosBCD * w;","    else               maxDist = miterLimit * w;","    opacity = min(opacity, smoothstep(-antialiasing, antialiasing, maxDist + dist));","  }","  if (nearMode == 6 && subpos.x <= 0.0) {","    float w = subpos.w * (1.0 - info.z * sign(sinABC));","    opacity = min(opacity, smoothstep(-antialiasing, antialiasing, w - sqrt(pow(subpos.x, 2.0) + pow(subpos.y, 2.0))));","  }","  if (farMode == 6 && subpos.z <= 0.0) {","    float w = subpos.w * (1.0 - info.z * sign(sinBCD));","    opacity = min(opacity, smoothstep(-antialiasing, antialiasing, w - sqrt(pow(subpos.z, 2.0) + pow(subpos.y, 2.0))));","  }","  if (antialiasing > 0.0) {","    if (subpos.y > subpos.w * (1.0 + info.z) - antialiasing) {","      opacity = min(opacity, smoothstep(antialiasing, -antialiasing, subpos.y - subpos.w * (1.0 + info.z)));","    }","    if (subpos.y < subpos.w * (-1.0 + info.z) + antialiasing) {","      opacity = min(opacity, smoothstep(-antialiasing, antialiasing, subpos.y - subpos.w * (-1.0 + info.z)));","    }","  }","  if (opacity == 0.0) {",t?"if (debug) {color.r=253.0/255.0;gl_FragColor=color;return;}":"","    discard;","  }","  color.a *= opacity;","  gl_FragColor = color;","}"].join("\n"),i=new e.shader(e.GL.FRAGMENT_SHADER);return i.setShaderSource(n),i}(void 0!==((t||{}).style||{}).debug),o=e.vertexAttribute("pos"),a=e.vertexAttribute("prev"),s=e.vertexAttribute("next"),l=e.vertexAttribute("far"),u=e.vertexAttribute("flags"),c=e.vertexAttribute("strokeWidth"),h=e.vertexAttribute("strokeColor"),p=e.vertexAttribute("strokeOpacity"),d=new e.modelViewUniform("modelViewMatrix"),f=new e.projectionUniform("projectionMatrix"),w=e.geometryData(),S=e.sourceDataP3fv({name:"pos"}),D=e.sourceDataAnyfv(3,e.vertexAttributeKeysIndexed.Four,{name:"prev"}),C=e.sourceDataAnyfv(3,e.vertexAttributeKeysIndexed.Five,{name:"next"}),F=e.sourceDataAnyfv(3,e.vertexAttributeKeysIndexed.Six,{name:"far"}),E=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.Seven,{name:"flags"}),P=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.One,{name:"strokeWidth"}),L=e.sourceDataAnyfv(3,e.vertexAttributeKeysIndexed.Two,{name:"strokeColor"}),R=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.Three,{name:"strokeOpacity"}),k=e.triangles();return y=new e.floatUniform("pixelWidth",1/O.renderer().width()),x=new e.floatUniform("aspect",O.renderer().width()/O.renderer().height()),_=new e.floatUniform("miterLimit",10),A=new e.floatUniform("antialiasing",0),b=new e.floatUniform("fixedFlags",0),T.call(O,t),m=e.material(),g=e.mapper({dynamicDraw:M}),n.addVertexAttribute(o,e.vertexAttributeKeys.Position),n.addVertexAttribute(c,e.vertexAttributeKeysIndexed.One),n.addVertexAttribute(h,e.vertexAttributeKeysIndexed.Two),n.addVertexAttribute(p,e.vertexAttributeKeysIndexed.Three),n.addVertexAttribute(a,e.vertexAttributeKeysIndexed.Four),n.addVertexAttribute(s,e.vertexAttributeKeysIndexed.Five),n.addVertexAttribute(l,e.vertexAttributeKeysIndexed.Six),n.addVertexAttribute(u,e.vertexAttributeKeysIndexed.Seven),n.addUniform(d),n.addUniform(f),n.addUniform(y),n.addUniform(x),n.addUniform(_),n.addUniform(A),n.addUniform(b),n.addShader(r),n.addShader(i),m.addAttribute(n),m.addAttribute(e.blend()),(v=e.actor()).setMaterial(m),v.setMapper(g),w.addSource(S),w.addSource(D),w.addSource(C),w.addSource(F),w.addSource(P),w.addSource(L),w.addSource(R),w.addSource(E),w.addPrimitive(k),g.setGeometryData(w),O},this.actors=function(){return v?[v]:[]},this._build=function(){return function(t){var e,n,o,f,v,m,y,x,S,M,T,D,C,F,E,P,L,R,k,I,N,G,j,V,z,B,U,H,q,X,W,Y,K,Q=O.data(),Z=0,J=[{},{}],$=J[1],tt=O.style.get("strokeWidth"),et=O.style.get("strokeColor"),nt=O.style.get("strokeOpacity"),it=O.style.get("lineCap"),rt=O.style.get("lineJoin"),ot=O.style.get("strokeOffset"),at=O.style.get("miterLimit")(Q),st=O.style.get("antialiasing")(Q)||0,lt=O.featureVertices(),ut=lt.length,ct=d[O.style.get("debug")(Q)?"debug":"normal"]||0,ht=g.geometryData(),pt=O.style.get("closed"),dt=[],ft=!0;if(K=r.isFunction(O.style("closed"))?void 0:pt()||!1,k=r.isFunction(O.style("lineCap"))?void 0:it()||"butt",I=r.isFunction(O.style("lineJoin"))?void 0:rt()||"miter",L=r.isFunction(O.style("strokeColor"))?void 0:et(),N=r.isFunction(O.style("strokeOffset"))?void 0:ot()||0,R=r.isFunction(O.style("strokeOpacity"))?void 0:nt(),P=r.isFunction(O.style("strokeWidth"))?void 0:tt(),void 0!==at&&_.set(Math.max(1,Math.min(a,at))),b.set(ct),A.set(st),t)Z=w.numSegments,dt=w.closed,S=w.lineItemList,x=Z*ut,ft=k!==w.lineCapVal||void 0===k||I!==w.lineJoinVal||void 0===I||N!==w.strokeOffsetVal||void 0===N;else{var vt=[],gt=O.position();for(S=new Array(Q.length),n=0;n<Q.length;n+=1)if(e=Q[n],M=O.line()(e,n),S[n]=M,!(M.length<2)){for(Z+=M.length-1,o=0;o<M.length;o+=1)D=gt(M[o],o,e,n),vt.push(D.x),vt.push(D.y),vt.push(D.z||0),o||(F=D);M.length>2&&(void 0===K?pt(e,n):K)&&(D.x!==F.x||D.y!==F.y||D.z!==F.z?(Z+=1,dt[n]=2):dt[n]=1)}vt=i.transformCoordinates(O.gcs(),O.layer().map().gcs(),vt,3),x=Z*ut,G=r.getGeomBuffer(ht,"pos",3*x),j=r.getGeomBuffer(ht,"prev",3*x),V=r.getGeomBuffer(ht,"next",3*x),z=r.getGeomBuffer(ht,"far",3*x),(U=ht.primitive(0).indices())instanceof Uint16Array&&U.length===x||(U=new Uint16Array(x),ht.primitive(0).setIndices(U)),w={numSegments:Z,closed:dt,lineItemList:S,lineCapVal:k,lineJoinVal:I,strokeOffsetVal:N}}for(B=r.getGeomBuffer(ht,"flags",x),H=r.getGeomBuffer(ht,"strokeWidth",x),q=r.getGeomBuffer(ht,"strokeColor",3*x),X=r.getGeomBuffer(ht,"strokeOpacity",x),n=C=W=Y=0;n<Q.length;n+=1)if(!((M=S[n]).length<2))for(e=Q[n],E=C,o=0;o<M.length+(2===dt[n]?1:0);o+=1,C+=3)if(y=o,o===M.length&&(y=0,C-=3),T=M[y],o&&($=J[0],J[0]=J[1],J[1]=$),t||($.pos=o===y?C:E,$.prev=y?C-3:dt[n]?E+3*(M.length-3+dt[n]):C,$.next=o+1<M.length?C+3:dt[n]?o!==y?E+3:E+6-3*dt[n]:C),$.strokeWidth=void 0===P?tt(T,y,e,n):P,$.strokeColor=void 0===L?et(T,y,e,n):L,$.strokeOpacity=void 0===R?nt(T,y,e,n):R,ft&&($.strokeOffset=(void 0===N?ot(T,y,e,n):N)||0,$.strokeOffset?($.posStrokeOffset=2047&Math.round(2048+1023*Math.min(1,Math.max(-1,$.strokeOffset))),$.negStrokeOffset=2047&Math.round(2048-1023*Math.min(1,Math.max(-1,$.strokeOffset)))):$.posStrokeOffset=$.negStrokeOffset=0,dt[n]||o&&o!==M.length-1?$.flags=u[void 0===I?rt(T,y,e,n):I]||u.miter:$.flags=l[void 0===k?it(T,y,e,n):k]||l.butt),o)for(f=0;f<ut;f+=1,W+=1,Y+=3)v=J[lt[f][0]],m=J[1-lt[f][0]],t||(G[Y]=vt[v.pos],G[Y+1]=vt[v.pos+1],G[Y+2]=0),lt[f][0]?(t||(j[Y]=vt[v.next],j[Y+1]=vt[v.next+1],j[Y+2]=0,V[Y]=vt[v.prev],V[Y+1]=vt[v.prev+1],V[Y+2]=0,z[Y]=vt[m.prev],z[Y+1]=vt[m.prev+1],z[Y+2]=0),ft&&(B[W]=s[lt[f][1]]|v.flags<<c|m.flags<<h|v.posStrokeOffset<<p)):(t||(j[Y]=vt[v.prev],j[Y+1]=vt[v.prev+1],j[Y+2]=0,V[Y]=vt[v.next],V[Y+1]=vt[v.next+1],V[Y+2]=0,z[Y]=vt[m.next],z[Y+1]=vt[m.next+1],z[Y+2]=0),ft&&(B[W]=s[lt[f][1]]|v.flags<<c|m.flags<<h|v.negStrokeOffset<<p)),H[W]=v.strokeWidth,q[Y]=v.strokeColor.r,q[Y+1]=v.strokeColor.g,q[Y+2]=v.strokeColor.b,X[W]=v.strokeOpacity;g.modified(),t||(ht.boundsDirty(!0),g.boundsDirtyTimestamp().modified())}(O.dataTime().getMTime()<O.buildTime().getMTime()&&w),O.renderer().contextRenderer().hasActor(v)||O.renderer().contextRenderer().addActor(v),O.buildTime().modified(),O},this._update=function(){return D.call(O),(O.dataTime().getMTime()>=O.buildTime().getMTime()||O.updateTime().getMTime()<=O.getMTime())&&O._build(),y.set(1/O.renderer().width()),x.set(O.renderer().width()/O.renderer().height()),v.setVisible(O.visible()),v.material().setBinNumber(O.bin()),O.updateTime().modified(),O},this._exit=function(){O.renderer().contextRenderer().removeActor(v),v=null,S()},this._init(t),this};i(f,o);var v={};v[o.capabilities.basic]=!0,v[o.capabilities.multicolor]=!0,r("vgl","line",f,v),t.exports=f},function(t,e,n){var i=n(2),r=n(0),o=n(1).registerFeature,a=n(33),s=function(t){"use strict";if(!(this instanceof s))return new s(t);t=t||{},a.call(this,t);var e=n(9),r=n(7),o=n(3);n(18).call(this);var l=this,u=this._exit,c=null,h=null,p=null,d=null,f=void 0!==t.dynamicDraw&&t.dynamicDraw,v="sprite",g=this._init,m=this._update,y=this.updateStyleFromArray,x=null,_=null;function A(t,e,n,i){var r;switch(v){case"triangle":r=[t,e-2*i,t-n*Math.sqrt(3),e+i,t+n*Math.sqrt(3),e+i];break;case"sprite":r=[t,e];break;default:r=[t-n,e+i,t-n,e-i,t+n,e+i,t-n,e-i,t+n,e-i,t+n,e+i]}return r}return"triangle"!==t.primitiveShape&&"square"!==t.primitiveShape&&"sprite"!==t.primitiveShape||(v=t.primitiveShape),x=["#ifdef GL_ES","  precision highp float;","#endif","attribute vec3 pos;","attribute float radius;","attribute vec3 fillColor;","attribute vec3 strokeColor;","attribute float fillOpacity;","attribute float strokeWidth;","attribute float strokeOpacity;","attribute float fill;","attribute float stroke;","uniform float pixelWidth;","uniform float aspect;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","varying vec4 fillColorVar;","varying vec4 strokeColorVar;","varying float radiusVar;","varying float strokeWidthVar;","varying float fillVar;","varying float strokeVar;"],"sprite"!==v&&(x=x.concat(["attribute vec2 unit;","varying vec3 unitVar;"])),x.push.apply(x,["void main(void)","{","  strokeWidthVar = strokeWidth;","  // No stroke or fill implies nothing to draw","  if (stroke < 1.0 || strokeWidth <= 0.0 || strokeOpacity <= 0.0) {","    strokeVar = 0.0;","    strokeWidthVar = 0.0;","  }","  else","    strokeVar = 1.0;","  if (fill < 1.0 || radius <= 0.0 || fillOpacity <= 0.0)","    fillVar = 0.0;","  else","    fillVar = 1.0;","  if (fillVar == 0.0 && strokeVar == 0.0) {","    gl_Position = vec4(2, 2, 0, 1);","    return;","  }","  fillColorVar = vec4 (fillColor, fillOpacity);","  strokeColorVar = vec4 (strokeColor, strokeOpacity);","  radiusVar = radius;"]),"sprite"===v?x.push.apply(x,["  gl_Position = (projectionMatrix * modelViewMatrix * vec4(pos, 1.0)).xyzw;","  gl_PointSize = 2.0 * (radius + strokeWidthVar); ","}"]):x.push.apply(x,["  unitVar = vec3 (unit, 1.0);","  vec4 p = (projectionMatrix * modelViewMatrix * vec4(pos, 1.0)).xyzw;","  if (p.w != 0.0) {","    p = p / p.w;","  }","  p += (radius + strokeWidthVar) * ","       vec4 (unit.x * pixelWidth, unit.y * pixelWidth * aspect, 0.0, 1.0);","  gl_Position = vec4(p.xyz, 1.0);","}"]),x=x.join("\n"),_=["#ifdef GL_ES","  precision highp float;","#endif","uniform float aspect;","varying vec4 fillColorVar;","varying vec4 strokeColorVar;","varying float radiusVar;","varying float strokeWidthVar;","varying float fillVar;","varying float strokeVar;"],"sprite"!==v&&_.push("varying vec3 unitVar;"),_.push.apply(_,["void main () {","  vec4 strokeColor, fillColor;","  float endStep;","  // No stroke or fill implies nothing to draw","  if (fillVar == 0.0 && strokeVar == 0.0)","    discard;"]),"sprite"===v?_.push("  float rad = 2.0 * length (gl_PointCoord - vec2(0.5));"):_.push("  float rad = length (unitVar.xy);"),_.push.apply(_,["  if (rad > 1.0)","    discard;","  // If there is no stroke, the fill region should transition to nothing","  if (strokeVar == 0.0) {","    strokeColor = vec4 (fillColorVar.rgb, 0.0);","    endStep = 1.0;","  } else {","    strokeColor = strokeColorVar;","    endStep = radiusVar / (radiusVar + strokeWidthVar);","  }","  // Likewise, if there is no fill, the stroke should transition to nothing","  if (fillVar == 0.0)","    fillColor = vec4 (strokeColor.rgb, 0.0);","  else","    fillColor = fillColorVar;","  // Distance to antialias over","  float antialiasDist = 3.0 / (2.0 * radiusVar);","  if (rad < endStep) {","    float step = smoothstep (endStep - antialiasDist, endStep, rad);","    gl_FragColor = mix (fillColor, strokeColor, step);","  } else {","    float step = smoothstep (1.0 - antialiasDist, 1.0, rad);","    gl_FragColor = mix (strokeColor, vec4 (strokeColor.rgb, 0.0), step);","  }","}"]),_=_.join("\n"),this.actors=function(){return c?[c]:[]},this.verticesPerFeature=function(){return A(0,0,1,1).length/2},this.updateStyleFromArray=function(t,e,n){var r,o,a={fill:"bool",fillColor:3,fillOpacity:1,radius:1,stroke:"bool",strokeColor:3,strokeOpacity:1,strokeWidth:1};if("string"==typeof t){var s={};s[t]=e,t=s}return i.each(t,function(t,e){var n,i,s,u,h,p,d,f,v;if(l.visible()&&c&&a[t]&&!r&&!l.clustering())if(v="bool"===a[t]?1:a[t],u=l.data().length,s=(i=c.mapper()).getSourceBuffer(t),n=l.verticesPerFeature(),s&&u&&u*n*v===s.length){switch(a[t]){case 1:for(p=0,f=0;p<u;p+=1)for(h=e[p],d=0;d<n;d+=1,f+=1)s[f]=h;break;case 3:for(p=0,f=0;p<u;p+=1)for(h=e[p],d=0;d<n;d+=1,f+=3)s[f]=h.r,s[f+1]=h.g,s[f+2]=h.b;break;case"bool":for(p=0,f=0;p<u;p+=1)for(h=e[p]?1:0,d=0;d<n;d+=1,f+=1)s[f]=h}i.updateSourceBuffer(t),o=!0}else r=!0;else r=!0;y(t,e,!1)}),l.visible()&&r?l.draw():o&&l.renderer()._render(),l},this._init=function(){var n=e.shaderProgram(),i=function(){var t=new e.shader(e.GL.VERTEX_SHADER);return t.setShaderSource(x),t}(),r=function(){var t=new e.shader(e.GL.FRAGMENT_SHADER);return t.setShaderSource(_),t}(),o=e.vertexAttribute("pos"),a=e.vertexAttribute("unit"),s=e.vertexAttribute("radius"),u=e.vertexAttribute("strokeWidth"),m=e.vertexAttribute("fillColor"),y=e.vertexAttribute("fill"),A=e.vertexAttribute("strokeColor"),b=e.vertexAttribute("stroke"),w=e.vertexAttribute("fillOpacity"),O=e.vertexAttribute("strokeOpacity"),S=new e.modelViewUniform("modelViewMatrix"),M=new e.projectionUniform("projectionMatrix"),T=e.material(),D=e.blend(),C=e.geometryData(),F=e.sourceDataP3fv({name:"pos"}),E=e.sourceDataAnyfv(2,e.vertexAttributeKeysIndexed.One,{name:"unit"}),P=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.Two,{name:"radius"}),L=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.Three,{name:"strokeWidth"}),R=e.sourceDataAnyfv(3,e.vertexAttributeKeysIndexed.Four,{name:"fillColor"}),k=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.Five,{name:"fill"}),I=e.sourceDataAnyfv(3,e.vertexAttributeKeysIndexed.Six,{name:"strokeColor"}),N=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.Seven,{name:"stroke"}),G=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.Eight,{name:"fillOpacity"}),j=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.Nine,{name:"strokeOpacity"}),V=new e.triangles;"sprite"===v&&(V=new e.points),p=new e.floatUniform("pixelWidth",2/l.renderer().width()),d=new e.floatUniform("aspect",l.renderer().width()/l.renderer().height()),g.call(l,t),h=e.mapper({dynamicDraw:f}),n.addVertexAttribute(o,e.vertexAttributeKeys.Position),"sprite"!==v&&n.addVertexAttribute(a,e.vertexAttributeKeysIndexed.One),n.addVertexAttribute(s,e.vertexAttributeKeysIndexed.Two),n.addVertexAttribute(u,e.vertexAttributeKeysIndexed.Three),n.addVertexAttribute(m,e.vertexAttributeKeysIndexed.Four),n.addVertexAttribute(y,e.vertexAttributeKeysIndexed.Five),n.addVertexAttribute(A,e.vertexAttributeKeysIndexed.Six),n.addVertexAttribute(b,e.vertexAttributeKeysIndexed.Seven),n.addVertexAttribute(w,e.vertexAttributeKeysIndexed.Eight),n.addVertexAttribute(O,e.vertexAttributeKeysIndexed.Nine),n.addUniform(p),n.addUniform(d),n.addUniform(S),n.addUniform(M),n.addShader(r),n.addShader(i),T.addAttribute(n),T.addAttribute(D),(c=e.actor()).setMaterial(T),c.setMapper(h),C.addSource(F),C.addSource(E),C.addSource(P),C.addSource(L),C.addSource(R),C.addSource(k),C.addSource(I),C.addSource(N),C.addSource(G),C.addSource(j),C.addPrimitive(V),h.setGeometryData(C)},this._build=function(){return c&&l.renderer().contextRenderer().removeActor(c),function(){var t,e,n,i,a,s,u,c,p,d,f,g,m,y,x,_,b,w,O,S,M,T,D,C,F,E,P,L,R,k,I,N,G,j,V,z,B,U=l.data().length,H=A(0,0,1,1),q=new Array(3*U),X=l.verticesPerFeature(),W=l.data(),Y=h.geometryData();for(a=l.position(),d=l.style.get("radius"),m=l.style.get("stroke"),_=l.style.get("strokeWidth"),O=l.style.get("strokeOpacity"),T=l.style.get("strokeColor"),F=l.style.get("fill"),L=l.style.get("fillOpacity"),I=l.style.get("fillColor"),t=z=0;t<U;t+=1,z+=3)i=a(W[t],t),q[z]=i.x,q[z+1]=i.y,q[z+2]=i.z||0,B=B||q[z+2];if(q=r.transformCoordinates(l.gcs(),l.layer().map().gcs(),q,3),!B&&l.gcs()!==l.layer().map().gcs())for(t=z=0;t<U;t+=1,z+=3)q[z+2]=0;for(n=o.getGeomBuffer(Y,"pos",X*U*3),"sprite"!==v&&(s=o.getGeomBuffer(Y,"unit",X*U*2)),c=o.getGeomBuffer(Y,"radius",X*U),f=o.getGeomBuffer(Y,"stroke",X*U),y=o.getGeomBuffer(Y,"strokeWidth",X*U),b=o.getGeomBuffer(Y,"strokeOpacity",X*U),S=o.getGeomBuffer(Y,"strokeColor",X*U*3),D=o.getGeomBuffer(Y,"fill",X*U),E=o.getGeomBuffer(Y,"fillOpacity",X*U),R=o.getGeomBuffer(Y,"fillColor",X*U*3),(u=Y.primitive(0).indices())instanceof Uint16Array&&u.length===X*U||(u=new Uint16Array(X*U),Y.primitive(0).setIndices(u)),t=G=j=V=z=0;t<U;t+=1,z+=3){if(N=W[t],"sprite"!==v)for(e=0;e<H.length;e+=1,V+=1)s[V]=H[e];for(p=d(N,t),g=m(N,t)?1:0,x=_(N,t),w=O(N,t),M=T(N,t),C=F(N,t)?1:0,P=L(N,t),k=I(N,t),e=0;e<X;e+=1,G+=1,j+=3)n[j]=q[z],n[j+1]=q[z+1],n[j+2]=q[z+2],c[G]=p,f[G]=g,y[G]=x,b[G]=w,S[j]=M.r,S[j+1]=M.g,S[j+2]=M.b,D[G]=C,E[G]=P,R[j]=k.r,R[j+1]=k.g,R[j+2]=k.b}Y.boundsDirty(!0),h.modified(),h.boundsDirtyTimestamp().modified()}(),l.renderer().contextRenderer().addActor(c),l.renderer().contextRenderer().render(),l.buildTime().modified(),l},this._update=function(){return m.call(l),(l.dataTime().getMTime()>=l.buildTime().getMTime()||l.updateTime().getMTime()<l.getMTime())&&l._build(),p.set(2/l.renderer().width()),d.set(l.renderer().width()/l.renderer().height()),c.setVisible(l.visible()),c.material().setBinNumber(l.bin()),l.updateTime().modified(),l},this._exit=function(){l.renderer().contextRenderer().removeActor(c),c=null,u()},l._init(),this};r(s,a),o("vgl","point",s),t.exports=s},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(49),a=function(t){"use strict";if(!(this instanceof a))return new a(t);t=t||{},o.call(this,t);var e=n(9),i=n(288),r=n(7),s=n(3);n(18).call(this);var l,u,c,h=this,p=this._exit,d=e.actor(),f=e.mapper(),v=e.material(),g=this._init,m=this._update;return this._init=function(t){var n=e.shaderProgram(),i=e.vertexAttribute("pos"),r=e.vertexAttribute("fillColor"),o=e.vertexAttribute("fillOpacity"),a=new e.modelViewUniform("modelViewMatrix"),s=new e.projectionUniform("projectionMatrix"),l=function(){var t=["attribute vec3 pos;","attribute vec3 fillColor;","attribute float fillOpacity;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","varying vec4 fillColorVar;","void main(void)","{","  vec4 clipPos = projectionMatrix * modelViewMatrix * vec4(pos.xyz, 1);","  if (clipPos.w != 0.0) {","    clipPos = clipPos/clipPos.w;","  }","  fillColorVar = vec4(fillColor, fillOpacity);","  gl_Position = clipPos;","}"].join("\n"),n=new e.shader(e.GL.VERTEX_SHADER);return n.setShaderSource(t),n}(),u=function(){var t=["#ifdef GL_ES","  precision highp float;","#endif","varying vec4 fillColorVar;","void main () {","  gl_FragColor = fillColorVar;","}"].join("\n"),n=new e.shader(e.GL.FRAGMENT_SHADER);return n.setShaderSource(t),n}(),c=e.blend(),p=e.geometryData(),m=e.sourceDataP3fv({name:"pos"}),y=e.sourceDataAnyfv(3,e.vertexAttributeKeysIndexed.Two,{name:"fillColor"}),x=e.sourceDataAnyfv(1,e.vertexAttributeKeysIndexed.Three,{name:"fillOpacity"}),_=e.triangles();n.addVertexAttribute(i,e.vertexAttributeKeys.Position),n.addVertexAttribute(r,e.vertexAttributeKeysIndexed.Two),n.addVertexAttribute(o,e.vertexAttributeKeysIndexed.Three),n.addUniform(a),n.addUniform(s),n.addShader(u),n.addShader(l),v.addAttribute(n),v.addAttribute(c),d.setMaterial(v),d.setMapper(f),p.addSource(m),p.addSource(y),p.addSource(x),p.addPrimitive(_),f.setGeometryData(p),g.call(h,t)},this._build=function(){!function(t){var e,n,o,a,u,c,p,d,v,g,m,y,x,_,A,b,w,O,S,M,T,D,C,F,E,P,L,R,k=[],I=h.gcs(),N=h.layer().map().gcs(),G=0,j=f.geometryData();for(u=h.style.get("fillColor"),c=s.isFunction(h.style("fillColor"))?void 0:u(),d=h.style.get("fillOpacity"),v=s.isFunction(h.style("fillOpacity"))?void 0:d(),g=h.style.get("fill"),m=s.isFunction(h.style("fill"))?void 0:g(),y=h.style.get("uniformPolygon"),t?(k=l.items,G=l.numPts):(n=h.style.get("position"),o=h.style.get("polygon"),h.data().forEach(function(t,e){var a,s,l,u;if((a=o(t,e))&&!((s=a.outer||(Array.isArray(a)?a:[])).length<3)){for(l=new Array(3*s.length),T=S=0;T<s.length;T+=1,S+=3)u=n(s[T],T,t,e),l[S]=u.x,l[S+1]=u.y,l[S+2]=u.z||0;l={vertices:l,dimensions:3,holes:[]},R=s,a.inner&&a.inner.forEach(function(i){if(!(i.length<3))for(R=R.concat(i),l.holes.push(S/3),T=0;T<i.length;T+=1,S+=3)u=n(i[T],T,t,e),l.vertices[S]=u.x,l.vertices[S+1]=u.y,l.vertices[S+2]=u.z||0}),l.vertices=r.transformCoordinates(I,N,l.vertices,l.dimensions),(E={triangles:i(l.vertices,l.holes,l.dimensions),vertices:l.vertices,original:R,item:t,itemIndex:e}).triangles.length&&(k.push(E),G+=E.triangles.length)}}),e=s.getGeomBuffer(j,"pos",3*G),(_=j.primitive(0).indices())instanceof Uint16Array&&_.length===G||(_=new Uint16Array(G),j.primitive(0).setIndices(_)),l={items:k,numPts:G}),a=s.getGeomBuffer(j,"fillColor",3*G),p=s.getGeomBuffer(j,"fillOpacity",G),O=S=0,A=c,w=m,C=0;C<k.length;C+=1)if(F=k[C].triangles.length,M=k[C].vertices,P=k[C].item,L=k[C].itemIndex,R=k[C].original,b=v,(x=y(P,L))&&(void 0===c&&(A=u(M[0],0,P,L)),void 0===v&&(b=d(M[0],0,P,L))),void 0===m&&(w=g(P,L)),w||(b=0),x&&t&&k[C].uniform&&k[C].color&&A.r===k[C].color.r&&A.g===k[C].color.g&&A.b===k[C].color.b&&b===k[C].opacity)O+=F,S+=3*F;else{for(T=0;T<F;T+=1,O+=1,S+=3)t&&x?(a[S]=A.r,a[S+1]=A.g,a[S+2]=A.b,p[O]=b):(D=3*k[C].triangles[T],t||(e[S]=M[D],e[S+1]=M[D+1],e[S+2]=M[D+2],_[O]=T),x||void 0!==c||(A=u(R[D],D,P,L)),a[S]=A.r,a[S+1]=A.g,a[S+2]=A.b,x||void 0!==v||(b=d(R[D],D,P,L)),p[O]=b);(x||k[C].uniform)&&(k[C].uniform=x,k[C].color=A,k[C].opacity=b)}f.modified(),t||(j.boundsDirty(!0),f.boundsDirtyTimestamp().modified())}(h.dataTime().getMTime()<h.buildTime().getMTime()&&l),h.renderer().contextRenderer().hasActor(d)||(h.renderer().contextRenderer().addActor(d),u=!0),h.buildTime().modified()},this._update=function(t){t&&t.mayDelay&&u?c=h.layer().map().scheduleAnimationFrame(h._update):(c&&(h.layer().map().scheduleAnimationFrame(h._update,"remove"),c=null),m.call(h),(h.dataTime().getMTime()>=h.buildTime().getMTime()||h.updateTime().getMTime()<=h.getMTime())&&h._build(),d.setVisible(h.visible()),d.material().setBinNumber(h.bin()),h.updateTime().modified())},this._exit=function(){h.renderer().contextRenderer().removeActor(d),p()},this._init(t),this};i(a,o),r("vgl","polygon",a),t.exports=a},function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i,s,l,u,c,d,v,g=e&&e.length,m=g?e[0]*n:t.length,y=r(t,0,m,n,!0),x=[];if(!y)return x;if(g&&(y=function(t,e,n,i){var a,s,l,u,c,d=[];for(a=0,s=e.length;a<s;a++)l=e[a]*i,u=a<s-1?e[a+1]*i:t.length,(c=r(t,l,u,i,!1))===c.next&&(c.steiner=!0),d.push(f(c));for(d.sort(h),a=0;a<d.length;a++)p(d[a],n),n=o(n,n.next);return n}(t,e,y,n)),t.length>80*n){i=l=t[0],s=u=t[1];for(var _=n;_<m;_+=n)c=t[_],d=t[_+1],c<i&&(i=c),d<s&&(s=d),c>l&&(l=c),d>u&&(u=d);v=0!==(v=Math.max(l-i,u-s))?1/v:0}return a(y,x,n,i,s,v),x}function r(t,e,n,i,r){var o,a;if(r===S(t,e,n,i)>0)for(o=e;o<n;o+=i)a=b(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=b(o,t[o],t[o+1],a);return a&&y(a,a.next)&&(w(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!y(i,i.next)&&0!==m(i.prev,i,i.next))i=i.next;else{if(w(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function a(t,e,n,i,r,h,p){if(t){!p&&h&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=d(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<u&&(s++,i=i.nextZ);e++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(a>1)}(r)}(t,i,r,h);for(var f,v,g=t;t.prev!==t.next;)if(f=t.prev,v=t.next,h?l(t,i,r,h):s(t))e.push(f.i/n),e.push(t.i/n),e.push(v.i/n),w(t),t=v.next,g=v.next;else if((t=v)===g){p?1===p?a(t=u(t,e,n),e,n,i,r,h,2):2===p&&c(t,e,n,i,r,h):a(o(t),e,n,i,r,h,1);break}}}function s(t){var e=t.prev,n=t,i=t.next;if(m(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(v(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&m(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function l(t,e,n,i){var r=t.prev,o=t,a=t.next;if(m(r,o,a)>=0)return!1;for(var s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,u=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,c=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,h=d(s,l,e,n,i),p=d(u,c,e,n,i),f=t.prevZ,g=t.nextZ;f&&f.z>=h&&g&&g.z<=p;){if(f!==t.prev&&f!==t.next&&v(r.x,r.y,o.x,o.y,a.x,a.y,f.x,f.y)&&m(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,g!==t.prev&&g!==t.next&&v(r.x,r.y,o.x,o.y,a.x,a.y,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;f&&f.z>=h;){if(f!==t.prev&&f!==t.next&&v(r.x,r.y,o.x,o.y,a.x,a.y,f.x,f.y)&&m(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;g&&g.z<=p;){if(g!==t.prev&&g!==t.next&&v(r.x,r.y,o.x,o.y,a.x,a.y,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function u(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!y(r,o)&&x(r,i,i.next,o)&&_(r,o)&&_(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),w(i),w(i.next),i=t=o),i=i.next}while(i!==t);return i}function c(t,e,n,i,r,s){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&g(l,u)){var c=A(l,u);return l=o(l,l.next),c=o(c,c.next),a(l,e,n,i,r,s),void a(c,e,n,i,r,s)}u=u.next}l=l.next}while(l!==t)}function h(t,e){return t.x-e.x}function p(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===a)return n.prev;var l,u=n,c=n.x,h=n.y,p=1/0;i=n.next;for(;i!==u;)r>=i.x&&i.x>=c&&r!==i.x&&v(o<h?r:a,o,c,h,o<h?a:r,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(r-i.x))<p||l===p&&i.x>n.x)&&_(i,t)&&(n=i,p=l),i=i.next;return n}(t,e)){var n=A(e,t);o(n,n.next)}}function d(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&x(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&_(t,e)&&_(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}function m(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,n,i){return!!(y(t,e)&&y(n,i)||y(t,i)&&y(n,e))||m(t,e,n)>0!=m(t,e,i)>0&&m(n,i,t)>0!=m(n,i,e)>0}function _(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function A(t,e){var n=new O(t.i,t.x,t.y),i=new O(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function b(t,e,n,i){var r=new O(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,n,i){for(var r=0,o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}t.exports=i,t.exports.default=i,i.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,a=Math.abs(S(t,0,o,n));if(r)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;a-=Math.abs(S(t,u,c,n))}var h=0;for(s=0;s<i.length;s+=3){var p=i[s]*n,d=i[s+1]*n,f=i[s+2]*n;h+=Math.abs((t[p]-t[f])*(t[d+1]-t[p+1])-(t[p]-t[d])*(t[f+1]-t[p+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},i.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[r][o][a]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(17),a=function(t){"use strict";if(!(this instanceof a))return new a(t);o.call(this,t);var e=n(2),i=n(9);n(18).call(this);var r,s,l,u,c,h,p,d=this,f=this._exit,v=this._init,g=this._update,m={},y=i.timestamp(),x=i.timestamp(),_=["varying highp vec2 iTextureCoord;","uniform sampler2D sampler2d;","uniform mediump float opacity;","uniform highp vec2 crop;","void main(void) {","  mediump vec4 color = texture2D(sampler2d, iTextureCoord);","  if ((crop.s < 1.0 && iTextureCoord.s > crop.s) || (crop.t < 1.0 && 1.0 - iTextureCoord.t > crop.t)) {","    discard;","  }","  color.w *= opacity;","  gl_FragColor = color;","}"].join("\n"),A=["attribute vec3 vertexPosition;","attribute vec2 textureCoord;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","varying highp vec2 iTextureCoord;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(vertexPosition, 1.0);","  iTextureCoord = textureCoord;","}"].join("\n"),b=["attribute vec3 vertexPosition;","uniform vec3 vertexColor;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","varying mediump vec3 iVertexColor;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(vertexPosition, 1.0);","  iVertexColor = vertexColor;","}"].join("\n");return this._build=function(){var t,e,n,o,a,f,v;d.position()&&((p=this._generateQuads()).imgQuads.length&&!s&&(d.visible(!1),t=new i.mapper({dynamicDraw:!0}),(s=new i.actor).setMapper(t),e=new i.material,(n=new i.shaderProgram).addVertexAttribute(new i.vertexAttribute("vertexPosition"),i.vertexAttributeKeys.Position),n.addVertexAttribute(new i.vertexAttribute("textureCoord"),i.vertexAttributeKeys.TextureCoordinate),r=new i.modelViewOriginUniform("modelViewMatrix",p.origin),n.addUniform(r),n.addUniform(new i.projectionUniform("projectionMatrix")),n.addUniform(new i.floatUniform("opacity",1)),(a=new i.uniform(i.GL.FLOAT_VEC2,"crop")).set([1,1]),n.addUniform(a),v=d.renderer()._glContext(),n.addShader(i.getCachedShader(i.GL.VERTEX_SHADER,v,A)),n.addShader(i.getCachedShader(i.GL.FRAGMENT_SHADER,v,_)),e.addAttribute(n),e.addAttribute(new i.blend),f=new i.geometryData,u=void 0,(o=new i.sourceDataT2fv).pushBack([0,0,1,0,0,1,1,1]),f.addSource(o),t.setGeometryData(f),s.setMaterial(e),t.s_render=t.render,t.render=d._renderImageQuads,d.renderer().contextRenderer().addActor(s),d.visible(!0)),p.clrQuads.length&&!l&&(d.visible(!1),t=new i.mapper({dynamicDraw:!0}),(l=new i.actor).setMapper(t),e=new i.material,(n=new i.shaderProgram).addVertexAttribute(new i.vertexAttribute("vertexPosition"),i.vertexAttributeKeys.Position),h=new i.modelViewOriginUniform("modelViewMatrix",p.origin),n.addUniform(h),n.addUniform(new i.projectionUniform("projectionMatrix")),n.addUniform(new i.floatUniform("opacity",1)),n.addUniform(new i.uniform(i.GL.FLOAT_VEC3,"vertexColor")),v=d.renderer()._glContext(),n.addShader(i.getCachedShader(i.GL.VERTEX_SHADER,v,b)),n.addShader(i.utils.createFragmentShader(v)),e.addAttribute(n),e.addAttribute(new i.blend),f=new i.geometryData,c=void 0,t.setGeometryData(f),l.setMaterial(e),t.s_render=t.render,t.render=d._renderColorQuads,d.renderer().contextRenderer().addActor(l),d.visible(!0)),r&&r.setOrigin(p.origin),h&&h.setOrigin(p.origin),d._updateTextures(),d.buildTime().modified())},this._updateTextures=function(){var t;e.each(p.imgQuads,function(e,n){n.image&&(n.image._texture?n.texture=n.image._texture:((t=new i.texture).setImage(n.image),n.texture=n.image._texture=t))})},this._renderColorQuads=function(t){if(p.clrQuads.length){(this.getMTime()>x.getMTime()||d.dataTime().getMTime()>x.getMTime()||t.m_contextChanged||!c||12*p.clrQuads.length>c.length)&&function(t){var n=t.m_context,r=!1;p.clrQuads.length&&((!c||c.length<12*p.clrQuads.length||!m.clrQuadsPosition)&&(m.clrQuadsPosition&&n.deleteBuffer(m.clrQuadsPosition),m.clrQuadsPosition=n.createBuffer(),c=new Float32Array(12*Math.max(128,2*p.clrQuads.length)),r=!0),e.each(p.clrQuads,function(t,e){for(var n=0;n<12;n+=1)c[12*t+n]=e.pos[n]-p.origin[n%3]}),n.bindBuffer(i.GL.ARRAY_BUFFER,m.clrQuadsPosition),r?n.bufferData(i.GL.ARRAY_BUFFER,c,i.GL.DYNAMIC_DRAW):n.bufferSubData(i.GL.ARRAY_BUFFER,0,c)),x.modified()}(t),this.s_render(t,!0);var n,r=t.m_context,o=1;r.bindBuffer(i.GL.ARRAY_BUFFER,m.clrQuadsPosition),e.each(p.clrQuads,function(e,a){a.opacity!==o&&(o=a.opacity,r.uniform1fv(t.m_material.shaderProgram().uniformLocation("opacity"),new Float32Array([o]))),n&&n.r===a.color.r&&n.g===a.color.g&&n.b===a.color.b||(n=a.color,r.uniform3fv(t.m_material.shaderProgram().uniformLocation("vertexColor"),new Float32Array([n.r,n.g,n.b]))),r.bindBuffer(i.GL.ARRAY_BUFFER,m.clrQuadsPosition),r.vertexAttribPointer(i.vertexAttributeKeys.Position,3,i.GL.FLOAT,!1,12,12*e*4),r.enableVertexAttribArray(i.vertexAttributeKeys.Position),r.drawArrays(i.GL.TRIANGLE_STRIP,0,4)}),r.bindBuffer(i.GL.ARRAY_BUFFER,null),this.undoBindVertexData(t)}},this._renderImageQuads=function(t){if(p.imgQuads.length){(this.getMTime()>y.getMTime()||d.dataTime().getMTime()>y.getMTime()||t.m_contextChanged||!u||12*p.imgQuads.length>u.length)&&function(t){var n=t.m_context,r=!1;p.imgQuads.length&&((!u||u.length<12*p.imgQuads.length||!m.imgQuadsPosition)&&(m.imgQuadsPosition&&n.deleteBuffer(m.imgQuadsPosition),m.imgQuadsPosition=n.createBuffer(),u=new Float32Array(12*Math.max(128,2*p.imgQuads.length)),r=!0),e.each(p.imgQuads,function(t,e){for(var n=0;n<12;n+=1)u[12*t+n]=e.pos[n]-p.origin[n%3]}),n.bindBuffer(i.GL.ARRAY_BUFFER,m.imgQuadsPosition),r?n.bufferData(i.GL.ARRAY_BUFFER,u,i.GL.DYNAMIC_DRAW):n.bufferSubData(i.GL.ARRAY_BUFFER,0,u)),y.modified()}(t),this.s_render(t,!0);var n,r=t.m_context,o=1,a={x:1,y:1};r.bindBuffer(i.GL.ARRAY_BUFFER,m.imgQuadsPosition),e.each(p.imgQuads,function(e,s){s.image&&(s.texture.bind(t),s.opacity!==o&&(o=s.opacity,r.uniform1fv(t.m_material.shaderProgram().uniformLocation("opacity"),new Float32Array([o]))),n=s.crop||{x:1,y:1},a&&n.x===a.x&&n.y===a.y||(a=n,r.uniform2fv(t.m_material.shaderProgram().uniformLocation("crop"),new Float32Array([a.x,a.y]))),r.bindBuffer(i.GL.ARRAY_BUFFER,m.imgQuadsPosition),r.vertexAttribPointer(i.vertexAttributeKeys.Position,3,i.GL.FLOAT,!1,12,12*e*4),r.enableVertexAttribArray(i.vertexAttributeKeys.Position),r.drawArrays(i.GL.TRIANGLE_STRIP,0,4),s.texture.undoBind(t))}),r.bindBuffer(i.GL.ARRAY_BUFFER,null),this.undoBindVertexData(t)}},this._update=function(){g.call(d),(d.buildTime().getMTime()<=d.dataTime().getMTime()||d.updateTime().getMTime()<d.getMTime())&&d._build(),l&&(l.setVisible(d.visible(void 0,!0)),l.material().setBinNumber(d.bin())),s&&(s.setVisible(d.visible(void 0,!0)),s.material().setBinNumber(d.bin())),d.updateTime().modified()},this._init=function(){v.call(d,t)},this._exit=function(){s&&(d.renderer().contextRenderer().removeActor(s),s=null),l&&(d.renderer().contextRenderer().removeActor(l),l=null),f.call(d)},d._init(t),this};i(a,o);var s={};s[o.capabilities.color]=!0,s[o.capabilities.image]=!0,s[o.capabilities.imageCrop]=!0,s[o.capabilities.imageFixedScale]=!1,s[o.capabilities.imageFull]=!0,s[o.capabilities.canvas]=!1,s[o.capabilities.video]=!1,r("vgl","quad",a,s),t.exports=a},function(t,e,n){var i=function(){"use strict";var t,e=this,n=this._init,i=this._exit,r=0,o=[];this._drawTile=function(n){if(t){var i=this._tileBounds(n),a=n.index.level||0,s=this._tileOffset(a),l=this.tileCropFromBounds(n),u={};l&&(u.crop={x:l.x/e._options.tileWidth,y:l.y/e._options.tileHeight}),u.ul=this.fromLocal(this.fromLevel({x:i.left-s.x,y:i.top-s.y},a),0),u.ll=this.fromLocal(this.fromLevel({x:i.left-s.x,y:i.bottom-s.y},a),0),u.ur=this.fromLocal(this.fromLevel({x:i.right-s.x,y:i.top-s.y},a),0),u.lr=this.fromLocal(this.fromLevel({x:i.right-s.x,y:i.bottom-s.y},a),0),u.ul.z=u.ll.z=u.ur.z=u.lr.z=1e-5*a,r+=1,u.id=r,n.quadId=u.id,u.image=n.image,o.push(u),t.data(o),t._update(),e.draw()}},this._remove=function(n){if(void 0!==n.quadId&&t){for(var i=0;i<o.length;i+=1)if(o[i].id===n.quadId){o.splice(i,1);break}t.data(o),t._update(),e.draw()}},this._exit=function(){e.deleteFeature(t),t=null,o=[],i.apply(e,arguments)},this._init=function(){n.apply(e,arguments),(t=this.createFeature("quad",{previewColor:e._options.previewColor,previewImage:e._options.previewImage})).geoTrigger=void 0,t.gcs(e._options.gcs||e.map().gcs()),t.data(o),t._update()},this._getSubLayer=function(){},this._updateSubLayers=void 0};(0,n(1).registerLayerAdjustment)("vgl","tile",i),t.exports=i},function(t,e,n){t.exports={canvasRenderer:n(292),heatmapFeature:n(293),isolineFeature:n(294),lineFeature:n(295),pixelmapFeature:n(296),quadFeature:n(297),textFeature:n(298),tileLayer:n(318)}},function(t,e,n){var i,r=n(0),o=n(1).registerRenderer,a=n(22),s=function(t){"use strict";var e=n(2);if(!(this instanceof s))return new s(t);t=t||{},a.call(this,t);var i=this,r=!0,o=this._init,l=this._exit;return this.clearCanvas=function(t){r=t},this.api=function(){return"canvas"},this._init=function(){if(i.initialized())return i;o.call(i);var t=e(document.createElement("canvas"));i.context2d=t[0].getContext("2d"),t.addClass("canvas-canvas"),e(i.layer().node().get(0)).append(t),i.canvas(t);var n=i.layer().map().size();return i._resize(0,0,n.width,n.height),i},this._resize=function(t,e,n,r){var o=i.canvas();return parseInt(o.attr("width"),10)===n&&parseInt(o.attr("height"),10)===r||(o.attr("width",n),o.attr("height",r),i._render()),i},this._render=function(){return i.layer().map().scheduleAnimationFrame(this._renderFrame),i},this._renderFrame=function(){var t,e=i.layer(),n=e.map(),o=n.camera()._viewport,a=e.features();for(t=0;t<a.length;t+=1)if(a[t]._delayRender())return void i._render();for(r&&(i.context2d.setTransform(1,0,0,1,0,0),i.context2d.clearRect(0,0,o.width,o.height)),t=0;t<a.length;t+=1)a[t].visible()&&a[t]._renderOnCanvas(i.context2d,n)},this._exit=function(){i.canvas().remove(),l()},this};r(s,a),o("canvas",s),s.supported=function(){if(void 0===i){var t;try{t=document.createElement("canvas"),i=!(!t.getContext||!t.getContext("2d"))}catch(t){i=!1}t=void 0}return i},s.fallback=function(){return null},t.exports=s},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(122),a=n(10),s=n(3),l=function(t){"use strict";if(!(this instanceof l))return new l(t);o.call(this,t),n(19).call(this);var e,i,r,u,c,h=n(6),p=this,d=this._init,f=this._update,v=a();return this._computeGradient=function(){var t,e,n,i,r;if(r=p.style("color"),!p._grad||p._gradColors!==r){for(e in i=(n=(t=document.createElement("canvas")).getContext("2d")).createLinearGradient(0,0,0,256),t.width=1,t.height=256,r)i.addColorStop(e,s.convertColorToRGBA(r[e]));n.fillStyle=i,n.fillRect(0,0,1,256),p._grad=n.getImageData(0,0,1,256).data,p._gradColors=r}return p},this._createCircle=function(){var t,e,n,i,r,o;if(n=p.style("radius"),r=p.style("blurRadius"),o=p.style("gaussian"),!p._circle||p._circle.gaussian!==o||p._circle.radius!==n||p._circle.blurRadius!==r){if(e=(t=p._circle=document.createElement("canvas")).getContext("2d"),i=r+n,t.width=t.height=2*i,o){var a=e.createRadialGradient(i,i,0,i,i,i);a.addColorStop(0,"rgba(255,255,255,1)"),a.addColorStop(.1,"rgba(255,255,255,0.946)"),a.addColorStop(.2,"rgba(255,255,255,0.801)"),a.addColorStop(.3,"rgba(255,255,255,0.607)"),a.addColorStop(.4,"rgba(255,255,255,0.411)"),a.addColorStop(.5,"rgba(255,255,255,0.249)"),a.addColorStop(.6,"rgba(255,255,255,0.135)"),a.addColorStop(.7,"rgba(255,255,255,0.066)"),a.addColorStop(.8,"rgba(255,255,255,0.029)"),a.addColorStop(.9,"rgba(255,255,255,0.011)"),a.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=a,e.fillRect(0,0,2*i,2*i)}else e.shadowOffsetX=e.shadowOffsetY=2*i,e.shadowBlur=r,e.shadowColor="black",e.beginPath(),e.arc(-i,-i,n,0,2*Math.PI,!0),e.closePath(),e.fill();t.radius=n,t.blurRadius=r,t.gaussian=o,p._circle=t}return p},this._colorize=function(t,n){var o,a,s,l=new Uint32Array(n.buffer),u=t.length;for(e&&e.length===u||(e=new ArrayBuffer(u),i=new Uint8ClampedArray(e),r=new Uint32Array(e)),o=3,s=0;o<u;o+=4,s+=1)(a=t[o])&&(r[s]=l[a]);t.set(i)},this._renderPoints=function(t,e,n,i){var r,o,a,s=p.gcsPosition(),l=p.intensity(),u=p.minIntensity(),c=p.maxIntensity()-u||1;for(r=n.length-1;r>=0;r-=1)o=e.worldToDisplay(s[r]),(a=(l(n[r],r)-u)/c)<=0||(t.globalAlpha=a<.01?.01:a>1?1:a,t.drawImage(p._circle,o.x-i,o.y-i))},this._renderBinnedData=function(t,e,n,i,r){var o,a,s,l,u,c,h,d,f=p.gcsPosition(),v=p.intensity(),g=p.minIntensity(),m=p.maxIntensity()-g||1,y=e.camera()._viewport,x=[],_=Math.ceil(i/r),A=Math.ceil(y.width/r)+2*_+2,b=Math.ceil(y.height/r)+2*_+2,w=n.length;for(o=0;o<w;o+=1)a=e.worldToDisplay(f[o]),isNaN(a.x)||isNaN(a.y)||(void 0===h&&(h=(a.x%r+r)%r,d=(a.y%r+r)%r),(l=Math.floor((a.x-h)/r)+_+1)<0||l>=A||(u=Math.floor((a.y-d)/r)+_+1)<0||u>=b||(s=(v(n[o],o)-g)/m)<=0||(s>1&&(s=1),x[u]=x[u]||[],l*=4,(c=x[u])[l]?(c[l]+=s,c[l+1]+=(1-c[l+1])*s,c[l+2]+=a.x*s,c[l+3]+=a.y*s):(c[l]=c[l+1]=s,c[l+2]=a.x*s,c[l+3]=a.y*s)));for(u=x.length-1;u>=0;u-=1)if(c=x[u])for(l=c.length-4;l>=0;l-=4)c[l]&&(s=c[l+1],t.globalAlpha=s<.01?.01:s>1?1:s,t.drawImage(p._circle,c[l+2]/c[l]-i,c[l+3]/c[l]-i))},this._renderOnCanvas=function(t,e){if(v.getMTime()<p.buildTime().getMTime()){var n,i,r=p.data()||[],o=p.style("radius")+p.style("blurRadius"),a=p.binned(),s=p.layer(),l=e.camera()._viewport;if(!0===a||"auto"===a)if(a=Math.max(Math.floor(o/8),3),"auto"===p.binned())Math.ceil((l.width+2*o)/a)*Math.ceil((l.height+2*o)/a)>=r.length&&(a=0);(a<1||isNaN(a))&&(a=!1),p._binned=a,t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,l.width,l.height),c="",e.scheduleAnimationFrame(p._setTransform,!1),s.canvas().css({transform:""}),p._createCircle(),p._computeGradient(),a?p._renderBinnedData(t,e,r,o,a):p._renderPoints(t,e,r,o),n=s.canvas()[0],i=t.getImageData(0,0,n.width,n.height),p._colorize(i.data,p._grad),t.putImageData(i,0,0),u={zoom:e.zoom(),gcsOrigin:e.displayToGcs({x:0,y:0},null),rotation:e.rotation(),lastScale:void 0,lastOrigin:{x:0,y:0},lastRotation:void 0},v.modified(),s.renderer().clearCanvas(!1)}return p},this._init=function(){return d.call(p,t),p.geoOn(h.pan,p._animatePan),p},this._update=function(){return f.call(p),(p.buildTime().getMTime()<=p.dataTime().getMTime()||p.updateTime().getMTime()<p.getMTime())&&p._build(),p.updateTime().modified(),p},this._setTransform=function(){p.layer()&&p.layer().canvas()&&p.layer().canvas()[0]&&(p.layer().canvas()[0].style.transform=c)},this._animatePan=function(){if(u){var t=p.layer().map(),e=t.zoom(),n=Math.pow(2,e-u.zoom),i=t.gcsToDisplay(u.gcsOrigin,null),r=t.rotation();if(u.lastScale!==n||u.lastOrigin.x!==i.x||u.lastOrigin.y!==i.y||u.lastRotation!==r){var o=" translate("+i.x+"px,"+i.y+"px) scale("+n+") rotate("+180*(r-u.rotation)/Math.PI+"deg)";t.scheduleAnimationFrame(p._setTransform),c=o,u.lastScale=n,u.lastOrigin.x=i.x,u.lastOrigin.y=i.y,u.lastRotation=r,u.timeout&&(window.clearTimeout(u.timeout),u.timeout=void 0),1===parseFloat(n.toFixed(4))&&0===parseFloat((r-u.rotation).toFixed(4))&&0===parseFloat(i.x.toFixed(1))&&0===parseFloat(i.y.toFixed(1))||(u.timeout=window.setTimeout(function(){u.timeout=void 0,p.buildTime().modified(),p.layer().draw()},p.updateDelay()))}}},p._init(t),this};i(l,o),r("canvas","heatmap",l),t.exports=l},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(54),a=function(t){"use strict";return this instanceof a?(t=t||{},o.call(this,t),n(19).call(this),this._init(t),this):new a(t)};i(a,o),r("canvas","isoline",a),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(23),a=function(t){"use strict";if(!(this instanceof a))return new a(t);var e=n(19);t=t||{},o.call(this,t),e.call(this);var i=this;return this._renderOnCanvas=function(t,e){var n,r,o,a,s,l=i.data(),u=i.position(),c=i.line(),h=i.style.get("strokeWidth"),p=i.style.get("strokeColor"),d=i.style.get("strokeOpacity"),f=i.style.get("lineCap"),v=i.style.get("lineJoin"),g=i.style.get("miterLimit")(l),m=i.style.get("closed"),y={},x={};l.forEach(function(e,l){if(!((r=c(e,l)).length<2)){for(x.closed=m(e,l),x.width=h(r[0],0,e,l),x.color=p(r[0],0,e,l),x.opacity=d(r[0],0,e,l),x.linecap=f(r[0],0,e,l),x.linejoin=v(r[0],0,e,l),x.strokeStyle="rgba("+255*x.color.g+", "+255*x.color.g+", "+255*x.color.b+", "+(void 0!==x.opacity?x.opacity:1)+")",y.strokeStyle===x.strokeStyle&&y.width===x.width&&y.linecap===x.linecap&&y.linejoin===x.linejoin&&y.miterlimit===x.miterlimit||(void 0!==y.strokeStyle&&t.stroke(),t.beginPath(),t.strokeStyle=x.strokeStyle,t.lineWidth=x.width,t.lineCap=x.linecap,t.lineJoin=x.linejoin,t.miterLimit=g),s=0;s<r.length;s+=1)o=i.featureGcsToDisplay(u(r[s],s,e,l)),s?t.lineTo(o.x,o.y):(a=o,t.moveTo(o.x,o.y));x.closed&&t.lineTo(a.x,a.y),n=y,y=x,x=n}}),void 0!==y.strokeStyle&&t.stroke()},this._init(t),this};i(a,o);var s={};s[o.capabilities.basic]=!0,s[o.capabilities.multicolor]=!1,r("canvas","line",a,s),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(128),a=function(t){"use strict";return this instanceof a?(o.call(this,t),n(19).call(this),this._init(t),this):new a(t)};i(a,o),r("canvas","pixelmap",a),t.exports=a},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(17),a=n(3),s=function(t){"use strict";if(!(this instanceof s))return new s(t);o.call(this,t),n(19).call(this);var e,i=n(2),r=this,l=this._exit,u=this._init,c=this._update;return this._build=function(){r.position()&&((e=this._generateQuads()).imgQuads&&e.imgQuads.sort(function(t,e){return t.pos[2]-e.pos[2]}),r.buildTime().modified())},this._checkQuadUpdate=function(t,e){r.layer().map().scheduleAnimationFrame(r._checkIfChanged)},this._checkIfChanged=function(){if(e&&e.vidQuads&&e.vidQuads.length){var t=!1,n=!1;i.each(e.vidQuads,function(e,i){i.video&&void 0!==i.video.HAVE_CURRENT_DATA&&(!i.video.seeking&&i.video.readyState>=i.video.HAVE_CURRENT_DATA&&(t=!0),i.video.paused&&!i.video.seeking||(n=!0))}),t&&r.renderer()._render(),n&&r.layer().map().scheduleAnimationFrame(r._checkIfChanged)}},this._renderColorQuads=function(t,n){if(e.clrQuads&&e.clrQuads.length){var r=t.globalAlpha,o=r;i.each(e.clrQuads,function(e,i){var r=n.gcsToDisplay({x:i.pos[0],y:i.pos[1]},null),s=n.gcsToDisplay({x:i.pos[3],y:i.pos[4]},null),l=n.gcsToDisplay({x:i.pos[6],y:i.pos[7]},null),u=n.gcsToDisplay({x:i.pos[9],y:i.pos[10]},null);i.opacity!==o&&(o=i.opacity,t.globalAlpha=o),t.fillStyle=a.convertColorToHex(i.color,!0),t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(s.x,s.y),t.lineTo(u.x,u.y),t.lineTo(l.x,l.y),t.closePath(),t.fill()}),o!==r&&(t.globalAlpha=r)}},this._renderImageAndVideoQuads=function(t,n){if(e.imgQuads&&e.imgQuads.length||e.vidQuads&&e.vidQuads.length){var r=t.globalAlpha,o=r;i.each([e.imgQuads,e.vidQuads],function(e,r){r&&i.each(r,function(e,i){var r,a,s;if(i.image)a=(r=i.image).width,s=r.height;else if(i.video&&(a=(r=i.video).videoWidth,s=r.videoHeight,r.seeking))return;if(r&&a&&s&&!(i.opacity<=0)){var l=n.gcsToDisplay({x:i.pos[0],y:i.pos[1]},null),u=n.gcsToDisplay({x:i.pos[6],y:i.pos[7]},null),c=n.gcsToDisplay({x:i.pos[9],y:i.pos[10]},null);t.setTransform((c.x-u.x)/a,(c.y-u.y)/a,(l.x-u.x)/s,(l.y-u.y)/s,u.x,u.y),i.opacity!==o&&(o=i.opacity,t.globalAlpha=o),i.crop?t.drawImage(r,0,0,i.crop.x,i.crop.y,0,0,i.crop.x,i.crop.y):t.drawImage(r,0,0)}})}),o!==r&&(t.globalAlpha=r),t.setTransform(1,0,0,1,0,0)}},this._delayRender=function(){var t=!1;return e&&e.vidQuads&&e.vidQuads.length&&i.each(e.vidQuads,function(e,n){n.video&&void 0!==n.video.HAVE_CURRENT_DATA&&(t|=n.video.seeking&&n.delayRenderWhenSeeking)}),t},this._renderOnCanvas=function(t,n){e&&(this._renderImageAndVideoQuads(t,n),this._renderColorQuads(t,n))},this._update=function(){c.call(r),(r.buildTime().getMTime()<=r.dataTime().getMTime()||r.updateTime().getMTime()<r.getMTime())&&r._build(),r.updateTime().modified(),r.layer().map().scheduleAnimationFrame(r._checkIfChanged)},this._init=function(){u.call(r,t)},this._exit=function(){l.call(r)},r._init(t),this};i(s,o);var l={};l[o.capabilities.color]=!0,l[o.capabilities.image]=!0,l[o.capabilities.imageCrop]=!0,l[o.capabilities.imageFixedScale]=!0,l[o.capabilities.imageFull]=!1,l[o.capabilities.canvas]=!0,l[o.capabilities.video]=!0,r("canvas","quad",s,l),t.exports=s},function(t,e,n){var i=n(0),r=n(1).registerFeature,o=n(25),a=n(3),s=n(299),l=n(99),u=function(t){"use strict";if(!(this instanceof u))return new u(t);var e=n(19);t=t||{},o.call(this,t),e.call(this);var i=this,r=new RegExp('^\\s*(?=(?:(?:[-a-z0-9]+\\s+){0,3}(italic|oblique))?)(?=(?:(?:[-a-z0-9]+\\s+){0,3}(small-caps))?)(?=(?:(?:[-a-z0-9]+\\s+){0,3}(bold(?:er)?|lighter|[1-9]00))?)(?=(?:(?:[-a-z0-9]+\\s+){0,3}((?:ultra-|extra-|semi-)?(?:condensed|expanded)))?)(?:(?:normal|\\1|\\2|\\3|\\4)\\s+){0,4}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:/(normal|[.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])))?\\s+([-,\\"\\sa-z]+?)\\s*$',"i");return this.getFontFromStyles=function(t,e,n){var o=i.style.get("font")(e,n)||"bold 16px sans-serif";if(t){var a=r.exec(o);null===a&&(a=r.exec("bold 16px sans-serif")),a[1]=i.style.get("fontStyle")(e,n)||a[1],a[2]=i.style.get("fontVariant")(e,n)||a[2],a[3]=i.style.get("fontWeight")(e,n)||a[3],a[4]=i.style.get("fontStretch")(e,n)||a[4],a[5]=i.style.get("fontSize")(e,n)||a[5]||"16px",a[6]=i.style.get("lineHeight")(e,n)||a[6],a[7]=i.style.get("fontFamily")(e,n)||a[7]||"sans-serif",o=(o=(a[1]||"")+" "+(a[2]||"")+" "+(a[3]||"")+" "+(a[4]||"")+" "+(a[5]||"")+(a[6]?"/"+a[6]:"")+" "+a[7]).trim().replace(/\s\s+/g," ")}return o},this._renderOnCanvas=function(t,e){var n,r,o,u,c,h,p,d,f,v,g,m,y,x,_=i.data(),A=i.style.get("position"),b=i.style.get("renderThreshold")(_),w=i.style.get("text"),O=e.rotation(),S=e.zoom(),M=e.size(),T=a.mat3AsArray();n=["fontStyle","fontVariant","fontWeight","fontStretch","fontSize","lineHeight","fontFamily"].some(function(t){return null!==i.style(t)&&void 0!==i.style(t)}),i._canvasProperty(),o=i.featureGcsToDisplay(_.map(A)),_.forEach(function(e,_){u=o[_],b>0&&(u.x<-b||u.x>M.width+b||u.y<-b||u.y>M.height+b)||((c=i.style.get("visible")(e,_))||void 0===c)&&(h=a.convertColorAndOpacity(i.style.get("color")(e,_),i.style.get("textOpacity")(e,_)),d=a.convertColorAndOpacity(i.style.get("textStrokeColor")(e,_),i.style.get("textOpacity")(e,_),{r:0,g:0,b:0,a:0}),0===h.a&&0===d.a||(i._canvasProperty(t,"fillStyle",a.convertColorToRGBA(h)),r=w(e,_),i._canvasProperty(t,"font",i.getFontFromStyles(n,e,_)),i._canvasProperty(t,"textAlign",i.style.get("textAlign")(e,_)||"center"),i._canvasProperty(t,"textBaseline",i.style.get("textBaseline")(e,_)||"middle"),v=i.style.get("rotation")(e,_)||0,g=i.style.get("rotateWithMap")(e,_)&&O,m=i.style.get("textScaled")(e,_),m=a.isNonNullFinite(m)?Math.pow(2,S-m):null,y=i.style.get("offset")(e,_),x=a.mat3AsArray(),(v||g||m&&1!==m||y&&(y.x||y.y))&&(s.translate(x,x,[u.x,u.y]),g&&O&&s.rotate(x,x,O),s.translate(x,x,[y&&y.x?+y.x:0,y&&y.y?+y.y:0]),v&&s.rotate(x,x,v),m&&1!==m&&s.scale(x,x,[m,m]),s.translate(x,x,[-u.x,-u.y])),T[0]===x[0]&&T[1]===x[1]&&T[3]===x[3]&&T[4]===x[4]&&T[6]===x[6]&&T[7]===x[7]||(t.setTransform(x[0],x[1],x[3],x[4],x[6],x[7]),s.copy(T,x)),(h=a.convertColorAndOpacity(i.style.get("shadowColor")(e,_),void 0,{r:0,g:0,b:0,a:0})).a&&(y=i.style.get("shadowOffset")(e,_),p=i.style.get("shadowBlur")(e,_)),h.a&&(y&&(y.x||y.y)||p)?(i._canvasProperty(t,"shadowColor",a.convertColorToRGBA(h)),y&&(v||g)&&i.style.get("shadowRotate")(e,_)&&(x=[+y.x,+y.y,0],l.rotateZ(x,x,[0,0,0],v+(g?O:0)),y={x:x[0],y:x[1]}),i._canvasProperty(t,"shadowOffsetX",y&&y.x?+y.x:0),i._canvasProperty(t,"shadowOffsetY",y&&y.y?+y.y:0),i._canvasProperty(t,"shadowBlur",p||0)):i._canvasProperty(t,"shadowColor","rgba(0,0,0,0)"),d.a&&(f=i.style.get("textStrokeWidth")(e,_),isFinite(f)&&f>0&&(i._canvasProperty(t,"strokeStyle",a.convertColorToRGBA(d)),i._canvasProperty(t,"lineWidth",f),t.strokeText(r,u.x,u.y),i._canvasProperty(t,"shadowColor","rgba(0,0,0,0)"))),t.fillText(r,u.x,u.y)))}),i._canvasProperty(t,"globalAlpha",1),t.setTransform(1,0,0,1,0,0)},this};i(u,o);r("canvas","text",u,{}),t.exports=u},function(t,e,n){t.exports={adjoint:n(300),clone:n(301),copy:n(302),create:n(303),determinant:n(304),frob:n(305),fromMat2:n(306),fromMat4:n(307),fromQuat:n(308),identity:n(309),invert:n(310),multiply:n(311),normalFromMat4:n(312),rotate:n(313),scale:n(314),str:n(315),translate:n(316),transpose:n(317)}},function(t,e){t.exports=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=r*u-i*c,t[2]=i*s-r*a,t[3]=s*l-o*c,t[4]=n*c-r*l,t[5]=r*o-n*s,t[6]=o*u-a*l,t[7]=i*l-n*u,t[8]=n*a-i*o,t}},function(t,e){t.exports=function(t){var e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}},function(t,e){t.exports=function(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*o-a*l)+n*(a*s-u*r)+i*(l*r-o*s)}},function(t,e){t.exports=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8])}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}},function(t,e){t.exports=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,l=r+r,u=n*a,c=i*a,h=i*s,p=r*a,d=r*s,f=r*l,v=o*a,g=o*s,m=o*l;return t[0]=1-h-f,t[3]=c-m,t[6]=p+g,t[1]=c+m,t[4]=1-u-f,t[7]=d-v,t[2]=p-g,t[5]=d+v,t[8]=1-u-h,t}},function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}},function(t,e){t.exports=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=c*a-s*u,p=-c*o+s*l,d=u*o-a*l,f=n*h+i*p+r*d;return f?(f=1/f,t[0]=h*f,t[1]=(-c*i+r*u)*f,t[2]=(s*i-r*a)*f,t[3]=p*f,t[4]=(c*n-r*l)*f,t[5]=(-s*n+r*o)*f,t[6]=d*f,t[7]=(-u*n+i*l)*f,t[8]=(a*n-i*o)*f,t):null}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=n[0],d=n[1],f=n[2],v=n[3],g=n[4],m=n[5],y=n[6],x=n[7],_=n[8];return t[0]=p*i+d*a+f*u,t[1]=p*r+d*s+f*c,t[2]=p*o+d*l+f*h,t[3]=v*i+g*a+m*u,t[4]=v*r+g*s+m*c,t[5]=v*o+g*l+m*h,t[6]=y*i+x*a+_*u,t[7]=y*r+x*s+_*c,t[8]=y*o+x*l+_*h,t}},function(t,e){t.exports=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],d=e[11],f=e[12],v=e[13],g=e[14],m=e[15],y=n*s-i*a,x=n*l-r*a,_=n*u-o*a,A=i*l-r*s,b=i*u-o*s,w=r*u-o*l,O=c*v-h*f,S=c*g-p*f,M=c*m-d*f,T=h*g-p*v,D=h*m-d*v,C=p*m-d*g,F=y*C-x*D+_*T+A*M-b*S+w*O;return F?(F=1/F,t[0]=(s*C-l*D+u*T)*F,t[1]=(l*M-a*C-u*S)*F,t[2]=(a*D-s*M+u*O)*F,t[3]=(r*D-i*C-o*T)*F,t[4]=(n*C-r*M+o*S)*F,t[5]=(i*M-n*D-o*O)*F,t[6]=(v*w-g*b+m*A)*F,t[7]=(g*_-f*w-m*x)*F,t[8]=(f*b-v*_+m*y)*F,t):null}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=Math.sin(n),d=Math.cos(n);return t[0]=d*i+p*a,t[1]=d*r+p*s,t[2]=d*o+p*l,t[3]=d*a-p*i,t[4]=d*s-p*r,t[5]=d*l-p*o,t[6]=u,t[7]=c,t[8]=h,t}},function(t,e){t.exports=function(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}},function(t,e){t.exports=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}},function(t,e){t.exports=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=n[0],d=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=p*i+d*a+u,t[7]=p*r+d*s+c,t[8]=p*o+d*l+h,t}},function(t,e){t.exports=function(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}},function(t,e,n){var i=function(){"use strict";var t,e=this,n=this._init,i=this._exit,r=0,o=[];this._drawTile=function(n){if(t){var i=this._tileBounds(n),a=n.index.level||0,s=this._tileOffset(a),l=this.tileCropFromBounds(n),u={};l&&(u.crop=l),u.ul=this.fromLocal(this.fromLevel({x:i.left-s.x,y:i.top-s.y},a),0),u.ll=this.fromLocal(this.fromLevel({x:i.left-s.x,y:i.bottom-s.y},a),0),u.ur=this.fromLocal(this.fromLevel({x:i.right-s.x,y:i.top-s.y},a),0),u.lr=this.fromLocal(this.fromLevel({x:i.right-s.x,y:i.bottom-s.y},a),0),u.ul.z=u.ll.z=u.ur.z=u.lr.z=1e-5*a,r+=1,u.id=r,n.quadId=u.id,u.image=n.image,o.push(u),t.data(o),t._update(),e.draw()}},this._remove=function(n){if(void 0!==n.quadId&&t){for(var i=0;i<o.length;i+=1)if(o[i].id===n.quadId){o.splice(i,1);break}t.data(o),t._update(),e.draw()}},this._exit=function(){e.deleteFeature(t),t=null,o=[],i.apply(e,arguments)},this._init=function(){n.apply(e,arguments),(t=this.createFeature("quad",{previewColor:e._options.previewColor,previewImage:e._options.previewImage})).geoTrigger=void 0,t.gcs(e._options.gcs||e.map().gcs()),t.data(o),t._update()},this._getSubLayer=function(){},this._updateSubLayers=void 0};(0,n(1).registerLayerAdjustment)("canvas","tile",i),t.exports=i},function(t,e,n){t.exports={colorLegendWidget:n(320),domWidget:n(130),legendWidget:n(323),scaleWidget:n(324),sliderWidget:n(327),svgWidget:n(35),uiLayer:n(124),widget:n(55)}},function(t,e,n){var i=n(11).d3,r=n(130),o=n(0),a=n(1).registerWidget,s=n(3),l=n(51);n(321);var u=function(t){"use strict";if(!(this instanceof u))return new u(t);r.call(this,t);var e=this,n=[],o=t.width||300,a=t.ticks||6,h=this._init;return this._init=function(){h();var n=e.canvas();i.select(n).attr("class","color-legend-container"),e.popup=i.select(n).append("div").attr("class","color-legend-popup"),t.categories&&this.categories(t.categories)},this._draw=function(){if(i.select(e.canvas()).selectAll("div.legends").remove(),n.length){i.select(e.canvas()).style("display","block");var t=i.select(e.canvas()).append("div").attr("class","legends"),r=o;n.forEach(function(n,i){var o=t.append("div").attr("class","legend");o.append("div").attr("class","title").text(n.name);var a=o.append("svg").attr({class:"svg",width:r,height:"40px",viewBox:"-20 0 "+r+" 40"});"discrete"===n.type?e._drawDiscrete(a,r-40,n):"continuous"===n.type&&e._drawContinous(a,r-40,n)})}else i.select(e.canvas()).style("display","none")},this.categories=function(t){return void 0===t?n:(n=this._prepareCategories(t),this._draw(),this)},this.addCategories=function(t){return n=n.concat(this._prepareCategories(t)),this._draw(),this},this.removeCategories=function(t){return n=n.filter(function(e){return-1===t.indexOf(e)}),this._draw(),this},this._prepareCategories=function(t){return t.forEach(function(t){t.color=t.colors.map(function(t){return s.convertColorToHex(t,!0)})}),t},this._drawDiscrete=function(t,n,r){if(-1===["linear","log","sqrt","pow","quantile","ordinal"].indexOf(r.scale))throw new Error("unsupported scale");var o,l,u,h,p,d,f;if("ordinal"===r.scale)u=i.scale.ordinal().domain(r.domain).range(r.colors),e._renderDiscreteColors(t,r.domain,u,n,function(t){return t}),h=i.scale.ordinal().domain(r.domain).rangeRoundBands([0,n]),p=i.svg.axis().scale(h).tickValues(function(){var t=Math.ceil(r.domain.length/a);return r.domain.filter(function(e,n){return n%t==0})});else if("quantile"===r.scale){o=[0,r.colors.length],d=s.range(0,r.colors.length-1),l=i.scale.quantile().domain(r.domain).range(d),u=i.scale.quantize().domain(o).range(r.colors),e._renderDiscreteColors(t,d,u,n,function(t){return l.invertExtent(t).join(" - ")});var v=[l.invertExtent(0)[0]];v=v.concat(d.map(function(t){return l.invertExtent(t)[1]})),p=m(h=i.scale.ordinal().domain(v).rangePoints([0,n]))}else if(-1!==["linear","log","sqrt","pow"].indexOf(r.scale)){o=[0,r.colors.length],l=i.scale[r.scale]().domain(r.domain).range(o).nice(),u=i.scale.quantize().domain(o).range(r.colors),d=s.range(0,r.colors.length-1);var g=Math.max.apply(null,r.domain.map(function(t){return c(t)}));e._renderDiscreteColors(t,d,u,n,function(t){return e._popupFormatter(l.invert(t),g)+" - "+e._popupFormatter(l.invert(t+1),g)}),(f=d.slice()).push(r.colors.length),p=m(h=i.scale.ordinal().domain(f.map(function(t){return l.invert(t)})).rangePoints([0,n]))}function m(t){return i.svg.axis().scale(t).tickFormat(i.format(".2s")).tickValues(function(){var e=Math.ceil(t.domain().length/a);return t.domain().filter(function(t,n){return n%e==0})})}r.endAxisLabelOnly&&p.tickValues([h.domain()[0],h.domain()[h.domain().length-1]]),e._renderAxis(t,p)},this._renderDiscreteColors=function(t,n,i,r,o){t.selectAll("rect").data(n).enter().append("rect").attr("width",r/n.length).attr("height","20px").attr("fill",function(t){return i(t)}).attr("transform",function(t,e){return"translate("+e*r/n.length+" ,0)"}).on("mousemove",function(t){e._showPopup(o(t))}).on("mouseout",e._hidePopup)},this._drawContinous=function(t,n,r){var o,s,u;if(-1===["linear","log","sqrt","pow"].indexOf(r.scale))throw new Error("unsupported scale");var h=[0];for(u=1;u<r.domain.length-1;u++)h.push(n/(r.domain.length-1)*u);h.push(n),o=i.scale[r.scale]().domain(r.domain).range(h).nice(),"log"===r.scale&&r.base&&o.base(r.base),"pow"===r.scale&&r.exponent&&o.exponent(r.exponent);var p=l(),d=Math.max.apply(null,r.domain.map(function(t){return c(t)})),f=t.append("defs").append("linearGradient").attr("id","gradient"+p);for(f.append("stop").attr("offset","0%").attr("stop-color",r.colors[0]),u=1;u<r.colors.length-1;u++)f.append("stop").attr("offset",(100/(r.colors.length-1)*u).toFixed(6)+"%").attr("stop-color",r.colors[u]);f.append("stop").attr("offset","100%").attr("stop-color",r.colors[r.colors.length-1]),t.append("rect").attr("fill","url(#gradient"+p+")").attr("width",n).attr("height","20px").on("mousemove",function(){var t=o.invert(i.mouse(this)[0]),n=e._popupFormatter(t,d);e._showPopup(n)}).on("mouseout",e._hidePopup),s=i.svg.axis().scale(o).ticks(a,".2s"),r.endAxisLabelOnly&&s.tickValues([r.domain[0],r.domain[r.domain.length-1]]),this._renderAxis(t,s)},this._renderAxis=function(t,e){t.append("g").attr("class","axis x").attr("transform","translate(0, 20)").call(function(t){t.call(e)})},this._popupFormatter=function(t,e){return t=parseFloat(t.toFixed(8)),e=Math.min(e,c(t)),e=Math.min(e,Math.max(3,7-Math.trunc(t).toString().length)),i.format("."+e+"f")(t)},this._showPopup=function(t){var n=i.mouse(e.canvas());e.popup.text(t);var r=e.canvas().clientWidth,o=e.popup[0][0].clientWidth;e.popup.style({left:n[0]-(n[0]+o-r>-10?o:0)+"px",top:n[1]-22+"px"}).transition().duration(200).style("opacity",1)},this._hidePopup=function(){e.popup.transition().duration(200).style("opacity",0)},this};function c(t){if(!isFinite(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;){if(!isFinite(t*e))return 0;e*=10,n++}return n}o(u,r),a("dom","colorLegend",u),t.exports=u},function(t,e,n){var i=n(322);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(37)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(36)(!1)).push([t.i,".color-legend-container {\n  display: none;\n  padding: 10px;\n  border: 1.5px solid #000;\n  border-radius: 3px;\n  transition: 250ms background linear;\n  background-color: rgba(255,255,255,0.75);\n}\n.color-legend-container:hover {\n  background-color: #fff;\n}\n.color-legend-container .legends .legend {\n  margin-bottom: 10px;\n}\n.color-legend-container .legends .legend .title {\n  text-align: center;\n}\n.color-legend-container .legends .legend svg.svg {\n  display: block;\n}\n.color-legend-container .legends .legend svg.svg .axis.x path.domain,\n.color-legend-container .legends .legend svg.svg .axis.x line {\n  fill: none;\n  stroke: #000;\n  stroke-width: 0.7;\n}\n.color-legend-container .legends .legend svg.svg .axis.x text {\n  font-size: 12px;\n}\n.color-legend-container .color-legend-popup {\n  position: absolute;\n  background: #fff;\n  height: 22px;\n  font-size: 14px;\n  border: solid 1px #000;\n  padding: 0 5px;\n  pointer-events: none;\n  white-space: nowrap;\n  z-index: 100000;\n  opacity: 0;\n}\n",""])},function(t,e,n){var i=n(35),r=n(0),o=n(1).registerWidget,a=function(t){"use strict";if(!(this instanceof a))return new a(t);i.call(this,t);var e=n(11).d3,r=n(6),o=this,s=[],l=null,u=null,c=null;this.categories=function(t){return void 0===t?s.slice():(s=t.slice().map(function(t){return"line"===t.type&&(t.style.fill=!1,t.style.stroke=!0),t}),o.draw(),o)},this.size=function(){var t,n=1,i=e.select(o.canvas()).append("text").style("opacity",1e-6);return s.forEach(function(t){i.text(t.name),n=Math.max(n,i.node().getBBox().width)}),i.remove(),t=20*(s.length+1),{width:n+50,height:t}},this.draw=function(){function t(t){t.style("fill",function(t){return t.style.fill||void 0===t.style.fill?t.style.fillColor:"none"}).style("fill-opacity",function(t){return void 0===t.style.fillOpacity?1:t.style.fillOpacity}).style("stroke",function(t){return t.style.stroke||void 0===t.style.stroke?t.style.strokeColor:"none"}).style("stroke-opacity",function(t){return void 0===t.style.strokeOpacity?1:t.style.strokeOpacity}).style("stroke-width",function(t){return void 0===t.style.strokeWidth?1.5:t.style.strokeWidth})}o._init(),c.attr("height",o.size().height+24).style("display",null);var e=o._scale(),n=u.selectAll("g.geo-label").data(s,function(t){return t.name}).enter().append("g").attr("class","geo-label").attr("transform",function(t,n){return"translate(0,"+e.y(n)+")"});return t(n.filter(function(t){return"point"!==t.type&&"line"!==t.type}).append("rect").attr("x",0).attr("y",-6).attr("rx",5).attr("ry",5).attr("width",40).attr("height",12)),t(n.filter(function(t){return"point"===t.type}).append("circle").attr("cx",20).attr("cy",0).attr("r",6)),t(n.filter(function(t){return"line"===t.type}).append("line").attr("x1",0).attr("y1",0).attr("x2",40).attr("y2",0)),n.append("text").attr("x","50px").attr("y",0).attr("dy","0.3em").text(function(t){return t.name}),o.reposition(),o},this._scale=function(){return{x:e.scale.linear().domain([0,1]).range([0,o.size().width]),y:e.scale.linear().domain([0,s.length-1]).range([6,o.size().height-6])}},this._init=function(){l||(o._createCanvas(),o._appendCanvasToParent());var t=o.size().width+24+4,n=o.size().height+24+4;l&&l.remove(),e.select(o.canvas()).attr("width",t).attr("height",n),l=e.select(o.canvas()).append("g"),u=l.append("g").attr("transform","translate("+[14,14]+")"),c=u.append("rect").attr("x",-12).attr("y",-12).attr("width",t-4).attr("height",n-4).attr("rx",3).attr("ry",3).style({stroke:"black","stroke-width":"1.5px",fill:"white","fill-opacity":.75,display:"none"}),u.on("mousedown",function(){e.event.stopPropagation()}),u.on("mouseover",function(){c.transition().duration(250).style("fill-opacity",1)}),u.on("mouseout",function(){c.transition().duration(250).style("fill-opacity",.75)}),o.reposition()},this.geoOn(r.resize,function(){o.draw()})};r(a,i),o("dom","legend",a),t.exports=a},function(t,e,n){var i=n(2),r=n(0),o=n(35),a=n(1).registerWidget;n(325);var s=function(t){"use strict";if(!(this instanceof s))return new s(t);o.call(this,t);var e=n(6),r=n(7),a=n(3),l=n(11).d3,u=this,c=this._exit,h=i.extend({},{scale:1,maxWidth:200,maxHeight:"left"===t.orientation||"right"===t.orientation?200:20,orientation:"bottom",strokeWidth:2,tickLength:10,units:"si",distance:function(t,e,n){return"+proj=longlat +axis=enu"===n?Math.sqrt(a.distance2dSquared(t,e)):r.sphericalDistance(t,e,n)}},t);this._init=function(){return u._createCanvas(),u._appendCanvasToParent(),u.reposition(),l.select(u.canvas()).attr({width:h.maxWidth,height:h.maxHeight}),u.geoOn(e.pan,u._update),u._render(),u},this._exit=function(){u.geoOff(e.pan,u._update),c()},this._vertical=function(){return"left"===h.orientation||"right"===h.orientation},this._scaleValue=function(t,e,n){var i,r,o,a=[{multiple:1,digits:1},{multiple:1.5,digits:2},{multiple:2,digits:1},{multiple:3,digits:1},{multiple:5,digits:1},{multiple:8,digits:1}],l=(n=s.unitsTable[n]||n||s.unitsTable[h.units]||h.units)[0];return n.forEach(function(e){t>=e.scale*(e.minimum||1)&&(l=e)}),r=Math.floor(Math.log(t/l.scale)/Math.log(l.basis||10)),(a=l.multiples||a).forEach(function(e){var n=l.scale*e.multiple*Math.pow(10,r);n<=t&&(i=e,o=n)}),{html:(i.multiple*Math.pow(10,r)).toFixed(Math.max(0,-r+i.digits-1))+" "+l.unit,value:o,pixels:o/t*e,power:r,multiple:i,unitRecord:l,originalValue:t,originalPixels:e}},this._render=function(){var t,e,n,r,o,a,s=l.select(u.canvas()),c=u.layer().map(),p=h.maxWidth,d=h.maxHeight,f=h.strokeWidth,v=.5*f,g=h.tickLength,m=u._vertical();if(t=(m?h.maxHeight:h.maxWidth)-f,n={x:(e={x:(e=i(s[0][0]).offset()).left+("left"===h.orientation?p-v:v),y:e.top+("top"===h.orientation?d-v:v)}).x+(m?0:t),y:e.y+(m?t:0)},(r=h.distance(c.displayToGcs(e,null),c.displayToGcs(n,null),c.gcs())*h.scale)<=0||!isFinite(r))console.warn("The distance calculated for the scale is invalid: "+r);else{switch(o=u._scaleValue(r,t),m?d=o.pixels+f:p=o.pixels+f,s.attr({width:p,height:d}),s.select("polyline").empty()&&s.append("polyline").classed("geojs-scale-widget-bar",!0).attr({fill:"none","stroke-width":f}),s.select("text").empty()&&s.append("text").classed("geojs-scale-widget-text",!0),h.orientation){case"bottom":a=[[v,g],[v,v],[p-v,v],[p-v,g]],s.select("text").attr({x:p/2,y:2*f,"text-anchor":"middle","dominant-baseline":"hanging"});break;case"top":a=[[v,d-g],[v,d-v],[p-v,d-v],[p-v,d-g]],s.select("text").attr({x:p/2,y:d-2*f,"text-anchor":"middle","dominant-baseline":"alphabetic"});break;case"left":a=[[p-g,v],[p-v,v],[p-v,d-v],[p-g,d-v]],s.select("text").attr({x:p-2*f,y:d/2,"text-anchor":"end","dominant-baseline":"middle"});break;case"right":a=[[g,v],[v,v],[v,d-v],[g,d-v]],s.select("text").attr({x:2*f,y:d/2,"text-anchor":"start","dominant-baseline":"middle"})}s.select("polyline").attr("points",a.map(function(t){return t.join(",")}).join(" ")),s.select("text").html(o.html)}},this._update=function(){this._render()},this.options=function(t,e){if(void 0===t){var n=i.extend({},h);return n.position=u.position(void 0,!0),n}return"string"==typeof t&&void 0===e?"position"===t?u.position(void 0,!0):h[t]:(void 0===e?h=i.extend(!0,h,t):h[t]=e,(t.position||"position"===t)&&u.position(t.position||e),u._render(),u)}};r(s,o),s.unitsTable={si:[{unit:"nm",scale:1e-9},{unit:"&mu;m",scale:1e-6},{unit:"mm",scale:.001},{unit:"m",scale:1},{unit:"km",scale:1e3}],miles:[{unit:"in",scale:.0254},{unit:"in",scale:.0254,basis:12,multiples:[{multiple:1,digits:1},{multiple:1.5,digits:2},{multiple:2,digits:1},{multiple:3,digits:1},{multiple:6,digits:1},{multiple:9,digits:1}]},{unit:"ft",scale:.3048},{unit:"mi",scale:1609.344}]},a("dom","scale",s),t.exports=s},function(t,e,n){var i=n(326);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(37)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(36)(!1)).push([t.i,".geojs-scale-widget-bar {\n  stroke: #000;\n}\n.geojs-scale-widget-text {\n  font-weight: bold;\n  font-size: 16px;\n  font-family: serif;\n}\n",""])},function(t,e,n){var i=n(35),r=n(0),o=n(1).registerWidget,a=function(t){"use strict";if(!(this instanceof a))return new a(t);i.call(this,t);var e,r,o,s,l,u,c,h,p,d=n(11).d3,f=n(6),v=this,g=this._exit,m=t.width||20,y=t.height||160,x=t.width?.5*t.width:10;function _(t,e,n,i,r){var o=e.append("g"),a=r/1024;return o.append("g").append("g").attr("transform","translate("+n+","+i+") scale("+a+") translate(-512,-512)").append("path").attr("d",t).attr("class","geo-glyphicon"),o}u="M512 81.92c-237.568 0-430.080 192.614-430.080 430.080 0 237.568 192.563 430.080 430.080 430.080s430.080-192.563 430.080-430.080c0-237.517-192.563-430.080-430.080-430.080zM564.326 564.326v206.182h-104.653v-206.182h-206.234v-104.653h206.182v-206.234h104.704v206.182h206.182v104.704h-206.182z",c="M512 81.92c-237.568 0-430.080 192.614-430.080 430.080 0 237.568 192.563 430.080 430.080 430.080s430.080-192.563 430.080-430.080c0-237.517-192.563-430.080-430.080-430.080zM770.56 459.674v104.704h-517.12v-104.704h517.12z",p={white:"#f4f4f4",black:"#505050"},this.size=function(){return{width:m,height:y}},this._init=function(){v._createCanvas(),v._appendCanvasToParent(),v.reposition();var t=d.select(v.canvas()),n=v.layer().map();function i(e,i){var o=r.invert(d.mouse(t.node())[1]),a=n.zoomRange();o=(1-o)*(a.max-a.min)+a.min,i?n.transition({zoom:o,ease:d.ease("cubic-in-out"),duration:500,done:v._update()}):(n.zoom(o),v._update()),e.stopPropagation()}t.attr("width",m).attr("height",y),e=d.scale.linear().domain([-4,4]).range([0,m]),r=d.scale.linear().domain([0,1]).range([1.5*m,y-1.5*m]),t=t.append("g").classed("geo-ui-slider",!0),h=t,(o=t.append("g")).append("circle").datum({fill:"white",stroke:null}).classed("geo-zoom-in",!0).attr("cx",e(0)).attr("cy",r(0)-m+2).attr("r",(m-2)/2).style({cursor:"pointer"}).on("click",function(){var t=n.zoom();n.transition({zoom:t+1,ease:d.ease("cubic-in-out"),duration:500})}).on("mousedown",function(){d.event.stopPropagation()}),_(u,o,e(0),r(0)-m+2,m+4).style("cursor","pointer").style("pointer-events","none").select("path").datum({fill:"black",stroke:null}),(s=t.append("g")).append("circle").datum({fill:"white",stroke:null}).classed("geo-zoom-out",!0).attr("cx",e(0)).attr("cy",r(1)+m-2).attr("r",(m-2)/2).style({cursor:"pointer"}).on("click",function(){var t=n.zoom();n.transition({zoom:t-1,ease:d.ease("cubic-in-out"),duration:500})}).on("mousedown",function(){d.event.stopPropagation()}),_(c,s,e(0),r(1)+m-2,m+4).style("cursor","pointer").style("pointer-events","none").select("path").datum({fill:"black",stroke:null}),t.append("rect").datum({fill:"white",stroke:"black"}).classed("geo-zoom-track",!0).attr("x",e(0)-m/6).attr("y",r(0)).attr("rx",m/10).attr("ry",m/10).attr("width",m/3).attr("height",y-3*m).style({cursor:"pointer"}).on("click",function(){i(d.event,!0)}),l=t.append("rect").datum({fill:"black",stroke:null}).classed("geo-zoom-nub",!0).attr("x",e(-4)).attr("y",r(.5)-x/2).attr("rx",3).attr("ry",3).attr("width",m).attr("height",x).style({cursor:"pointer"}).on("mousedown",function(){d.select(document).on("mousemove.geo.slider",function(){i(d.event)}),d.select(document).on("mouseup.geo.slider",function(){i(d.event),d.select(document).on(".geo.slider",null)}),d.event.stopPropagation()});var a=function(){d.select(this).attr("filter",null),h.selectAll("circle,rect,path").transition().duration(100).style("fill",function(t){return p[t.fill]||null}).style("stroke",function(t){return p[t.stroke]||null})};h.selectAll("*").on("mouseover",function(){d.select(this).attr("filter","url(#geo-highlight)"),h.selectAll("rect,path,circle").transition().duration(100).style("fill",function(t){return t.fill||null}).style("stroke",function(t){return t.stroke||null})}).on("mouseout",a),v.geoOn(f.zoom,v._update),a(),v._update()},this._exit=function(){v.geoOff(f.zoom,v._update),h.remove(),g()},this._update=function(t){var e=v.layer().map(),n=e.zoomRange(),i=e.zoom(),o=d.scale.linear();i=(t=t||{}).value||i,o.domain([n.min,n.max]).range([1,0]).clamp(!0),l.attr("y",r(o(i))-x/2)}};r(a,i),o("dom","slider",a),t.exports=a}])})},function(t){t.exports={JFK:{"2014/09":{counts:{"Approve in Full":1,Deny:3,Open:37},values:{"Approve in Full":86.01,Deny:0,Open:0}},"2014/08":{counts:{Deny:3,Settle:3,Open:53},values:{Deny:0,Settle:1164.05,Open:0}},"2014/07":{counts:{Deny:4,Settle:2,Open:55},values:{Deny:0,Settle:958.71,Open:0}},"2014/06":{counts:{"Approve in Full":6,Deny:10,Settle:2,Open:52},values:{"Approve in Full":894.24,Deny:0,Settle:855.02,Open:0}},"2014/05":{counts:{"Approve in Full":6,Deny:10,Settle:10,Open:17},values:{"Approve in Full":1074.13,Deny:0,Settle:2727.5499999999997,Open:0}},"2014/04":{counts:{"Approve in Full":10,Deny:11,Settle:8,Open:15},values:{"Approve in Full":1862.3100000000002,Deny:0,Settle:3276.27,Open:0}},"2014/03":{counts:{"Approve in Full":8,Deny:14,Settle:14,Open:7},values:{"Approve in Full":588.37,Deny:0,Settle:4245,Open:0}},"2014/02":{counts:{"Approve in Full":9,Deny:26,Settle:13,Open:6},values:{"Approve in Full":958.9100000000001,Deny:0,Settle:6016.710000000001,Open:0}},"2014/01":{counts:{"Approve in Full":13,Deny:20,Settle:17,Open:13},values:{"Approve in Full":1149.3000000000002,Deny:0,Settle:6475.75,Open:0}},total:644,"2013/09":{counts:{Deny:2,Settle:2},values:{Deny:0,Settle:352.25}},"2013/06":{counts:{"Approve in Full":1,Deny:2,Settle:1},values:{"Approve in Full":244.27,Deny:0,Settle:180.1}},"2013/07":{counts:{Deny:2,Open:2},values:{Deny:0,Open:0}},"2013/04":{counts:{Open:1},values:{Open:0}},"2013/05":{counts:{Deny:1,Settle:2,Open:1},values:{Deny:0,Settle:1002.6,Open:0}},"2013/02":{counts:{Deny:1},values:{Deny:0}},"2013/03":{counts:{Open:1},values:{Open:0}},"2013/01":{counts:{Open:1},values:{Open:0}},"2012/09":{counts:{Deny:1},values:{Deny:0}},"2012/08":{counts:{Deny:1},values:{Deny:0}},"2012/03":{counts:{Open:1},values:{Open:0}},"2012/04":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{Open:33},values:{Open:0}},"2014/11":{counts:{Open:34},values:{Open:0}},"2014/12":{counts:{Deny:1,Settle:1,Open:17},values:{Deny:0,Settle:500,Open:0}},"2013/11":{counts:{Deny:8,Settle:1,Open:1},values:{Deny:0,Settle:89.1,Open:0}},"2013/10":{counts:{Deny:1,Settle:1,Open:1},values:{Deny:0,Settle:175.83,Open:0}},"2013/12":{counts:{"Approve in Full":7,Deny:12,Settle:14,Open:9},values:{"Approve in Full":1029.74,Deny:0,Settle:5521.09,Open:0}},airport:{"Airport Code":"JFK",lat:40.63980103,lon:-73.77890015,"Airport Name":"John F. Kennedy International"},"2012/11":{counts:{Open:1},values:{Open:0}}},GSP:{"2014/04":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"GSP",lat:34.8956985474,lon:-82.2189025879,"Airport Name":"Greenville-Spartanburg"},"2014/09":{counts:{Open:2},values:{Open:0}},total:5,"2014/10":{counts:{"Approve in Full":1},values:{"Approve in Full":160.89}},"2014/12":{counts:{Open:1},values:{Open:0}}},FNT:{"2013/12":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"FNT",lat:42.96540069580078,lon:-83.74359893798828,"Airport Name":"Bishop International, Flint"},"2014/06":{counts:{Open:1},values:{Open:0}},total:5,"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":95.4}},"2014/12":{counts:{Deny:1},values:{Deny:0}}},GST:{airport:{"Airport Code":"GST",lat:58.4253006,lon:-135.7070007,"Airport Name":"Gustavus"},total:1,"2014/08":{counts:{"Approve in Full":1},values:{"Approve in Full":39}}},SIT:{airport:{"Airport Code":"SIT",lat:57.04710006713867,lon:-135.36199951171875,"Airport Name":"Sitka 'Rocky Guitierrez'"},total:1,"2014/08":{counts:{Open:1},values:{Open:0}}},MIA:{"2014/09":{counts:{"Approve in Full":1,Deny:2,Open:26},values:{"Approve in Full":15,Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":3,Deny:1,Settle:1,Open:23},values:{"Approve in Full":238.97,Deny:0,Settle:315.3,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:2,Open:16},values:{"Approve in Full":121.41,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":6,Deny:7,Settle:1,Open:17},values:{"Approve in Full":310.87,Deny:0,Settle:139,Open:0}},"2014/05":{counts:{"Approve in Full":4,Deny:5,Open:17},values:{"Approve in Full":226.47,Deny:0,Open:0}},total:340,"2014/03":{counts:{"Approve in Full":5,Deny:7,Open:19},values:{"Approve in Full":542.69,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":7,Deny:5,Open:18},values:{"Approve in Full":785.2600000000001,Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":10,Deny:4,Settle:2,Open:25},values:{"Approve in Full":1032.52,Deny:0,Settle:941.77,Open:0}},"2014/04":{counts:{"Approve in Full":3,Deny:5,Settle:1,Open:15},values:{"Approve in Full":282.89,Deny:0,Settle:500,Open:0}},"2013/08":{counts:{Settle:1,Open:1},values:{Settle:50,Open:0}},"2013/04":{counts:{Open:1},values:{Open:0}},"2013/03":{counts:{Deny:1},values:{Deny:0}},"2012/05":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{"Approve in Full":2,Deny:1,Settle:1,Open:15},values:{"Approve in Full":395,Deny:0,Settle:350,Open:0}},"2014/11":{counts:{Open:25},values:{Open:0}},"2014/12":{counts:{Open:6},values:{Open:0}},"2013/11":{counts:{"Approve in Full":2,Deny:1},values:{"Approve in Full":421,Deny:0}},"2013/10":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2013/12":{counts:{"Approve in Full":2,Deny:6,Open:11},values:{"Approve in Full":399.99,Deny:0,Open:0}},airport:{"Airport Code":"MIA",lat:25.79319953918457,lon:-80.29060363769531,"Airport Name":"Miami International Airport"},"2012/10":{counts:{Open:1},values:{Open:0}}},BOS:{"2014/09":{counts:{"Approve in Full":1,Open:14},values:{"Approve in Full":25,Open:0}},"2014/08":{counts:{"Approve in Full":1,Deny:2,Open:16},values:{"Approve in Full":20,Deny:0,Open:0}},"2014/07":{counts:{Deny:3,Settle:2,Open:17},values:{Deny:0,Settle:850.9,Open:0}},"2014/06":{counts:{"Approve in Full":3,Deny:4,Settle:2,Open:12},values:{"Approve in Full":740.09,Deny:0,Settle:1210.79,Open:0}},"2014/05":{counts:{"Approve in Full":4,Deny:8,Settle:3,Open:5},values:{"Approve in Full":922.97,Deny:0,Settle:770,Open:0}},total:241,"2014/03":{counts:{"Approve in Full":3,Deny:8,Settle:4,Open:2},values:{"Approve in Full":484.99,Deny:0,Settle:813.7700000000001,Open:0}},"2014/02":{counts:{"Approve in Full":4,Deny:4,Settle:2,Open:1},values:{"Approve in Full":433.95,Deny:0,Settle:727.44,Open:0}},"2014/01":{counts:{"Approve in Full":5,Deny:6,Settle:4,Open:4},values:{"Approve in Full":1217.51,Deny:0,Settle:831.62,Open:0}},"2014/04":{counts:{"Approve in Full":6,Deny:6,Settle:3,Open:3},values:{"Approve in Full":1008.0900000000001,Deny:0,Settle:1348.54,Open:0}},"2013/09":{counts:{Deny:1,Settle:2},values:{Deny:0,Settle:2076.14}},"2013/05":{counts:{Deny:1},values:{Deny:0}},"2013/02":{counts:{"Approve in Full":1},values:{"Approve in Full":20}},"2012/08":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{"Approve in Full":1,Deny:2,Open:17},values:{"Approve in Full":150,Deny:0,Open:0}},"2014/11":{counts:{Open:15},values:{Open:0}},"2014/12":{counts:{Deny:1,Open:4},values:{Deny:0,Open:0}},"2013/11":{counts:{Deny:3},values:{Deny:0}},"2013/10":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":45,Deny:0,Open:0}},"2013/12":{counts:{"Approve in Full":5,Deny:16,Settle:2,Open:3},values:{"Approve in Full":1132.8899999999999,Deny:0,Settle:469.47,Open:0}},airport:{"Airport Code":"BOS",lat:42.36429977,lon:-71.00520325,"Airport Name":"Boston (Logan) International Airport "},"2012/11":{counts:{Open:1},values:{Open:0}}},OAK:{total:82,"2013/12":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":100,Deny:0}},"2013/09":{counts:{Deny:1},values:{Deny:0}},"2013/06":{counts:{"Approve in Full":1},values:{"Approve in Full":25}},"2014/10":{counts:{Open:6},values:{Open:0}},"2014/11":{counts:{Open:3},values:{Open:0}},airport:{"Airport Code":"OAK",lat:37.72129821777344,lon:-122.22100067138672,"Airport Name":"Metropolitan Oakland International"},"2014/12":{counts:{"Approve in Full":1,Open:2},values:{"Approve in Full":45,Open:0}},"2014/09":{counts:{"Approve in Full":1,Settle:1,Open:5},values:{"Approve in Full":20,Settle:59,Open:0}},"2014/08":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:3},values:{"Approve in Full":42.6,Deny:0,Settle:80.55,Open:0}},"2014/07":{counts:{"Approve in Full":2,Settle:1,Open:1},values:{"Approve in Full":300,Settle:494.99,Open:0}},"2014/06":{counts:{"Approve in Full":2,Deny:1,Settle:3,Open:3},values:{"Approve in Full":55.99,Deny:0,Settle:255.03000000000003,Open:0}},"2014/05":{counts:{Deny:3},values:{Deny:0}},"2014/04":{counts:{"Approve in Full":2,Deny:7,Settle:2,Open:1},values:{"Approve in Full":427.77,Deny:0,Settle:443.56999999999994,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:5,Open:3},values:{"Approve in Full":250,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":1,Deny:3,Settle:3,Open:2},values:{"Approve in Full":290,Deny:0,Settle:256.96,Open:0}},"2014/01":{counts:{"Approve in Full":1,Deny:5,Open:1},values:{"Approve in Full":6.83,Deny:0,Open:0}}},BGM:{airport:{"Airport Code":"BGM",lat:42.20869827,lon:-75.97979736,"Airport Name":"Greater Binghamton Airport"},total:1,"2013/08":{counts:{Deny:1},values:{Deny:0}}},LIT:{total:7,"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"LIT",lat:34.729400634799994,lon:-92.2242965698,"Airport Name":"Little Rock National"},"2014/07":{counts:{Deny:2},values:{Deny:0}},"2014/06":{counts:{Open:2},values:{Open:0}},"2014/04":{counts:{"Approve in Full":1},values:{"Approve in Full":250.14}},"2014/02":{counts:{Deny:1},values:{Deny:0}}},BOI:{total:11,"2013/12":{counts:{Settle:1},values:{Settle:477}},"2014/10":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"BOI",lat:43.56439972,lon:-116.2229996,"Airport Name":"Boise Air Terminal/Gowen Field"},"2014/09":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":326.09,Open:0}},"2014/07":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":151.41,Open:0}},"2014/05":{counts:{Open:1},values:{Open:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},BGR:{airport:{"Airport Code":"BGR",lat:44.80739974975586,lon:-68.8281021118164,"Airport Name":"Bangor International Airport"},total:3,"2014/10":{counts:{Settle:1},values:{Settle:12.5}},"2014/01":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{Settle:1},values:{Settle:34.94}}},YUM:{"2013/11":{counts:{Open:1},values:{Open:0}},"2013/12":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"YUM",lat:32.65660095,lon:-114.6060028,"Airport Name":"Yuma International Airport"},"2014/09":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":45,Open:0}},total:7,"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":179.99}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},CPR:{airport:{"Airport Code":"CPR",lat:42.90800095,lon:-106.4639969,"Airport Name":"Natrona International"},total:3,"2014/11":{counts:{Open:2},values:{Open:0}},"2013/09":{counts:{"Approve in Full":1},values:{"Approve in Full":615.09}}},EGE:{airport:{"Airport Code":"EGE",lat:39.64260101,lon:-106.9179993,"Airport Name":"Eagle County Regional"},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:5,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}}},RFD:{airport:{"Airport Code":"RFD",lat:42.19540023803711,lon:-89.09719848632812,"Airport Name":"Greater Rockford"},total:1,"2014/03":{counts:{Deny:1},values:{Deny:0}}},SAN:{"2012/08":{counts:{Open:1},values:{Open:0}},"2013/10":{counts:{Settle:1,Open:1},values:{Settle:193.98,Open:0}},"2013/12":{counts:{"Approve in Full":6,Deny:7,Settle:1},values:{"Approve in Full":285.38,Deny:0,Settle:50}},"2013/08":{counts:{Open:1},values:{Open:0}},"2013/09":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:11},values:{Open:0}},"2012/11":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:5},values:{Open:0}},airport:{"Airport Code":"SAN",lat:32.7336006165,lon:-117.190002441,"Airport Name":"San Diego International"},total:135,"2014/12":{counts:{Open:3},values:{Open:0}},"2014/09":{counts:{"Approve in Full":2,Deny:1,Open:5},values:{"Approve in Full":40.68,Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":2,Deny:1,Settle:1,Open:11},values:{"Approve in Full":57.95,Deny:0,Settle:1025,Open:0}},"2014/07":{counts:{"Approve in Full":3,Deny:1,Settle:2,Open:6},values:{"Approve in Full":450,Deny:0,Settle:256.92,Open:0}},"2014/06":{counts:{"Approve in Full":2,Deny:3,Settle:1},values:{"Approve in Full":102.71,Deny:0,Settle:50.93}},"2014/05":{counts:{"Approve in Full":3,Deny:7,Settle:2,Open:1},values:{"Approve in Full":538.38,Deny:0,Settle:270.18,Open:0}},"2014/04":{counts:{"Approve in Full":3,Deny:9,Settle:1,Open:2},values:{"Approve in Full":153.14,Deny:0,Settle:295,Open:0}},"2014/03":{counts:{"Approve in Full":3,Deny:4,Settle:1,Open:2},values:{"Approve in Full":255.42000000000002,Deny:0,Settle:64.05,Open:0}},"2014/02":{counts:{"Approve in Full":5,Deny:2,Settle:2,Open:2},values:{"Approve in Full":959,Deny:0,Settle:2160.32,Open:0}},"2014/01":{counts:{"Approve in Full":2,Deny:2,Settle:1,Open:1},values:{"Approve in Full":76.22999999999999,Deny:0,Settle:128.32,Open:0}}},IWA:{airport:{"Airport Code":"IWA",lat:56.93939971923828,lon:40.940799713134766,"Airport Name":"Mesa-Gateway Airport"},"2014/06":{counts:{"Approve in Full":1},values:{"Approve in Full":135}},total:6,"2014/03":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Settle:1,Open:1},values:{Settle:441.75,Open:0}}},PIA:{"2014/07":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"PIA",lat:40.664199829100006,lon:-89.6932983398,"Airport Name":"Greater Peoria"},total:3,"2014/03":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Deny:1},values:{Deny:0}}},MYR:{"2014/07":{counts:{"Approve in Full":1,Settle:1},values:{"Approve in Full":6.86,Settle:134.99}},airport:{"Airport Code":"MYR",lat:33.6796989441,lon:-78.9282989502,"Airport Name":"Myrtle Beach International"},total:6,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:3},values:{Open:0}}},PIE:{"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"PIE",lat:27.91020012,lon:-82.68740082,"Airport Name":"St. Petersburg-Clearwater International"},"2014/05":{counts:{Settle:1},values:{Settle:307.33}},total:5,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":21.99}}},DCA:{"2013/11":{counts:{"Approve in Full":3,Deny:1},values:{"Approve in Full":654.0400000000001,Deny:0}},total:91,"2013/12":{counts:{Deny:3,Settle:1},values:{Deny:0,Settle:192.57}},"2014/09":{counts:{"Approve in Full":1,Open:4},values:{"Approve in Full":132,Open:0}},"2013/09":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:5},values:{Open:0}},"2014/11":{counts:{Open:9},values:{Open:0}},airport:{"Airport Code":"DCA",lat:38.8521,lon:-77.037697,"Airport Name":"Ronald Reagan Washington National Airport"},"2012/12":{counts:{Deny:1},values:{Deny:0}},"2014/12":{counts:{Open:2},values:{Open:0}},"2012/10":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{"Approve in Full":4,Deny:2,Settle:1,Open:2},values:{"Approve in Full":727.3399999999999,Deny:0,Settle:230,Open:0}},"2014/07":{counts:{"Approve in Full":2,Deny:10,Open:1},values:{"Approve in Full":218.4,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:5,Open:2},values:{"Approve in Full":60,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":2,Deny:5,Settle:1},values:{"Approve in Full":111.49,Deny:0,Settle:449.99}},"2014/04":{counts:{"Approve in Full":1,Deny:2,Open:2},values:{"Approve in Full":10.6,Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:3,Settle:3,Open:3},values:{"Approve in Full":599.99,Deny:0,Settle:1559.99,Open:0}},"2014/02":{counts:{"Approve in Full":2,Open:1},values:{"Approve in Full":178.94,Open:0}},"2014/01":{counts:{"Approve in Full":2,Deny:1},values:{"Approve in Full":297.8,Deny:0}}},SPI:{airport:{"Airport Code":"SPI",lat:39.84410095,lon:-89.67790222,"Airport Name":"Abraham Lincoln Capital Airport, Springfield"},total:1,"2014/10":{counts:{"Approve in Full":1},values:{"Approve in Full":11}}},LBB:{"2014/03":{counts:{"Approve in Full":1},values:{"Approve in Full":29.99}},airport:{"Airport Code":"LBB",lat:33.66360092163086,lon:-101.822998046875,"Airport Name":"Lubbock International"},"2014/07":{counts:{Deny:2},values:{Deny:0}},"2014/06":{counts:{Deny:1},values:{Deny:0}},"2014/05":{counts:{"Approve in Full":1},values:{"Approve in Full":173.14}},total:8,"2014/10":{counts:{Open:3},values:{Open:0}}},HSV:{"2014/04":{counts:{"Approve in Full":1},values:{"Approve in Full":75}},airport:{"Airport Code":"HSV",lat:34.637199401855,lon:-86.775100708008,"Airport Name":"Huntsville International Airport"},"2014/06":{counts:{Open:2},values:{Open:0}},total:6,"2014/10":{counts:{Open:2},values:{Open:0}},"2014/01":{counts:{Open:1},values:{Open:0}}},RAP:{"2014/06":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"RAP",lat:44.0452995300293,lon:-103.05699920654297,"Airport Name":"Rapid City Regional"},total:3,"2012/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Open:1},values:{Open:0}}},BWI:{"2013/10":{counts:{"Approve in Full":1},values:{"Approve in Full":199.99}},"2013/12":{counts:{Deny:7},values:{Deny:0}},"2013/08":{counts:{"Approve in Full":1},values:{"Approve in Full":723}},"2013/06":{counts:{Deny:1},values:{Deny:0}},"2013/07":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:9},values:{Open:0}},total:129,airport:{"Airport Code":"BWI",lat:39.17539978,lon:-76.66829681,"Airport Name":"Baltimore/Washington Intl Thurgood Marshall"},"2014/10":{counts:{Deny:1,Open:7},values:{Deny:0,Open:0}},"2012/12":{counts:{"Approve in Full":1},values:{"Approve in Full":71.87}},"2014/12":{counts:{Open:3},values:{Open:0}},"2014/09":{counts:{"Approve in Full":2,Deny:1,Open:11},values:{"Approve in Full":180,Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":2,Deny:3,Settle:1,Open:6},values:{"Approve in Full":160,Deny:0,Settle:321.16,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:7,Open:4},values:{"Approve in Full":47.9,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":2,Deny:5,Settle:2,Open:3},values:{"Approve in Full":195.74,Deny:0,Settle:1110.97,Open:0}},"2014/05":{counts:{"Approve in Full":2,Deny:2},values:{"Approve in Full":523.69,Deny:0}},"2014/04":{counts:{Deny:9,Settle:2,Open:1},values:{Deny:0,Settle:521.99,Open:0}},"2014/03":{counts:{"Approve in Full":2,Deny:10,Open:1},values:{"Approve in Full":116.43,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":3,Deny:4,Open:3},values:{"Approve in Full":256.17,Deny:0,Open:0}},"2014/01":{counts:{Deny:3,Settle:2,Open:3},values:{Deny:0,Settle:673.09,Open:0}}},HGR:{airport:{"Airport Code":"HGR",lat:39.707901,lon:-77.72949982,"Airport Name":"Hagerstown Regional"},total:1,"2014/02":{counts:{Deny:1},values:{Deny:0}}},PIT:{"2013/10":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":178.5,Deny:0}},"2014/10":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/11":{counts:{Open:2},values:{Open:0}},airport:{"Airport Code":"PIT",lat:40.49150085,lon:-80.23290253,"Airport Name":"Pittsburgh International Airport"},total:28,"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Open:2},values:{Open:0}},"2014/08":{counts:{Deny:3},values:{Deny:0}},"2014/07":{counts:{"Approve in Full":2,Deny:2,Settle:1,Open:1},values:{"Approve in Full":40,Deny:0,Settle:198,Open:0}},"2014/06":{counts:{Deny:1},values:{Deny:0}},"2014/05":{counts:{Deny:1,Settle:1},values:{Deny:0,Settle:280}},"2014/04":{counts:{Deny:2},values:{Deny:0}},"2014/03":{counts:{Settle:1},values:{Settle:528.04}},"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{Deny:2},values:{Deny:0}}},SAV:{"2013/11":{counts:{"Approve in Full":2},values:{"Approve in Full":244.04}},total:31,"2013/12":{counts:{"Approve in Full":1,Settle:1},values:{"Approve in Full":249,Settle:210}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"SAV",lat:32.12760162,lon:-81.20210266,"Airport Name":"Savannah International"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{"Approve in Full":2,Open:1},values:{"Approve in Full":117.72999999999999,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:1,Open:3},values:{"Approve in Full":48.22,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":2,Deny:1},values:{"Approve in Full":29.85,Deny:0}},"2014/04":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":38.78,Deny:0,Open:0}},"2014/03":{counts:{Settle:1,Open:5},values:{Settle:599.99,Open:0}},"2014/02":{counts:{Deny:3,Settle:1},values:{Deny:0,Settle:251.6}},"2014/01":{counts:{Open:1},values:{Open:0}}},AMA:{airport:{"Airport Code":"AMA",lat:35.219398498535156,lon:-101.70600128173828,"Airport Name":"Rick Husband Amarillo International Airport"},total:2,"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{Open:1},values:{Open:0}}},SAT:{"2013/11":{counts:{"Approve in Full":1},values:{"Approve in Full":2138.57}},total:63,"2013/12":{counts:{"Approve in Full":1,Deny:5,Settle:1,Open:1},values:{"Approve in Full":10.95,Deny:0,Settle:91.5,Open:0}},"2013/08":{counts:{"Approve in Full":1},values:{"Approve in Full":28.8}},"2013/06":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:1},values:{Open:0}},"2013/04":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":768,Open:0}},airport:{"Airport Code":"SAT",lat:29.533700942993164,lon:-98.46980285644531,"Airport Name":"San Antonio International"},"2012/12":{counts:{Deny:1},values:{Deny:0}},"2014/12":{counts:{Open:4},values:{Open:0}},"2014/09":{counts:{Open:7},values:{Open:0}},"2014/08":{counts:{Deny:1,Open:2},values:{Deny:0,Open:0}},"2014/07":{counts:{Open:2},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":86.64,Deny:0}},"2014/04":{counts:{"Approve in Full":2,Deny:3,Open:1},values:{"Approve in Full":861.8,Deny:0,Open:0}},"2014/03":{counts:{Deny:6,Settle:1},values:{Deny:0,Settle:166.75}},"2014/02":{counts:{"Approve in Full":1,Deny:2,Open:1},values:{"Approve in Full":200,Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":1,Deny:4,Settle:4,Open:1},values:{"Approve in Full":171.36,Deny:0,Settle:859.1500000000001,Open:0}}},CHA:{"2014/05":{counts:{Settle:1},values:{Settle:249}},total:2,airport:{"Airport Code":"CHA",lat:35.035301208496094,lon:-85.20379638671875,"Airport Name":"Chattanooga Metropolitan"},"2014/08":{counts:{Open:1},values:{Open:0}}},ILM:{"2014/07":{counts:{Deny:1},values:{Deny:0}},total:3,airport:{"Airport Code":"ILM",lat:34.270599365234375,lon:-77.90260314941406,"Airport Name":"Wilmington International"},"2013/12":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{"Approve in Full":1},values:{"Approve in Full":75}}},DIK:{total:2,airport:{"Airport Code":"DIK",lat:46.7974014282,lon:-102.802001953,"Airport Name":"Dickinson Theodore Roosevelt Regional Airport"},"2013/12":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}}},IAH:{"2013/11":{counts:{"Approve in Full":1,Deny:1,Settle:1},values:{"Approve in Full":623.7,Deny:0,Settle:205.48}},"2013/10":{counts:{"Approve in Full":1},values:{"Approve in Full":190}},"2013/12":{counts:{Deny:6,Settle:3,Open:2},values:{Deny:0,Settle:324.24,Open:0}},"2013/08":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":15,Open:0}},"2013/07":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:8},values:{Open:0}},total:182,airport:{"Airport Code":"IAH",lat:29.984399795532227,lon:-95.34140014648438,"Airport Name":"Houston - George Bush Intercontinental Airport"},"2014/10":{counts:{Settle:1,Open:9},values:{Settle:950,Open:0}},"2012/12":{counts:{"Approve in Full":1},values:{"Approve in Full":37.89}},"2014/12":{counts:{Open:6},values:{Open:0}},"2014/09":{counts:{Open:9},values:{Open:0}},"2014/08":{counts:{"Approve in Full":2,Deny:2,Settle:1,Open:13},values:{"Approve in Full":151.65,Deny:0,Settle:41,Open:0}},"2014/07":{counts:{"Approve in Full":4,Deny:6,Settle:3,Open:5},values:{"Approve in Full":398.17,Deny:0,Settle:962.26,Open:0}},"2014/06":{counts:{"Approve in Full":4,Deny:5,Settle:2,Open:4},values:{"Approve in Full":326.72,Deny:0,Settle:251.86,Open:0}},"2014/05":{counts:{"Approve in Full":6,Deny:9,Settle:5,Open:4},values:{"Approve in Full":663.9200000000001,Deny:0,Settle:730.72,Open:0}},"2014/04":{counts:{"Approve in Full":4,Deny:7,Settle:2},values:{"Approve in Full":415.49,Deny:0,Settle:371.97}},"2014/03":{counts:{"Approve in Full":7,Deny:5,Settle:4},values:{"Approve in Full":703.34,Deny:0,Settle:887.72}},"2014/02":{counts:{"Approve in Full":1,Deny:5,Settle:4},values:{"Approve in Full":205.32,Deny:0,Settle:859.5999999999999}},"2014/01":{counts:{"Approve in Full":3,Deny:8,Settle:2,Open:3},values:{"Approve in Full":347.85,Deny:0,Settle:275.49,Open:0}}},JAX:{total:30,"2013/12":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":97.45,Deny:0}},"2014/10":{counts:{Open:1},values:{Open:0}},"2013/05":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"JAX",lat:30.49410057067871,lon:-81.68789672851562,"Airport Name":"Jacksonville International"},"2014/09":{counts:{"Approve in Full":1,Deny:1,Open:2},values:{"Approve in Full":20,Deny:0,Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{"Approve in Full":2,Deny:3,Open:2},values:{"Approve in Full":1338.81,Deny:0,Open:0}},"2014/06":{counts:{Deny:3,Settle:2},values:{Deny:0,Settle:259}},"2014/05":{counts:{Deny:2},values:{Deny:0}},"2014/04":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/03":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{Deny:2},values:{Deny:0}},"2014/01":{counts:{Settle:1},values:{Settle:755}}},BQN:{"2014/07":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:4,airport:{"Airport Code":"BQN",lat:18.49489974975586,lon:-67.12940216064453,"Airport Name":"Rafael Hernandez"},"2014/08":{counts:{Open:2},values:{Open:0}}},IAD:{"2013/11":{counts:{"Approve in Full":2,Deny:2},values:{"Approve in Full":2050,Deny:0}},"2013/10":{counts:{"Approve in Full":2,Deny:2},values:{"Approve in Full":1203.15,Deny:0}},"2013/12":{counts:{"Approve in Full":7,Deny:5,Open:1},values:{"Approve in Full":903.1400000000001,Deny:0,Open:0}},"2012/08":{counts:{Deny:1},values:{Deny:0}},"2013/06":{counts:{"Approve in Full":1},values:{"Approve in Full":8.41}},"2014/10":{counts:{Deny:1,Open:16},values:{Deny:0,Open:0}},"2013/03":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:10},values:{Open:0}},total:209,airport:{"Airport Code":"IAD",lat:38.94449997,lon:-77.45580292,"Airport Name":"Washington Dulles International"},"2012/12":{counts:{Deny:1},values:{Deny:0}},"2014/12":{counts:{Open:7},values:{Open:0}},"2014/09":{counts:{Deny:2,Open:11},values:{Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":7,Deny:5,Settle:2,Open:4},values:{"Approve in Full":859.95,Deny:0,Settle:245.95,Open:0}},"2014/07":{counts:{"Approve in Full":6,Deny:8,Open:1},values:{"Approve in Full":950.01,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":6,Deny:2,Settle:2,Open:5},values:{"Approve in Full":1169.93,Deny:0,Settle:673.15,Open:0}},"2014/05":{counts:{"Approve in Full":8,Deny:4,Settle:1,Open:4},values:{"Approve in Full":696.24,Deny:0,Settle:593.54,Open:0}},"2014/04":{counts:{"Approve in Full":8,Deny:7,Settle:1,Open:4},values:{"Approve in Full":723.85,Deny:0,Settle:500,Open:0}},"2014/03":{counts:{"Approve in Full":3,Deny:3,Settle:1,Open:1},values:{"Approve in Full":2310.63,Deny:0,Settle:443.68,Open:0}},"2014/02":{counts:{"Approve in Full":7,Deny:8,Settle:2,Open:3},values:{"Approve in Full":751.8800000000001,Deny:0,Settle:532.42,Open:0}},"2014/01":{counts:{"Approve in Full":5,Deny:14,Settle:1,Open:4},values:{"Approve in Full":331.83,Deny:0,Settle:278.03,Open:0}}},IAG:{airport:{"Airport Code":"IAG",lat:43.1072998046875,lon:-78.94619750976562,"Airport Name":"Niagara Falls International"},total:1,"2014/03":{counts:{Deny:1},values:{Deny:0}}},BQK:{"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":74}},airport:{"Airport Code":"BQK",lat:31.258800506591797,lon:-81.46649932861328,"Airport Name":"Glynco Jetport"},total:2,"2014/01":{counts:{Deny:1},values:{Deny:0}}},BFL:{airport:{"Airport Code":"BFL",lat:35.43360138,lon:-119.0569992,"Airport Name":"Meadows Field, Bakersfield Airport"},total:2,"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{Open:1},values:{Open:0}}},JAN:{total:11,"2013/03":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"JAN",lat:32.3111991882,lon:-90.0758972168,"Airport Name":"Jackson International"},"2014/08":{counts:{Deny:1},values:{Deny:0}},"2014/07":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":1},values:{"Approve in Full":567.09}},"2014/05":{counts:{Settle:1},values:{Settle:146.04}},"2014/04":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":303.21,Deny:0}},"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{"Approve in Full":1},values:{"Approve in Full":215.42}}},HRL:{"2014/04":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"HRL",lat:26.228500366210938,lon:-97.65440368652344,"Airport Name":"Rio Grande Valley International"},"2014/08":{counts:{Open:3},values:{Open:0}},total:8,"2014/03":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{Deny:2},values:{Deny:0}}},CHS:{"2013/10":{counts:{Deny:2},values:{Deny:0}},"2013/12":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"CHS",lat:32.89860153,lon:-80.04049683,"Airport Name":"Charleston International"},total:18,"2014/09":{counts:{Open:2},values:{Open:0}},"2014/08":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/07":{counts:{Settle:1},values:{Settle:192.88}},"2014/06":{counts:{Deny:1},values:{Deny:0}},"2014/05":{counts:{Settle:1},values:{Settle:446.47}},"2014/04":{counts:{"Approve in Full":1,Deny:3},values:{"Approve in Full":257.89,Deny:0}},"2014/03":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":250,Deny:0}},"2014/02":{counts:{"Approve in Full":2},values:{"Approve in Full":161.17000000000002}}},EYW:{"2014/07":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"EYW",lat:24.556100845336914,lon:-81.75959777832031,"Airport Name":"Key West International Airport"},total:1},GPT:{airport:{"Airport Code":"GPT",lat:30.40730094909668,lon:-89.07009887695312,"Airport Name":"Gulfport-Biloxi International"},total:4,"2014/03":{counts:{Deny:2},values:{Deny:0}},"2014/11":{counts:{Open:2},values:{Open:0}}},BNA:{"2013/10":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":19.4,Deny:0}},"2013/07":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{"Approve in Full":2,Open:2},values:{"Approve in Full":230,Open:0}},airport:{"Airport Code":"BNA",lat:36.1245002746582,lon:-86.6781997680664,"Airport Name":"Nashville International"},"2014/10":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":39.99,Deny:0,Open:0}},total:41,"2014/12":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":30,Open:0}},"2012/11":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{"Approve in Full":2,Open:3},values:{"Approve in Full":115,Open:0}},"2014/06":{counts:{Open:3},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1,Open:3},values:{"Approve in Full":79.99,Open:0}},"2014/04":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":755,Deny:0}},"2014/03":{counts:{"Approve in Full":3,Settle:1},values:{"Approve in Full":1539.37,Settle:249.99}},"2014/02":{counts:{"Approve in Full":1,Deny:3,Settle:1,Open:1},values:{"Approve in Full":1240,Deny:0,Settle:55.3,Open:0}},"2014/01":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":52.6,Deny:0}}},JAC:{"2014/06":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"JAC",lat:43.6072998046875,lon:-110.73799896240234,"Airport Name":"Jackson Hole"},total:2,"2014/09":{counts:{Open:1},values:{Open:0}}},OME:{airport:{"Airport Code":"OME",lat:64.51219940185547,lon:-165.44500732421875,"Airport Name":"Nome"},total:1,"2014/08":{counts:{Open:1},values:{Open:0}}},JNU:{"2013/08":{counts:{"Approve in Full":1},values:{"Approve in Full":440}},airport:{"Airport Code":"JNU",lat:58.35499954223633,lon:-134.5760040283203,"Airport Name":"Juneau International"},"2014/07":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":194.39,Deny:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:6,"2014/11":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},SNA:{"2013/11":{counts:{Deny:1},values:{Deny:0}},"2012/08":{counts:{Open:1},values:{Open:0}},"2013/12":{counts:{"Approve in Full":1,Deny:6,Settle:1,Open:1},values:{"Approve in Full":6.76,Deny:0,Settle:135.31,Open:0}},"2014/10":{counts:{Open:2},values:{Open:0}},"2012/07":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":79}},airport:{"Airport Code":"SNA",lat:33.67570114,lon:-117.8679962,"Airport Name":"John Wayne"},total:58,"2014/09":{counts:{Deny:1,Open:8},values:{Deny:0,Open:0}},"2014/08":{counts:{Deny:2,Open:3},values:{Deny:0,Open:0}},"2014/07":{counts:{Deny:2,Open:2},values:{Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":1,Settle:1,Open:2},values:{"Approve in Full":5,Settle:150,Open:0}},"2014/04":{counts:{"Approve in Full":1,Deny:3,Settle:1},values:{"Approve in Full":24,Deny:0,Settle:86.8}},"2014/03":{counts:{Settle:3,Open:1},values:{Settle:391.72,Open:0}},"2014/11":{counts:{Open:2},values:{Open:0}},"2014/01":{counts:{"Approve in Full":2,Deny:4,Settle:3,Open:1},values:{"Approve in Full":90,Deny:0,Settle:802.78,Open:0}}},PHL:{"2013/11":{counts:{"Approve in Full":1},values:{"Approve in Full":60}},total:174,"2013/12":{counts:{"Approve in Full":5,Deny:10,Open:5},values:{"Approve in Full":2249.4900000000002,Deny:0,Open:0}},"2014/11":{counts:{Deny:2,Open:10},values:{Deny:0,Open:0}},"2013/09":{counts:{Settle:1},values:{Settle:1737.63}},"2013/06":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Deny:6,Open:8},values:{Deny:0,Open:0}},"2013/04":{counts:{Open:1},values:{Open:0}},"2013/01":{counts:{Open:2},values:{Open:0}},airport:{"Airport Code":"PHL",lat:39.87189865112305,lon:-75.24109649658203,"Airport Name":"Philadelphia International Airport"},"2014/12":{counts:{Open:2},values:{Open:0}},"2014/09":{counts:{"Approve in Full":1,Deny:2,Open:7},values:{"Approve in Full":25,Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":1,Deny:9,Settle:1,Open:4},values:{"Approve in Full":34.37,Deny:0,Settle:225,Open:0}},"2014/07":{counts:{"Approve in Full":8,Deny:3,Open:4},values:{"Approve in Full":980.53,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":6,Deny:7,Settle:1,Open:2},values:{"Approve in Full":746.3399999999999,Deny:0,Settle:60.95,Open:0}},"2014/05":{counts:{"Approve in Full":4,Deny:8,Open:1},values:{"Approve in Full":379.53,Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":2,Deny:4,Open:2},values:{"Approve in Full":89.99,Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":2,Deny:7,Settle:3,Open:3},values:{"Approve in Full":280,Deny:0,Settle:2959.16,Open:0}},"2014/02":{counts:{"Approve in Full":5,Deny:8,Settle:1,Open:1},values:{"Approve in Full":822.01,Deny:0,Settle:149.75,Open:0}},"2014/01":{counts:{"Approve in Full":2,Deny:7,Settle:3,Open:1},values:{"Approve in Full":142,Deny:0,Settle:1278.12,Open:0}}},PHF:{"2014/05":{counts:{"Approve in Full":1},values:{"Approve in Full":89}},total:1,airport:{"Airport Code":"PHF",lat:37.13190079,lon:-76.49299622,"Airport Name":"Newport News / Williamsburg International"}},EAT:{"2014/07":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"EAT",lat:47.3988990784,lon:-120.207000732,"Airport Name":"Pangborn Memorial"},total:2,"2014/03":{counts:{Open:1},values:{Open:0}}},RHI:{"2013/11":{counts:{"Approve in Full":1},values:{"Approve in Full":70}},airport:{"Airport Code":"RHI",lat:45.63119888305664,lon:-89.46749877929688,"Airport Name":"Rhinelander-Onieta"},total:1},SYR:{"2013/12":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":65,Deny:0}},"2013/09":{counts:{Settle:1},values:{Settle:272.5}},airport:{"Airport Code":"SYR",lat:43.11119842529297,lon:-76.1063003540039,"Airport Name":"Syracuse-Hancock International"},"2014/08":{counts:{Open:1},values:{Open:0}},total:11,"2014/06":{counts:{Open:2},values:{Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{Deny:2},values:{Deny:0}}},CAK:{"2013/12":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"CAK",lat:40.916099548339844,lon:-81.44219970703125,"Airport Name":"Akron-Canton Regional"},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Open:1},values:{Open:0}},total:6,"2014/10":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{Open:1},values:{Open:0}}},PHX:{"2013/11":{counts:{"Approve in Full":5},values:{"Approve in Full":872.6099999999999}},"2013/10":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/12":{counts:{"Approve in Full":3,Deny:2,Open:2},values:{"Approve in Full":379.98,Deny:0,Open:0}},"2013/09":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{"Approve in Full":1,Deny:2,Open:15},values:{"Approve in Full":50,Deny:0,Open:0}},"2013/05":{counts:{Open:1},values:{Open:0}},"2012/07":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Settle:1,Open:12},values:{Settle:433.8,Open:0}},airport:{"Airport Code":"PHX",lat:33.43429946899414,lon:-112.01200103759766,"Airport Name":"Phoenix Sky Harbor International"},total:214,"2014/12":{counts:{Open:5},values:{Open:0}},"2014/09":{counts:{Open:12},values:{Open:0}},"2014/08":{counts:{"Approve in Full":1,Deny:4,Open:8},values:{"Approve in Full":85,Deny:0,Open:0}},"2014/07":{counts:{"Approve in Full":2,Deny:4,Open:4},values:{"Approve in Full":153,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":5,Deny:8,Open:9},values:{"Approve in Full":615.3399999999999,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":2,Deny:5,Settle:2,Open:11},values:{"Approve in Full":134.31,Deny:0,Settle:230.12,Open:0}},"2014/04":{counts:{"Approve in Full":6,Deny:8,Open:9},values:{"Approve in Full":273.96000000000004,Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":10,Deny:7,Open:11},values:{"Approve in Full":745.44,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":4,Deny:3,Open:7},values:{"Approve in Full":133.24,Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":3,Deny:6,Settle:1,Open:9},values:{"Approve in Full":326,Deny:0,Settle:12.5,Open:0}}},LAX:{"2014/09":{counts:{"Approve in Full":5,Deny:2,Settle:2,Open:25},values:{"Approve in Full":372.11,Deny:0,Settle:189,Open:0}},"2014/08":{counts:{"Approve in Full":7,Deny:7,Settle:1,Open:20},values:{"Approve in Full":832.37,Deny:0,Settle:247,Open:0}},"2014/07":{counts:{"Approve in Full":11,Deny:9,Settle:4,Open:12},values:{"Approve in Full":1221.16,Deny:0,Settle:997.1,Open:0}},"2014/06":{counts:{"Approve in Full":12,Deny:11,Settle:4,Open:11},values:{"Approve in Full":1778.08,Deny:0,Settle:1945.99,Open:0}},"2014/05":{counts:{"Approve in Full":10,Deny:14,Settle:4,Open:12},values:{"Approve in Full":3142.4999999999995,Deny:0,Settle:770.44,Open:0}},"2014/04":{counts:{"Approve in Full":9,Deny:7,Settle:4,Open:5},values:{"Approve in Full":3941.1200000000003,Deny:0,Settle:554.75,Open:0}},"2014/03":{counts:{"Approve in Full":19,Deny:16,Settle:4,Open:8},values:{"Approve in Full":5968.39,Deny:0,Settle:1105.8899999999999,Open:0}},"2014/02":{counts:{"Approve in Full":13,Deny:15,Settle:4,Open:1},values:{"Approve in Full":1969.63,Deny:0,Settle:2629.93,Open:0}},"2014/01":{counts:{"Approve in Full":6,Deny:21,Settle:2,Open:10},values:{"Approve in Full":1339.13,Deny:0,Settle:949.1800000000001,Open:0}},total:454,"2013/08":{counts:{Deny:2},values:{Deny:0}},"2013/09":{counts:{Deny:1},values:{Deny:0}},"2013/06":{counts:{Deny:1},values:{Deny:0}},"2013/07":{counts:{"Approve in Full":1,Deny:1,Settle:2},values:{"Approve in Full":515,Deny:0,Settle:135.39}},"2013/04":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/05":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{"Approve in Full":6,Deny:1,Settle:3,Open:27},values:{"Approve in Full":1633.96,Deny:0,Settle:907.88,Open:0}},"2014/11":{counts:{Deny:1,Open:15},values:{Deny:0,Open:0}},"2014/12":{counts:{"Approve in Full":1,Deny:1,Open:14},values:{"Approve in Full":10.7,Deny:0,Open:0}},"2013/11":{counts:{"Approve in Full":3,Deny:6,Open:4},values:{"Approve in Full":522.55,Deny:0,Open:0}},"2013/10":{counts:{"Approve in Full":1,Deny:1,Settle:2,Open:1},values:{"Approve in Full":378.77,Deny:0,Settle:699.8199999999999,Open:0}},"2013/12":{counts:{"Approve in Full":7,Deny:18,Settle:2,Open:1},values:{"Approve in Full":3274.01,Deny:0,Settle:387.70000000000005,Open:0}},airport:{"Airport Code":"LAX",lat:33.94250107,lon:-118.4079971,"Airport Name":"Los Angeles International Airport "},"2012/11":{counts:{"Approve in Full":1},values:{"Approve in Full":78.61}}},ONT:{"2013/11":{counts:{Deny:1},values:{Deny:0}},total:27,"2013/12":{counts:{"Approve in Full":2},values:{"Approve in Full":164}},"2013/06":{counts:{Settle:1},values:{Settle:77.5}},"2014/11":{counts:{Open:2},values:{Open:0}},airport:{"Airport Code":"ONT",lat:34.055999755859375,lon:-117.60099792480469,"Airport Name":"Ontario International"},"2014/09":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":14.81,Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:1},values:{"Approve in Full":125,Deny:0,Settle:45,Open:0}},"2014/06":{counts:{Settle:1,Open:1},values:{Settle:100,Open:0}},"2014/05":{counts:{Settle:2},values:{Settle:173.99}},"2014/04":{counts:{Deny:1,Settle:1},values:{Deny:0,Settle:428}},"2014/03":{counts:{"Approve in Full":2,Settle:1},values:{"Approve in Full":119.19,Settle:463.65}},"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{Deny:1,Settle:1,Open:2},values:{Deny:0,Settle:1174.36,Open:0}}},IPT:{"2014/07":{counts:{Settle:1},values:{Settle:184.56}},airport:{"Airport Code":"IPT",lat:41.241798400878906,lon:-76.92109680175781,"Airport Name":"Williamsport Lycoming Regional"},total:1},MAF:{"2014/07":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":1},values:{"Approve in Full":200}},airport:{"Airport Code":"MAF",lat:31.9424991607666,lon:-102.2020034790039,"Airport Name":"Midland International Airport"},total:4,"2014/02":{counts:{Deny:1},values:{Deny:0}}},MBS:{total:1,airport:{"Airport Code":"MBS",lat:43.532901763916016,lon:-84.07959747314453,"Airport Name":"MBS International"},"2014/04":{counts:{Open:1},values:{Open:0}}},SFB:{"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":83.48}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"SFB",lat:28.777599334716797,lon:-81.23750305175781,"Airport Name":"Orlando Sanford"},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{Open:2},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},total:13,"2014/10":{counts:{Open:2},values:{Open:0}},"2014/02":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:1},values:{"Approve in Full":49.98,Deny:0,Settle:172.99,Open:0}},"2014/01":{counts:{Open:1},values:{Open:0}}},TYR:{total:7,airport:{"Airport Code":"TYR",lat:32.35409927368164,lon:-95.40239715576172,"Airport Name":"Tyler Pounds Field"},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{"Approve in Full":1},values:{"Approve in Full":32.85}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},TYS:{"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":199.95}},"2013/03":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":179}},airport:{"Airport Code":"TYS",lat:35.81100082,lon:-83.9940033,"Airport Name":"Mcghee Tyson ,Knoxville"},"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":60}},total:8,"2014/03":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:2},values:{Open:0}},"2014/12":{counts:{Settle:1},values:{Settle:466.45}}},GUC:{"2014/07":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"GUC",lat:38.53390121,lon:-106.9329987,"Airport Name":"Gunnison - Crested Butte Regional Airport"},total:1},CRP:{total:5,airport:{"Airport Code":"CRP",lat:27.77039909362793,lon:-97.5011978149414,"Airport Name":"Corpus Christi International"},"2013/12":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{Deny:1},values:{Deny:0}},"2014/04":{counts:{Settle:1},values:{Settle:64.99}},"2014/11":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},CRW:{total:2,airport:{"Airport Code":"CRW",lat:38.37310028076172,lon:-81.59320068359375,"Airport Name":"Yeager, Charleston"},"2014/04":{counts:{"Approve in Full":1},values:{"Approve in Full":35.9}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":175}}},CMI:{airport:{"Airport Code":"CMI",lat:40.03919983,lon:-88.27809906,"Airport Name":"University of Illinois-Willard"},total:1,"2014/08":{counts:{Open:1},values:{Open:0}}},CMH:{"2013/10":{counts:{Open:1},values:{Open:0}},"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":10.08}},"2013/08":{counts:{Settle:1},values:{Settle:44.24}},"2014/10":{counts:{Deny:1},values:{Deny:0}},"2013/05":{counts:{"Approve in Full":1},values:{"Approve in Full":200}},"2014/11":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"CMH",lat:39.99800109863281,lon:-82.89189910888672,"Airport Name":"Port Columbus International"},total:33,"2014/12":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/09":{counts:{Open:2},values:{Open:0}},"2014/08":{counts:{Open:3},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":26.58,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:1},values:{"Approve in Full":329.99,Deny:0,Settle:63.26,Open:0}},"2014/05":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":2},values:{"Approve in Full":127.24000000000001}},"2014/03":{counts:{"Approve in Full":1,Settle:2,Open:1},values:{"Approve in Full":10.08,Settle:1590.01,Open:0}},"2014/02":{counts:{Deny:3},values:{Deny:0}},"2014/01":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":50,Deny:0}}},AEX:{"2013/11":{counts:{"Approve in Full":1},values:{"Approve in Full":35}},airport:{"Airport Code":"AEX",lat:31.32740020751953,lon:-92.54979705810547,"Airport Name":"Alexandria International Airport"},total:2,"2014/03":{counts:{Deny:1},values:{Deny:0}}},GJT:{total:2,"2014/06":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"GJT",lat:39.1223983765,lon:-108.527000427,"Airport Name":"Walker Field"},"2013/12":{counts:{Deny:1},values:{Deny:0}}},ABQ:{total:36,"2013/12":{counts:{"Approve in Full":3,Deny:1,Settle:1},values:{"Approve in Full":198.09,Deny:0,Settle:100}},"2014/10":{counts:{Open:3},values:{Open:0}},"2014/11":{counts:{Open:2},values:{Open:0}},airport:{"Airport Code":"ABQ",lat:35.040199279785156,lon:-106.60900115966797,"Airport Name":"Albuquerque International Sunport Airport"},"2014/09":{counts:{Open:2},values:{Open:0}},"2014/08":{counts:{Open:2},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:2,Settle:2,Open:1},values:{"Approve in Full":12.89,Deny:0,Settle:56.370000000000005,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":12.5,Deny:0}},"2014/04":{counts:{Deny:4},values:{Deny:0}},"2014/03":{counts:{"Approve in Full":3,Deny:2,Settle:1},values:{"Approve in Full":807.29,Deny:0,Settle:38.5}},"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}}},GUM:{"2013/12":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"GUM",lat:13.4834003448,lon:144.796005249,"Airport Name":"Guam"},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{Deny:1},values:{Deny:0}},total:6,"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":126}},"2014/01":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}}},TSA:{airport:{"Airport Code":"TSA",lat:25.069400787353516,lon:121.552001953125,"Airport Name":"TSA - Non-Specified Airport"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},total:4,"2014/02":{counts:{Settle:1},values:{Settle:1500}},"2014/01":{counts:{Open:1},values:{Open:0}}},FLL:{"2014/09":{counts:{"Approve in Full":1,Open:11},values:{"Approve in Full":11.99,Open:0}},"2014/08":{counts:{"Approve in Full":1,Deny:1,Open:10},values:{"Approve in Full":79,Deny:0,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:1,Settle:2,Open:13},values:{"Approve in Full":63.6,Deny:0,Settle:775.83,Open:0}},"2014/06":{counts:{"Approve in Full":4,Deny:3,Open:7},values:{"Approve in Full":423.72,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":5,Deny:5,Settle:1,Open:11},values:{"Approve in Full":2173.11,Deny:0,Settle:15,Open:0}},total:210,"2014/03":{counts:{"Approve in Full":4,Deny:6,Open:6},values:{"Approve in Full":159.33,Deny:0,Open:0}},"2011/11":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{"Approve in Full":8,Deny:3,Settle:3,Open:3},values:{"Approve in Full":1160.51,Deny:0,Settle:1527.25,Open:0}},"2014/04":{counts:{"Approve in Full":9,Deny:5,Settle:2,Open:17},values:{"Approve in Full":339.55,Deny:0,Settle:458.57,Open:0}},"2014/02":{counts:{"Approve in Full":4,Deny:8,Open:7},values:{"Approve in Full":380.45,Deny:0,Open:0}},"2013/09":{counts:{Deny:3,Open:1},values:{Deny:0,Open:0}},"2013/02":{counts:{Open:1},values:{Open:0}},"2013/01":{counts:{Open:1},values:{Open:0}},"2012/07":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{Deny:1,Open:9},values:{Deny:0,Open:0}},"2014/11":{counts:{"Approve in Full":1,Open:11},values:{"Approve in Full":34.88,Open:0}},"2014/12":{counts:{"Approve in Full":2,Open:3},values:{"Approve in Full":835,Open:0}},"2013/11":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/10":{counts:{Open:1},values:{Open:0}},"2013/12":{counts:{"Approve in Full":3,Deny:3,Settle:2,Open:2},values:{"Approve in Full":169.6,Deny:0,Settle:597.98,Open:0}},airport:{"Airport Code":"FLL",lat:26.072599411010742,lon:-80.15270233154297,"Airport Name":"Ft. Lauderdale-Hollywood International"}},DEN:{"2013/11":{counts:{"Approve in Full":1},values:{"Approve in Full":199}},"2013/10":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{Deny:11,Settle:1,Open:1},values:{Deny:0,Settle:179.99,Open:0}},"2014/10":{counts:{"Approve in Full":2,Deny:2,Open:1},values:{"Approve in Full":835.23,Deny:0,Open:0}},"2014/11":{counts:{"Approve in Full":3,Deny:4,Open:6},values:{"Approve in Full":294.90999999999997,Deny:0,Open:0}},airport:{"Airport Code":"DEN",lat:39.861698150635,lon:-104.672996521,"Airport Name":"Denver International Airport "},total:164,"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{"Approve in Full":3,Deny:5,Open:5},values:{"Approve in Full":160.25,Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":3,Deny:4,Settle:2,Open:9},values:{"Approve in Full":219.95,Deny:0,Settle:524.13,Open:0}},"2014/07":{counts:{"Approve in Full":2,Deny:1,Open:1},values:{"Approve in Full":96.96000000000001,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":2,Deny:7,Settle:3,Open:7},values:{"Approve in Full":355.6,Deny:0,Settle:718.9200000000001,Open:0}},"2014/05":{counts:{"Approve in Full":2,Deny:7},values:{"Approve in Full":109.4,Deny:0}},"2014/04":{counts:{"Approve in Full":4,Deny:8,Settle:3,Open:2},values:{"Approve in Full":1082.27,Deny:0,Settle:427.79,Open:0}},"2014/03":{counts:{"Approve in Full":4,Deny:10,Open:3},values:{"Approve in Full":768.44,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":4,Deny:13,Settle:1},values:{"Approve in Full":159.41000000000003,Deny:0,Settle:227.36}},"2014/01":{counts:{"Approve in Full":3,Deny:11,Settle:1},values:{"Approve in Full":519.6800000000001,Deny:0,Settle:6}}},SMF:{"2013/11":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:1},values:{"Approve in Full":140,Deny:0,Settle:30,Open:0}},total:52,"2013/12":{counts:{"Approve in Full":3,Deny:2,Settle:1,Open:1},values:{"Approve in Full":150.86,Deny:0,Settle:467.5,Open:0}},"2013/09":{counts:{"Approve in Full":1},values:{"Approve in Full":6183.36}},"2014/10":{counts:{Open:4},values:{Open:0}},"2013/03":{counts:{"Approve in Full":1},values:{"Approve in Full":25}},"2014/11":{counts:{Open:5},values:{Open:0}},airport:{"Airport Code":"SMF",lat:38.69540023803711,lon:-121.59100341796875,"Airport Name":"Sacramento International Airport"},"2014/09":{counts:{"Approve in Full":2},values:{"Approve in Full":39.7}},"2014/08":{counts:{Open:2},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:2,Open:2},values:{"Approve in Full":975.42,Deny:0,Open:0}},"2014/06":{counts:{Settle:1},values:{Settle:837}},"2014/05":{counts:{"Approve in Full":1,Deny:1,Open:2},values:{"Approve in Full":45.5,Deny:0,Open:0}},"2014/04":{counts:{Open:2},values:{Open:0}},"2014/03":{counts:{"Approve in Full":3,Deny:1,Open:2},values:{"Approve in Full":217.56,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":1,Deny:1,Settle:1},values:{"Approve in Full":11.99,Deny:0,Settle:75}},"2014/01":{counts:{"Approve in Full":2,Deny:1,Settle:2},values:{"Approve in Full":141.71,Deny:0,Settle:531.31}}},DTW:{"2013/10":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/12":{counts:{"Approve in Full":1,Deny:4,Open:1},values:{"Approve in Full":78.87,Deny:0,Open:0}},"2014/10":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/03":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Deny:1,Open:3},values:{Deny:0,Open:0}},airport:{"Airport Code":"DTW",lat:42.212398529052734,lon:-83.35340118408203,"Airport Name":"Detroit Metropolitan Wayne County Airport"},total:74,"2014/12":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":10,Deny:0}},"2014/09":{counts:{Deny:2,Settle:1,Open:3},values:{Deny:0,Settle:340,Open:0}},"2014/08":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:3,Settle:1,Open:2},values:{"Approve in Full":87.23,Deny:0,Settle:362.5,Open:0}},"2014/06":{counts:{Deny:2,Open:4},values:{Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:3,Settle:2,Open:2},values:{"Approve in Full":45,Deny:0,Settle:556.4,Open:0}},"2014/04":{counts:{"Approve in Full":2,Deny:2,Open:2},values:{"Approve in Full":385,Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:4},values:{"Approve in Full":13.77,Deny:0}},"2014/02":{counts:{Deny:5},values:{Deny:0}},"2014/01":{counts:{"Approve in Full":1,Deny:10},values:{"Approve in Full":30.36,Deny:0}}},EVV:{"2014/06":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"EVV",lat:38.0369987488,lon:-87.5324020386,"Airport Name":"Evansville Regional Airport"},total:1},EWN:{"2013/11":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"EWN",lat:35.0730018616,lon:-77.04290008539999,"Airport Name":"Craven County Regional"},total:4,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":276.41,Open:0}}},LSE:{airport:{"Airport Code":"LSE",lat:43.879002,lon:-91.256699,"Airport Name":"La Crosse Municipal"},total:1,"2014/08":{counts:{"Approve in Full":1},values:{"Approve in Full":18.9}}},MFE:{total:3,"2014/05":{counts:{Settle:1},values:{Settle:130.5}},"2014/04":{counts:{Open:1},values:{Open:0}},"2014/03":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"MFE",lat:26.17580032,lon:-98.23860168,"Airport Name":"McAllen-Miller International"}},SCK:{total:2,airport:{"Airport Code":"SCK",lat:37.894199371338,lon:-121.2379989624,"Airport Name":"Stockton"},"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":60}},"2014/03":{counts:{Settle:1},values:{Settle:137.5}}},VIS:{"2013/10":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"VIS",lat:36.3186988831,lon:-119.392997742,"Airport Name":"Visalia Municipal"},total:1},BUR:{"2013/11":{counts:{Deny:1},values:{Deny:0}},"2013/06":{counts:{"Approve in Full":1},values:{"Approve in Full":486.48}},"2013/07":{counts:{Deny:1},values:{Deny:0}},"2014/02":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"BUR",lat:34.20069885253906,lon:-118.35900115966797,"Airport Name":"Bob Hope "},"2014/10":{counts:{Open:2},values:{Open:0}},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:3},values:{Open:0}},"2014/07":{counts:{Deny:1},values:{Deny:0}},"2014/06":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":249,Deny:0}},"2014/05":{counts:{"Approve in Full":3,Deny:1},values:{"Approve in Full":313.98,Deny:0}},total:22,"2014/03":{counts:{"Approve in Full":1,Settle:1},values:{"Approve in Full":75,Settle:279.99}},"2014/11":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Settle:1},values:{Settle:87.5}}},ROA:{airport:{"Airport Code":"ROA",lat:37.325500488299994,lon:-79.975402832,"Airport Name":"Roanoke Regional Airport"},total:3,"2014/11":{counts:{Open:2},values:{Open:0}},"2014/09":{counts:{Open:1},values:{Open:0}}},BMI:{"2014/05":{counts:{"Approve in Full":1},values:{"Approve in Full":24.44}},total:3,"2014/03":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"BMI",lat:40.47710037,lon:-88.91590118,"Airport Name":"Bloomington-Normal Airport"},"2014/09":{counts:{Open:1},values:{Open:0}}},SCC:{total:1,airport:{"Airport Code":"SCC",lat:70.19470215,lon:-148.4649963,"Airport Name":"Deadhorse"},"2014/04":{counts:{"Approve in Full":1},values:{"Approve in Full":30}}},KTN:{"2013/10":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"KTN",lat:55.35559845,lon:-131.7140045,"Airport Name":"Ketchikan International"},total:2,"2014/01":{counts:{Open:1},values:{Open:0}}},MFR:{airport:{"Airport Code":"MFR",lat:42.37419891357422,lon:-122.87300109863281,"Airport Name":"Rogue Valley International"},total:5,"2014/09":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":128.88}},"2014/11":{counts:{Open:3},values:{Open:0}}},DAL:{total:34,"2013/12":{counts:{Settle:1},values:{Settle:225}},"2013/07":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:4},values:{Open:0}},airport:{"Airport Code":"DAL",lat:32.84709930419922,lon:-96.85179901123047,"Airport Name":"Dallas Love Field"},"2014/10":{counts:{Open:3},values:{Open:0}},"2014/12":{counts:{Settle:1,Open:1},values:{Settle:1039.99,Open:0}},"2014/09":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{Settle:1,Open:1},values:{Settle:369.99,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:2},values:{"Approve in Full":32.46,Deny:0,Settle:25,Open:0}},"2014/06":{counts:{Settle:2,Open:1},values:{Settle:248.39,Open:0}},"2014/05":{counts:{"Approve in Full":1},values:{"Approve in Full":36.98}},"2014/04":{counts:{Deny:2,Settle:1},values:{Deny:0,Settle:339.34}},"2014/03":{counts:{Deny:4},values:{Deny:0}},"2014/02":{counts:{Settle:1},values:{Settle:67.5}},"2014/01":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":21.34,Deny:0,Open:0}}},GEG:{"2013/12":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2014/10":{counts:{Open:2},values:{Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"GEG",lat:47.61989974975586,lon:-117.53399658203125,"Airport Name":"Spokane International"},"2014/09":{counts:{Open:2},values:{Open:0}},"2014/07":{counts:{Open:2},values:{Open:0}},"2014/06":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/05":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},total:22,"2014/03":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":293,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":145}},"2014/01":{counts:{"Approve in Full":1,Deny:3},values:{"Approve in Full":259.8,Deny:0}}},TTN:{"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"TTN",lat:40.27669906616211,lon:-74.8134994506836,"Airport Name":"Trenton-Mercer"},total:5,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}}},OMA:{total:27,"2013/12":{counts:{Settle:1},values:{Settle:269.4}},"2013/06":{counts:{"Approve in Full":1},values:{"Approve in Full":110}},"2014/10":{counts:{"Approve in Full":1,Open:3},values:{"Approve in Full":11,Open:0}},"2013/01":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"OMA",lat:41.303199768066406,lon:-95.89409637451172,"Airport Name":"Eppley Airfield"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:2},values:{Open:0}},"2014/07":{counts:{"Approve in Full":2,Open:1},values:{"Approve in Full":77.59,Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":15,Deny:0,Open:0}},"2014/04":{counts:{Deny:3,Open:1},values:{Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:2,Open:1},values:{"Approve in Full":43.81,Deny:0,Open:0}},"2014/02":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{"Approve in Full":1},values:{"Approve in Full":33.25}}},ABI:{"2013/03":{counts:{"Approve in Full":1},values:{"Approve in Full":499}},airport:{"Airport Code":"ABI",lat:32.4113006592,lon:-99.68190002440001,"Airport Name":"Abilene Regional"},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:6,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":64.94}}},SUX:{total:2,airport:{"Airport Code":"SUX",lat:42.40259933,lon:-96.38439941,"Airport Name":"Sioux Gateway"},"2013/12":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}}},BUF:{"2013/11":{counts:{Deny:1},values:{Deny:0}},total:30,"2013/12":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/08":{counts:{Deny:1},values:{Deny:0}},"2013/09":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:3},values:{Open:0}},airport:{"Airport Code":"BUF",lat:42.94049835,lon:-78.73220062,"Airport Name":"Buffalo Niagara International"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:3},values:{Open:0}},"2014/07":{counts:{Open:5},values:{Open:0}},"2014/06":{counts:{Open:2},values:{Open:0}},"2014/05":{counts:{"Approve in Full":2,Open:2},values:{"Approve in Full":350,Open:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{Deny:2},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Deny:1,Settle:1,Open:1},values:{Deny:0,Settle:50.85,Open:0}}},GCK:{airport:{"Airport Code":"GCK",lat:37.9275016785,lon:-100.723999023,"Airport Name":"Garden City Municipal"},total:1,"2014/08":{counts:{Open:1},values:{Open:0}}},ANC:{total:27,"2014/11":{counts:{Open:1},values:{Open:0}},"2013/01":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"ANC",lat:61.174400329589844,lon:-149.99600219726562,"Airport Name":"Ted Stevens Anchorage International Airport"},"2014/09":{counts:{Open:4},values:{Open:0}},"2014/08":{counts:{"Approve in Full":1,Open:2},values:{"Approve in Full":130,Open:0}},"2014/07":{counts:{"Approve in Full":3,Deny:2,Settle:1},values:{"Approve in Full":143.99,Deny:0,Settle:137.96}},"2014/06":{counts:{"Approve in Full":1,Deny:2,Settle:1,Open:1},values:{"Approve in Full":13.04,Deny:0,Settle:22.55,Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},"2014/04":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":125,Deny:0}},"2014/03":{counts:{Deny:2},values:{Deny:0}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":183.4}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},TRI:{total:11,airport:{"Airport Code":"TRI",lat:36.47520065307617,lon:-82.40740203857422,"Airport Name":"Tri-Cities Regional"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:3},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":129.99,Deny:0}},"2014/04":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Deny:2},values:{Deny:0}},"2014/12":{counts:{Open:1},values:{Open:0}}},GCC:{total:1,airport:{"Airport Code":"GCC",lat:44.348899841299996,lon:-105.539001465,"Airport Name":"Gillette-Campbell County"},"2014/04":{counts:{"Approve in Full":1},values:{"Approve in Full":906.3}}},BLV:{"2014/07":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"BLV",lat:38.5452,lon:-89.835197,"Airport Name":"Midamerica Airport"},total:2,"2014/01":{counts:{Settle:1},values:{Settle:2001.98}}},GRR:{total:13,"2014/10":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":106.95,Open:0}},airport:{"Airport Code":"GRR",lat:42.88079834,lon:-85.52279663,"Airport Name":"Gerald R. Ford International Airport"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{Deny:1,Open:2},values:{Deny:0,Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},"2014/04":{counts:{"Approve in Full":1,Settle:1},values:{"Approve in Full":527.88,Settle:646.45}},"2014/03":{counts:{"Approve in Full":2},values:{"Approve in Full":158.81}}},MHK:{total:6,airport:{"Airport Code":"MHK",lat:39.14099884033203,lon:-96.6707992553711,"Airport Name":"Manhattan Regional"},"2014/07":{counts:{Deny:1},values:{Deny:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/04":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":13.99,Deny:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},SHV:{total:7,"2013/01":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"SHV",lat:32.44660186767578,lon:-93.82559967041016,"Airport Name":"Shreveport Regional"},"2012/12":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1},values:{"Approve in Full":400}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{Deny:1},values:{Deny:0}}},BDL:{total:42,"2013/12":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/09":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/10":{counts:{Open:2},values:{Open:0}},"2012/11":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"BDL",lat:41.9388999939,lon:-72.68319702149999,"Airport Name":"Bradley International Airport"},"2014/09":{counts:{"Approve in Full":1,Open:2},values:{"Approve in Full":110,Open:0}},"2014/08":{counts:{"Approve in Full":2,Open:1},values:{"Approve in Full":123.53999999999999,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:2,Settle:1,Open:1},values:{"Approve in Full":9.56,Deny:0,Settle:88.99,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:1,Open:5},values:{"Approve in Full":159.99,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:1},values:{"Approve in Full":19.89,Deny:0,Settle:1429.73,Open:0}},"2014/04":{counts:{"Approve in Full":2,Open:1},values:{"Approve in Full":515.76,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:3,Open:1},values:{"Approve in Full":110,Deny:0,Open:0}},"2014/02":{counts:{Settle:1,Open:2},values:{Settle:178.61,Open:0}},"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":233.23}}},CSG:{airport:{"Airport Code":"CSG",lat:32.516300201416016,lon:-84.93890380859375,"Airport Name":"Columbus Metroplitan"},total:1,"2014/09":{counts:{Open:1},values:{Open:0}}},DLH:{"2014/07":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"DLH",lat:46.8420982361,lon:-92.19360351559999,"Airport Name":"Duluth, MN"},total:4,"2014/09":{counts:{Deny:2},values:{Deny:0}},"2014/08":{counts:{Open:1},values:{Open:0}}},YKM:{airport:{"Airport Code":"YKM",lat:46.56819916,lon:-120.5439987,"Airport Name":"Yakima Air Terminal-Mcallister"},total:1,"2014/10":{counts:{Open:1},values:{Open:0}}},ORF:{"2013/11":{counts:{Open:1},values:{Open:0}},"2013/12":{counts:{"Approve in Full":1,Deny:2,Open:3},values:{"Approve in Full":139.99,Deny:0,Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"ORF",lat:36.89459991455078,lon:-76.20120239257812,"Airport Name":"Norfolk International"},"2014/08":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":32.8,Deny:0}},"2014/07":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":85,Open:0}},total:19,"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":30,Deny:0}}},DSM:{total:14,"2013/12":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"DSM",lat:41.534000396728516,lon:-93.66310119628906,"Airport Name":"Des Moines International"},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:2},values:{Open:0}},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/04":{counts:{"Approve in Full":1,Open:2},values:{"Approve in Full":39.99,Open:0}},"2014/03":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":158.99,Open:0}},"2014/01":{counts:{Deny:2},values:{Deny:0}}},GRB:{total:6,"2013/12":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},airport:{"Airport Code":"GRB",lat:44.48509979248047,lon:-88.12960052490234,"Airport Name":"Austin Straubel International"},"2014/08":{counts:{"Approve in Full":1},values:{"Approve in Full":79.99}},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:1},values:{Open:0}}},ENV:{airport:{"Airport Code":"ENV",lat:40.7187004089,lon:-114.03099823,"Airport Name":"Wendover Municipal Airport"},total:2,"2014/11":{counts:{Open:1},values:{Open:0}},"2014/12":{counts:{Open:1},values:{Open:0}}},SFO:{"2013/11":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":899.99,Deny:0}},"2012/09":{counts:{Open:1},values:{Open:0}},"2013/12":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{Open:2},values:{Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"SFO",lat:37.61899948120117,lon:-122.375,"Airport Name":"San Francisco International"},total:29,"2014/09":{counts:{Open:3},values:{Open:0}},"2014/08":{counts:{Open:3},values:{Open:0}},"2014/07":{counts:{Open:3},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Open:4},values:{Open:0}},"2014/04":{counts:{Open:1},values:{Open:0}},"2014/03":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{Open:4},values:{Open:0}},"2014/12":{counts:{Open:2},values:{Open:0}}},EWR:{"2014/09":{counts:{"Approve in Full":2,Settle:1,Open:14},values:{"Approve in Full":71.61,Settle:489.4,Open:0}},"2014/08":{counts:{"Approve in Full":1,Open:15},values:{"Approve in Full":475,Open:0}},"2014/07":{counts:{Deny:3,Settle:2,Open:30},values:{Deny:0,Settle:2604.77,Open:0}},"2014/06":{counts:{"Approve in Full":4,Deny:3,Settle:1,Open:20},values:{"Approve in Full":309.84000000000003,Deny:0,Settle:265.34,Open:0}},"2014/05":{counts:{"Approve in Full":6,Deny:8,Settle:1,Open:16},values:{"Approve in Full":363.77,Deny:0,Settle:1463.31,Open:0}},total:341,"2014/03":{counts:{"Approve in Full":8,Deny:6,Settle:3,Open:5},values:{"Approve in Full":698.05,Deny:0,Settle:1947.22,Open:0}},"2014/02":{counts:{"Approve in Full":6,Deny:10,Settle:6,Open:7},values:{"Approve in Full":451.96999999999997,Deny:0,Settle:1973.3200000000002,Open:0}},"2014/01":{counts:{"Approve in Full":2,Deny:11,Settle:4,Open:3},values:{"Approve in Full":148,Deny:0,Settle:1041.5900000000001,Open:0}},"2014/04":{counts:{"Approve in Full":9,Deny:14,Settle:7,Open:3},values:{"Approve in Full":1704.49,Deny:0,Settle:1745.97,Open:0}},"2013/08":{counts:{Open:1},values:{Open:0}},"2013/09":{counts:{"Approve in Full":1,Deny:1,Settle:3},values:{"Approve in Full":321.18,Deny:0,Settle:423.24}},"2013/07":{counts:{"Approve in Full":1},values:{"Approve in Full":100}},"2013/03":{counts:{"Approve in Full":1},values:{"Approve in Full":50}},"2012/08":{counts:{Settle:1},values:{Settle:352.59}},"2014/10":{counts:{Open:33},values:{Open:0}},"2014/11":{counts:{Settle:1,Open:29},values:{Settle:269.63,Open:0}},"2014/12":{counts:{Open:6},values:{Open:0}},"2013/11":{counts:{"Approve in Full":3,Deny:2,Open:1},values:{"Approve in Full":1491.89,Deny:0,Open:0}},"2013/10":{counts:{"Approve in Full":2,Deny:2,Settle:1},values:{"Approve in Full":81.07,Deny:0,Settle:145.5}},"2013/12":{counts:{"Approve in Full":3,Deny:16,Settle:1,Open:1},values:{"Approve in Full":840,Deny:0,Settle:110.93,Open:0}},airport:{"Airport Code":"EWR",lat:40.692501068115234,lon:-74.168701171875,"Airport Name":"Newark International Airport"}},MHT:{total:22,"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":90}},"2014/10":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},airport:{"Airport Code":"MHT",lat:42.93259811401367,lon:-71.43569946289062,"Airport Name":"Manchester Regional Airport"},"2014/09":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{"Approve in Full":1,Open:3},values:{"Approve in Full":11,Open:0}},"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":69}},"2014/05":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":100,Deny:0,Open:0}},"2014/04":{counts:{Open:1},values:{Open:0}},"2014/03":{counts:{Deny:2},values:{Deny:0}},"2014/02":{counts:{"Approve in Full":2,Deny:3},values:{"Approve in Full":110.34,Deny:0}},"2014/01":{counts:{Deny:2},values:{Deny:0}}},PBI:{"2013/11":{counts:{Open:1},values:{Open:0}},"2013/10":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{"Approve in Full":4,Open:1},values:{"Approve in Full":1523.98,Open:0}},"2014/10":{counts:{Open:1},values:{Open:0}},"2012/02":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:2},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"PBI",lat:26.68320083618164,lon:-80.09559631347656,"Airport Name":"Palm Beach International"},total:51,"2014/12":{counts:{Open:3},values:{Open:0}},"2014/09":{counts:{Open:1},values:{Open:0}},"2012/11":{counts:{"Approve in Full":1},values:{"Approve in Full":60}},"2014/07":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2014/06":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:2,Settle:1,Open:3},values:{"Approve in Full":50,Deny:0,Settle:1865,Open:0}},"2014/04":{counts:{"Approve in Full":2,Deny:2,Settle:1,Open:2},values:{"Approve in Full":125,Deny:0,Settle:56.38,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:1,Open:3},values:{"Approve in Full":160,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":2,Deny:1,Settle:1,Open:1},values:{"Approve in Full":255,Deny:0,Settle:314.32,Open:0}},"2014/01":{counts:{"Approve in Full":2,Deny:3},values:{"Approve in Full":346.15999999999997,Deny:0}}},GRK:{"2014/07":{counts:{Deny:1},values:{Deny:0}},"2014/06":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":7.91,Deny:0}},airport:{"Airport Code":"GRK",lat:31.067199707,lon:-97.82890319820001,"Airport Name":"Kileen - Ft. Hood Regional"},total:5,"2014/08":{counts:{Open:2},values:{Open:0}}},GRI:{"2014/06":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"GRI",lat:40.967498779296875,lon:-98.30960083007812,"Airport Name":"Central Nebraska Regional"},total:2,"2014/02":{counts:{Deny:1},values:{Deny:0}}},CLL:{"2014/07":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"CLL",lat:30.58860016,lon:-96.36380005,"Airport Name":"Easterwood/College Station, TX"},total:4,"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{Open:2},values:{Open:0}}},STT:{"2013/12":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"STT",lat:18.337299346923828,lon:-64.97339630126953,"Airport Name":"Cyril E. King International"},"2014/09":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{Settle:1,Open:1},values:{Settle:12.99,Open:0}},"2014/07":{counts:{"Approve in Full":1,Settle:1,Open:1},values:{"Approve in Full":20,Settle:110,Open:0}},"2014/06":{counts:{Deny:1},values:{Deny:0}},"2014/05":{counts:{Settle:1},values:{Settle:610}},total:16,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/02":{counts:{"Approve in Full":1,Deny:1,Settle:1},values:{"Approve in Full":19.95,Deny:0,Settle:45}},"2014/01":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":50,Deny:0}}},BTV:{"2013/12":{counts:{Deny:1},values:{Deny:0}},"2013/08":{counts:{"Approve in Full":1},values:{"Approve in Full":15}},airport:{"Airport Code":"BTV",lat:44.471900939899996,lon:-73.15329742429999,"Airport Name":"Burlington, VT"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:3},values:{Open:0}},"2014/06":{counts:{Open:2},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":23.76,Deny:0}},total:14,"2014/10":{counts:{Deny:1,Open:2},values:{Deny:0,Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}}},RNO:{"2012/09":{counts:{Deny:1},values:{Deny:0}},total:37,"2013/12":{counts:{"Approve in Full":3},values:{"Approve in Full":162.44}},"2013/09":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"RNO",lat:39.49909973144531,lon:-119.76799774169922,"Airport Name":"Reno/Tahoe International"},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":142.38,Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":47,Deny:0}},"2014/07":{counts:{"Approve in Full":2},values:{"Approve in Full":1081.99}},"2014/06":{counts:{"Approve in Full":4,Deny:1},values:{"Approve in Full":338.31,Deny:0}},"2014/05":{counts:{"Approve in Full":1,Settle:2,Open:1},values:{"Approve in Full":90,Settle:1220.77,Open:0}},"2014/04":{counts:{"Approve in Full":3,Deny:1,Open:1},values:{"Approve in Full":114.58999999999999,Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:3},values:{"Approve in Full":137.93,Deny:0}},"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{"Approve in Full":3,Deny:1},values:{"Approve in Full":354.08,Deny:0}}},LRD:{total:1,airport:{"Airport Code":"LRD",lat:27.543800354003906,lon:-99.46160125732422,"Airport Name":"Laredo International"},"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":80}}},BTR:{"2013/12":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":48.93,Open:0}},airport:{"Airport Code":"BTR",lat:30.53319931,lon:-91.14959717,"Airport Name":"Baton Rouge Metropolitan"},"2014/09":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":64.86,Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}},total:9,"2014/03":{counts:{"Approve in Full":1},values:{"Approve in Full":72}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":45}},"2014/12":{counts:{Open:2},values:{Open:0}}},PSC:{total:3,airport:{"Airport Code":"PSC",lat:46.26470184326172,lon:-119.11900329589844,"Airport Name":"Tri-Cities"},"2013/12":{counts:{"Approve in Full":2},values:{"Approve in Full":197.43}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},GNV:{"2014/05":{counts:{Open:1},values:{Open:0}},total:1,airport:{"Airport Code":"GNV",lat:29.6900997162,lon:-82.2717971802,"Airport Name":"Gainesville Regional"}},AVP:{total:3,"2014/06":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"AVP",lat:41.338500976599995,lon:-75.72339630130001,"Airport Name":"Wilkes-Barre/Scranton International"},"2013/12":{counts:{Open:1},values:{Open:0}},"2014/03":{counts:{"Approve in Full":1},values:{"Approve in Full":64.02}}},PSG:{"2014/07":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"PSG",lat:56.80170059,lon:-132.9450073,"Airport Name":"Petersburg"},total:1},MOT:{airport:{"Airport Code":"MOT",lat:48.2593994140625,lon:-101.27999877929688,"Airport Name":"Minot International"},total:2,"2014/02":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}}},AVL:{"2013/12":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":99.99,Deny:0}},"2014/11":{counts:{"Approve in Full":1},values:{"Approve in Full":47.08}},airport:{"Airport Code":"AVL",lat:35.43619918823242,lon:-82.54180145263672,"Airport Name":"Asheville Regional Airport"},"2014/09":{counts:{Open:1},values:{Open:0}},total:6,"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":357.17}}},HLN:{airport:{"Airport Code":"HLN",lat:46.6068000793457,lon:-111.98300170898438,"Airport Name":"Helena Regional"},total:1,"2012/06":{counts:{"Approve in Full":1},values:{"Approve in Full":224.99}}},OKC:{"2013/12":{counts:{Settle:1},values:{Settle:450}},"2014/10":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"OKC",lat:35.39310073852539,lon:-97.60070037841797,"Airport Name":"Will Rogers World"},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Open:1},values:{Open:0}},total:13,"2014/06":{counts:{Deny:2},values:{Deny:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{"Approve in Full":1},values:{"Approve in Full":39.95}},"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":29.95,Deny:0}}},MGW:{airport:{"Airport Code":"MGW",lat:39.64289856,lon:-79.91629791,"Airport Name":"Morgantown Municipal"},total:1,"2014/10":{counts:{Open:1},values:{Open:0}}},IND:{total:41,"2013/12":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/10":{counts:{Open:2},values:{Open:0}},"2014/11":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":39.99,Open:0}},airport:{"Airport Code":"IND",lat:39.7173,lon:-86.294403,"Airport Name":"Indianapolis International"},"2014/12":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":40,Open:0}},"2014/09":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":100,Open:0}},"2014/08":{counts:{Open:3},values:{Open:0}},"2014/07":{counts:{Deny:2,Settle:1,Open:1},values:{Deny:0,Settle:449.99,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:3,Open:4},values:{"Approve in Full":70,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:1},values:{"Approve in Full":20,Deny:0,Settle:134.39,Open:0}},"2014/04":{counts:{"Approve in Full":1,Deny:1,Settle:2},values:{"Approve in Full":228.11,Deny:0,Settle:559.81}},"2014/03":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":325,Deny:0}},"2014/02":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/01":{counts:{Deny:4},values:{Deny:0}}},BLI:{"2014/03":{counts:{Settle:1},values:{Settle:13}},airport:{"Airport Code":"BLI",lat:48.79280090332031,lon:-122.53800201416016,"Airport Name":"Bellingham International"},"2014/06":{counts:{Open:1},values:{Open:0}},total:5,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},PSP:{total:18,"2013/12":{counts:{Deny:1,Settle:1},values:{Deny:0,Settle:84}},"2014/10":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"PSP",lat:33.8297004699707,lon:-116.50700378417969,"Airport Name":"Palm Springs International"},"2014/07":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/05":{counts:{Deny:3},values:{Deny:0}},"2014/04":{counts:{Deny:2},values:{Deny:0}},"2014/03":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:1},values:{"Approve in Full":199.99,Deny:0,Settle:99.99,Open:0}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":218.47}},"2014/01":{counts:{Settle:1,Open:1},values:{Settle:79.99,Open:0}}},LAS:{"2013/11":{counts:{Deny:3,Open:1},values:{Deny:0,Open:0}},"2013/10":{counts:{Deny:3,Open:2},values:{Deny:0,Open:0}},"2013/12":{counts:{Deny:5,Settle:1},values:{Deny:0,Settle:444.6}},"2014/03":{counts:{"Approve in Full":4,Deny:18},values:{"Approve in Full":1424,Deny:0}},"2013/04":{counts:{Deny:1},values:{Deny:0}},"2012/04":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Deny:4,Open:6},values:{Deny:0,Open:0}},airport:{"Airport Code":"LAS",lat:36.08010101,lon:-115.1520004,"Airport Name":"McCarran International"},total:215,"2014/12":{counts:{"Approve in Full":2,Deny:7,Open:2},values:{"Approve in Full":215,Deny:0,Open:0}},"2014/09":{counts:{Deny:13,Open:6},values:{Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":1,Deny:7,Settle:1,Open:4},values:{"Approve in Full":175,Deny:0,Settle:558.65,Open:0}},"2014/07":{counts:{"Approve in Full":2,Deny:18,Open:1},values:{"Approve in Full":255.23000000000002,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":3,Deny:14,Open:1},values:{"Approve in Full":182.98,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":2,Deny:13,Open:6},values:{"Approve in Full":67.68,Deny:0,Open:0}},"2014/04":{counts:{Deny:17,Open:2},values:{Deny:0,Open:0}},"2014/10":{counts:{"Approve in Full":2,Deny:9,Settle:2,Open:7},values:{"Approve in Full":187.15,Deny:0,Settle:583.04,Open:0}},"2014/02":{counts:{Deny:7,Settle:1},values:{Deny:0,Settle:329.99}},"2014/01":{counts:{"Approve in Full":2,Deny:11,Settle:1,Open:2},values:{"Approve in Full":140.94,Deny:0,Settle:347.84,Open:0}}},LCK:{"2014/06":{counts:{"Approve in Full":1},values:{"Approve in Full":180}},airport:{"Airport Code":"LCK",lat:39.813801,lon:-82.927803,"Airport Name":"Rickenbacker International Airport"},total:4,"2014/10":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":169.59,Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}}},LCH:{airport:{"Airport Code":"LCH",lat:30.126100540161133,lon:-93.22329711914062,"Airport Name":"Lake Charles Regional Airport"},total:1,"2014/03":{counts:{Open:1},values:{Open:0}}},GLH:{total:2,airport:{"Airport Code":"GLH",lat:33.4828987121582,lon:-90.98560333251953,"Airport Name":"Mid Delta Regional"},"2013/12":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}}},ILG:{total:7,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2013/01":{counts:{Settle:1},values:{Settle:522}},airport:{"Airport Code":"ILG",lat:39.67869949,lon:-75.60649872,"Airport Name":"New Castle Airport"},"2014/06":{counts:{"Approve in Full":1},values:{"Approve in Full":106}},"2014/04":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":134.59,Deny:0}},"2014/10":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}}},COS:{"2013/12":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"COS",lat:38.805801391602,lon:-104.70099639893,"Airport Name":"Colorado Springs Municipal"},total:7,"2014/06":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/05":{counts:{Deny:2},values:{Deny:0}},"2014/04":{counts:{Deny:2},values:{Deny:0}}},SPS:{"2014/05":{counts:{Open:1},values:{Open:0}},total:1,airport:{"Airport Code":"SPS",lat:33.98880005,lon:-98.49189758,"Airport Name":"Sheppard AFB/Wichita Falls Municipal"}},COU:{"2014/07":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"COU",lat:38.81809997558594,lon:-92.21959686279297,"Airport Name":"Columbia, MO"},total:2},JBR:{airport:{"Airport Code":"JBR",lat:35.83169937133789,lon:-90.64640045166016,"Airport Name":"Jonesboro Municipal Airport"},total:1,"2014/11":{counts:{Open:1},values:{Open:0}}},ACK:{"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":120}},airport:{"Airport Code":"ACK",lat:41.25310135,lon:-70.06020355,"Airport Name":"Nantucket Memorial Airport"},total:2,"2014/09":{counts:{"Approve in Full":1},values:{"Approve in Full":50}}},SUN:{airport:{"Airport Code":"SUN",lat:43.50439835,lon:-114.2959976,"Airport Name":"Friedman Memorial"},total:2,"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/09":{counts:{Open:1},values:{Open:0}}},ATL:{"2013/11":{counts:{Open:2},values:{Open:0}},"2013/10":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":648.95,Deny:0}},"2013/12":{counts:{"Approve in Full":2,Deny:8,Settle:4,Open:4},values:{"Approve in Full":123,Deny:0,Settle:2404.02,Open:0}},"2014/09":{counts:{"Approve in Full":1,Deny:3,Open:23},values:{"Approve in Full":140,Deny:0,Open:0}},"2014/10":{counts:{"Approve in Full":2,Deny:1,Settle:1,Open:27},values:{"Approve in Full":543.9300000000001,Deny:0,Settle:663.04,Open:0}},"2013/05":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":110,Deny:0}},"2013/02":{counts:{Deny:1},values:{Deny:0}},"2014/02":{counts:{"Approve in Full":6,Deny:8,Settle:2,Open:3},values:{"Approve in Full":1090.73,Deny:0,Settle:742.2,Open:0}},airport:{"Airport Code":"ATL",lat:33.63669967651367,lon:-84.4281005859375,"Airport Name":"Hartsfield-Jackson Atlanta International Airport"},total:302,"2014/12":{counts:{Open:6},values:{Open:0}},"2012/10":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{"Approve in Full":5,Deny:8,Settle:2,Open:12},values:{"Approve in Full":421.38,Deny:0,Settle:2605.42,Open:0}},"2014/07":{counts:{"Approve in Full":5,Deny:10,Settle:3,Open:11},values:{"Approve in Full":638,Deny:0,Settle:1437.77,Open:0}},"2014/06":{counts:{"Approve in Full":13,Deny:9,Settle:2,Open:2},values:{"Approve in Full":2802.4799999999996,Deny:0,Settle:943.19,Open:0}},"2014/05":{counts:{"Approve in Full":5,Deny:9,Open:3},values:{"Approve in Full":313.02,Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":6,Deny:10,Settle:1,Open:4},values:{"Approve in Full":820.4,Deny:0,Settle:193.94,Open:0}},"2014/03":{counts:{"Approve in Full":5,Deny:17,Settle:4,Open:4},values:{"Approve in Full":259.42,Deny:0,Settle:1516.0900000000001,Open:0}},"2014/11":{counts:{Open:16},values:{Open:0}},"2014/01":{counts:{"Approve in Full":5,Deny:11,Settle:4,Open:6},values:{"Approve in Full":624.97,Deny:0,Settle:1640.6,Open:0}}},ISP:{"2013/12":{counts:{Deny:2},values:{Deny:0}},airport:{"Airport Code":"ISP",lat:40.79520035,lon:-73.10019684,"Airport Name":"Long Island McArthur, Islip"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:9,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{"Approve in Full":2,Settle:1,Open:1},values:{"Approve in Full":217.16,Settle:200,Open:0}}},HNL:{"2013/11":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":330,Deny:0}},"2013/10":{counts:{Open:1},values:{Open:0}},"2013/12":{counts:{"Approve in Full":3,Deny:1,Settle:1},values:{"Approve in Full":575,Deny:0,Settle:77.27}},"2014/10":{counts:{"Approve in Full":1,Open:11},values:{"Approve in Full":65,Open:0}},"2014/11":{counts:{"Approve in Full":1,Settle:1,Open:5},values:{"Approve in Full":30,Settle:50,Open:0}},airport:{"Airport Code":"HNL",lat:21.318700790405273,lon:-157.9219970703125,"Airport Name":"Honolulu International Airport"},total:138,"2014/12":{counts:{Open:2},values:{Open:0}},"2014/09":{counts:{"Approve in Full":3,Deny:4,Open:5},values:{"Approve in Full":399.34000000000003,Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":1,Deny:2,Open:5},values:{"Approve in Full":192.16,Deny:0,Open:0}},"2014/07":{counts:{Deny:3,Open:4},values:{Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:1,Settle:5,Open:4},values:{"Approve in Full":20,Deny:0,Settle:1238.26,Open:0}},"2014/05":{counts:{"Approve in Full":8,Deny:7,Settle:4,Open:4},values:{"Approve in Full":1285.83,Deny:0,Settle:506.81,Open:0}},"2014/04":{counts:{"Approve in Full":2,Deny:7,Settle:1,Open:1},values:{"Approve in Full":186.74,Deny:0,Settle:41.5,Open:0}},"2014/03":{counts:{"Approve in Full":3,Deny:5,Settle:4,Open:1},values:{"Approve in Full":187.65,Deny:0,Settle:951.9,Open:0}},"2014/02":{counts:{"Approve in Full":2,Deny:3,Settle:1,Open:4},values:{"Approve in Full":25.15,Deny:0,Settle:71.97,Open:0}},"2014/01":{counts:{"Approve in Full":6,Deny:2,Settle:4,Open:2},values:{"Approve in Full":770.1099999999999,Deny:0,Settle:929.73,Open:0}}},SAF:{"2013/12":{counts:{Deny:1},values:{Deny:0}},"2013/07":{counts:{"Approve in Full":1},values:{"Approve in Full":200}},airport:{"Airport Code":"SAF",lat:35.617099762,lon:-106.088996887,"Airport Name":"Santa Fe Municipal"},total:5,"2014/04":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":10,Deny:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},XNA:{"2014/04":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"XNA",lat:36.281898,lon:-94.306801,"Airport Name":"Northwest Arkansas Regional"},"2014/05":{counts:{"Approve in Full":1,Settle:1},values:{"Approve in Full":76.81,Settle:130}},total:5,"2014/03":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":50}}},ATW:{"2014/06":{counts:{Deny:1,Settle:1},values:{Deny:0,Settle:223.71}},airport:{"Airport Code":"ATW",lat:44.258098602299995,lon:-88.5190963745,"Airport Name":"Outagamie County"},total:2},MSP:{"2013/11":{counts:{"Approve in Full":1},values:{"Approve in Full":95}},total:101,"2013/12":{counts:{"Approve in Full":2,Deny:4,Open:1},values:{"Approve in Full":101.99,Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":2,Deny:1,Open:1},values:{"Approve in Full":130,Deny:0,Open:0}},"2013/07":{counts:{Settle:1},values:{Settle:371.15}},"2014/11":{counts:{"Approve in Full":1,Deny:2,Open:3},values:{"Approve in Full":54.36,Deny:0,Open:0}},airport:{"Airport Code":"MSP",lat:44.881999969499994,lon:-93.22180175780001,"Airport Name":"Minneapolis/ St.Paul International Airport"},"2014/12":{counts:{Deny:2,Open:2},values:{Deny:0,Open:0}},"2014/09":{counts:{Deny:4,Open:3},values:{Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":2,Deny:4,Open:1},values:{"Approve in Full":164.19,Deny:0,Open:0}},"2014/07":{counts:{"Approve in Full":5,Open:3},values:{"Approve in Full":576.5,Open:0}},"2014/06":{counts:{"Approve in Full":4,Deny:3,Open:5},values:{"Approve in Full":2380,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:6,Open:3},values:{"Approve in Full":2300,Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":2,Deny:2,Settle:1,Open:3},values:{"Approve in Full":420.46999999999997,Deny:0,Settle:603.77,Open:0}},"2014/10":{counts:{Deny:2,Settle:1,Open:5},values:{Deny:0,Settle:97.19,Open:0}},"2014/02":{counts:{"Approve in Full":3,Deny:5,Open:1},values:{"Approve in Full":2606.62,Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":3,Deny:5,Open:1},values:{"Approve in Full":1355.6,Deny:0,Open:0}}},ISN:{airport:{"Airport Code":"ISN",lat:48.177898407,lon:-103.641998291,"Airport Name":"Sloulin Field International"},total:1,"2014/11":{counts:{"Approve in Full":1},values:{"Approve in Full":45}}},RST:{airport:{"Airport Code":"RST",lat:43.90829849243164,lon:-92.5,"Airport Name":"Rochester, MN"},total:1,"2014/01":{counts:{Deny:1},values:{Deny:0}}},ACT:{airport:{"Airport Code":"ACT",lat:31.611299514770508,lon:-97.23049926757812,"Airport Name":"Waco Regional Airport"},total:2,"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}}},BZN:{"2014/07":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":129.73,Deny:0}},"2014/10":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"BZN",lat:45.77750015,lon:-111.1529999,"Airport Name":"Gallatin Field"},total:4,"2014/03":{counts:{Settle:1},values:{Settle:1100}}},ACY:{total:10,"2013/12":{counts:{Settle:1},values:{Settle:300}},"2014/10":{counts:{Open:1},values:{Open:0}},"2013/04":{counts:{Settle:1},values:{Settle:2233.86}},airport:{"Airport Code":"ACY",lat:39.45759963989258,lon:-74.57720184326172,"Airport Name":"Atlantic City International"},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1},values:{"Approve in Full":60}},"2014/04":{counts:{"Approve in Full":1},values:{"Approve in Full":192.07}},"2014/03":{counts:{"Approve in Full":2,Settle:1},values:{"Approve in Full":116.92999999999999,Settle:287.54}}},IDA:{"2014/03":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"IDA",lat:43.51459884643555,lon:-112.07099914550781,"Airport Name":"Idaho Falls Regional"},total:4,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":8.63}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},PVU:{total:1,airport:{"Airport Code":"PVU",lat:40.219200134277,lon:-111.72299957275,"Airport Name":"Provo Municipal Airport"},"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":20}}},FWA:{"2014/08":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},total:4,airport:{"Airport Code":"FWA",lat:40.97850037,lon:-85.19509888,"Airport Name":"Ft. Wayne Municipal- Baer Field"},"2014/04":{counts:{"Approve in Full":1},values:{"Approve in Full":11.06}},"2013/12":{counts:{Settle:1},values:{Settle:25483.44}}},CID:{"2014/04":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"CID",lat:41.884700775146484,lon:-91.71080017089844,"Airport Name":"Eastern Iowa"},total:5,"2014/03":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":564.48}},"2014/01":{counts:{Settle:1,Open:1},values:{Settle:317.13,Open:0}}},ASE:{airport:{"Airport Code":"ASE",lat:39.22320175,lon:-106.8690033,"Airport Name":"Aspen Pitkin County Sardy Field"},total:1,"2014/08":{counts:{Deny:1},values:{Deny:0}}},LFT:{total:8,"2013/12":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"LFT",lat:30.20529938,lon:-91.98760223,"Airport Name":"Lafayette Regional"},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Deny:2},values:{Deny:0}},"2014/04":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Open:1},values:{Open:0}}},PVD:{"2013/11":{counts:{Open:1},values:{Open:0}},"2013/10":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{"Approve in Full":2,Settle:1},values:{"Approve in Full":204.14000000000001,Settle:89.99}},"2014/10":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/05":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:3},values:{Open:0}},airport:{"Airport Code":"PVD",lat:41.732601165771484,lon:-71.42040252685547,"Airport Name":"TF Green Airport, Providence"},total:33,"2014/12":{counts:{Open:2},values:{Open:0}},"2014/09":{counts:{"Approve in Full":1,Open:2},values:{"Approve in Full":98.41,Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":25.44,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:2,Open:1},values:{"Approve in Full":14.35,Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":60,Deny:0}},"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/02":{counts:{Deny:2},values:{Deny:0}},"2014/01":{counts:{"Approve in Full":1,Deny:2,Open:1},values:{"Approve in Full":104,Deny:0,Open:0}}},LNK:{"2014/07":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"LNK",lat:40.85100173950195,lon:-96.75920104980469,"Airport Name":"Lincoln Municipal"},total:1},ECP:{"2014/06":{counts:{"Approve in Full":1},values:{"Approve in Full":36.72}},"2014/05":{counts:{Open:1},values:{Open:0}},total:3,airport:{"Airport Code":"ECP",lat:30.357106,lon:-85.795414,"Airport Name":"Northwest Florida Beaches International Airport"},"2014/09":{counts:{Open:1},values:{Open:0}}},LBE:{"2014/06":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"LBE",lat:40.27590179,lon:-79.40480042,"Airport Name":"Arnold Palmer Regional Airport"},total:2,"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":75}}},SLC:{"2013/11":{counts:{Deny:1},values:{Deny:0}},"2013/10":{counts:{"Approve in Full":1,Settle:1},values:{"Approve in Full":16,Settle:126.71}},"2013/12":{counts:{"Approve in Full":1,Deny:3,Settle:1,Open:1},values:{"Approve in Full":319.95,Deny:0,Settle:168.95,Open:0}},"2013/09":{counts:{Deny:2},values:{Deny:0}},"2014/10":{counts:{Open:6},values:{Open:0}},"2014/11":{counts:{Deny:1,Open:3},values:{Deny:0,Open:0}},airport:{"Airport Code":"SLC",lat:40.78839874267578,lon:-111.97799682617188,"Airport Name":"Salt Lake City International Airport"},total:77,"2014/09":{counts:{Deny:1,Open:4},values:{Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":3,Deny:1,Settle:1,Open:1},values:{"Approve in Full":270.84000000000003,Deny:0,Settle:340,Open:0}},"2014/07":{counts:{"Approve in Full":3,Deny:2,Settle:1},values:{"Approve in Full":461.95000000000005,Deny:0,Settle:272.48}},"2014/06":{counts:{Settle:1,Open:1},values:{Settle:328.04,Open:0}},"2014/05":{counts:{"Approve in Full":2,Deny:3},values:{"Approve in Full":156.85,Deny:0}},"2014/04":{counts:{"Approve in Full":3,Deny:1},values:{"Approve in Full":416.28,Deny:0}},"2014/03":{counts:{"Approve in Full":1,Deny:4,Settle:1},values:{"Approve in Full":15.75,Deny:0,Settle:114.99}},"2014/02":{counts:{"Approve in Full":4,Deny:3,Settle:1,Open:2},values:{"Approve in Full":415.73999999999995,Deny:0,Settle:57.21,Open:0}},"2014/01":{counts:{"Approve in Full":3,Deny:5,Settle:3,Open:1},values:{"Approve in Full":100,Deny:0,Settle:421.7,Open:0}}},OAJ:{"2013/06":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"OAJ",lat:34.8292007446,lon:-77.61209869380001,"Airport Name":" Albert J Ellis, Jacksonville"},total:1},MDW:{"2013/11":{counts:{Settle:1},values:{Settle:70.1}},"2013/10":{counts:{"Approve in Full":2},values:{"Approve in Full":97.99}},"2013/12":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/07":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":125,Deny:0}},"2012/05":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:3},values:{Open:0}},airport:{"Airport Code":"MDW",lat:41.7859992980957,lon:-87.75240325927734,"Airport Name":"Midway International Airport"},"2014/10":{counts:{"Approve in Full":3,Open:6},values:{"Approve in Full":157.69,Open:0}},total:84,"2014/12":{counts:{Open:3},values:{Open:0}},"2014/09":{counts:{Deny:2,Open:2},values:{Deny:0,Open:0}},"2014/08":{counts:{Open:4},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:3,Settle:1,Open:2},values:{"Approve in Full":13.01,Deny:0,Settle:49.99,Open:0}},"2014/06":{counts:{"Approve in Full":5,Open:4},values:{"Approve in Full":721.01,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:2,Settle:1,Open:7},values:{"Approve in Full":50,Deny:0,Settle:486.19,Open:0}},"2014/04":{counts:{"Approve in Full":2,Deny:3,Open:6},values:{"Approve in Full":379,Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":150,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":4,Deny:1,Open:3},values:{"Approve in Full":385,Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":1,Deny:1,Open:2},values:{"Approve in Full":20,Deny:0,Open:0}}},MDT:{"2013/11":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":74.95}},airport:{"Airport Code":"MDT",lat:40.1935005188,lon:-76.7633972168,"Airport Name":"Harrisburg International"},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":62,Open:0}},total:8,"2014/03":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":188.68,Deny:0}},"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":79.99}}},PSM:{airport:{"Airport Code":"PSM",lat:43.0778999329,lon:-70.8233032227,"Airport Name":"Pease International"},total:1,"2014/03":{counts:{"Approve in Full":1},values:{"Approve in Full":11.6}}},RDU:{"2013/10":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{"Approve in Full":3,Deny:3,Settle:1},values:{"Approve in Full":1534,Deny:0,Settle:16.95}},"2014/10":{counts:{"Approve in Full":2},values:{"Approve in Full":217.99}},airport:{"Airport Code":"RDU",lat:35.877601623535156,lon:-78.7874984741211,"Airport Name":"Raleigh-Durham International"},total:51,"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":1,Deny:1,Open:5},values:{"Approve in Full":28,Deny:0,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":405,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:3},values:{"Approve in Full":740.13,Deny:0,Settle:20,Open:0}},"2014/05":{counts:{"Approve in Full":2,Deny:1,Open:3},values:{"Approve in Full":336.29,Deny:0,Open:0}},"2014/04":{counts:{Deny:2,Settle:1},values:{Deny:0,Settle:131}},"2014/03":{counts:{"Approve in Full":3,Open:1},values:{"Approve in Full":187.10000000000002,Open:0}},"2014/11":{counts:{Open:2},values:{Open:0}},"2014/01":{counts:{"Approve in Full":1,Deny:4,Settle:2},values:{"Approve in Full":254.06,Deny:0,Settle:474.99}}},MCO:{"2014/09":{counts:{"Approve in Full":4,Deny:2,Settle:1,Open:11},values:{"Approve in Full":612.99,Deny:0,Settle:372.7,Open:0}},"2014/08":{counts:{"Approve in Full":8,Deny:13,Settle:2,Open:14},values:{"Approve in Full":1514.24,Deny:0,Settle:355.34000000000003,Open:0}},"2014/07":{counts:{"Approve in Full":5,Deny:15,Settle:3,Open:7},values:{"Approve in Full":190.48000000000002,Deny:0,Settle:1302.81,Open:0}},"2014/06":{counts:{"Approve in Full":12,Deny:12,Settle:1,Open:4},values:{"Approve in Full":1462.06,Deny:0,Settle:75,Open:0}},"2014/05":{counts:{"Approve in Full":7,Deny:9,Settle:6,Open:5},values:{"Approve in Full":548.87,Deny:0,Settle:2384.58,Open:0}},"2014/04":{counts:{"Approve in Full":9,Deny:10,Settle:3,Open:2},values:{"Approve in Full":781.2600000000001,Deny:0,Settle:988.05,Open:0}},"2014/03":{counts:{"Approve in Full":21,Deny:14,Settle:2,Open:2},values:{"Approve in Full":2185.7099999999996,Deny:0,Settle:2630,Open:0}},"2014/02":{counts:{"Approve in Full":9,Deny:11,Settle:2,Open:6},values:{"Approve in Full":975.8600000000001,Deny:0,Settle:1064.98,Open:0}},"2014/01":{counts:{"Approve in Full":4,Deny:13,Settle:1,Open:4},values:{"Approve in Full":211.51,Deny:0,Settle:179.27,Open:0}},total:356,"2013/08":{counts:{"Approve in Full":2},values:{"Approve in Full":213.5}},"2013/09":{counts:{"Approve in Full":2,Settle:1},values:{"Approve in Full":383.95,Settle:117.13}},"2013/07":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":964.65,Deny:0}},"2013/05":{counts:{Deny:1},values:{Deny:0}},"2013/02":{counts:{"Approve in Full":1},values:{"Approve in Full":349.34}},"2012/09":{counts:{"Approve in Full":1},values:{"Approve in Full":48.89}},"2011/08":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{"Approve in Full":1,Deny:2,Open:27},values:{"Approve in Full":34.22,Deny:0,Open:0}},"2014/11":{counts:{Open:20},values:{Open:0}},"2014/12":{counts:{Open:4},values:{Open:0}},"2013/11":{counts:{Deny:3,Open:2},values:{Deny:0,Open:0}},"2013/10":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2013/12":{counts:{"Approve in Full":12,Deny:13,Settle:2,Open:1},values:{"Approve in Full":725.38,Deny:0,Settle:433.75,Open:0}},airport:{"Airport Code":"MCO",lat:28.429399490356445,lon:-81.30899810791016,"Airport Name":"Orlando International Airport"},"2011/12":{counts:{Deny:1},values:{Deny:0}}},PWM:{total:15,"2013/12":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"PWM",lat:43.64619827,lon:-70.30930328,"Airport Name":"Portland International Jetport"},"2014/09":{counts:{Settle:1},values:{Settle:570.46}},"2014/07":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":149.99,Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:3},values:{"Approve in Full":20,Deny:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/02":{counts:{Deny:2},values:{Deny:0}},"2014/01":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}}},SEA:{"2014/09":{counts:{"Approve in Full":3,Deny:4,Open:6},values:{"Approve in Full":502.03,Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":4,Deny:8,Settle:2,Open:15},values:{"Approve in Full":456.11,Deny:0,Settle:289.01,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:3,Open:8},values:{"Approve in Full":110,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":4,Deny:3,Open:11},values:{"Approve in Full":1654.73,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:1,Settle:2,Open:4},values:{"Approve in Full":245,Deny:0,Settle:66.58,Open:0}},"2014/04":{counts:{"Approve in Full":4,Deny:3,Settle:1,Open:12},values:{"Approve in Full":1109.03,Deny:0,Settle:587.11,Open:0}},"2014/03":{counts:{"Approve in Full":4,Deny:5,Settle:3,Open:6},values:{"Approve in Full":955.75,Deny:0,Settle:296.29,Open:0}},"2014/02":{counts:{"Approve in Full":7,Deny:10,Settle:2,Open:6},values:{"Approve in Full":386.62,Deny:0,Settle:283.02,Open:0}},"2014/01":{counts:{"Approve in Full":3,Deny:7,Settle:1,Open:4},values:{"Approve in Full":1595.94,Deny:0,Settle:150,Open:0}},total:214,"2013/08":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":300,Deny:0}},"2013/09":{counts:{Deny:1},values:{Deny:0}},"2013/06":{counts:{Settle:1},values:{Settle:115.38}},"2013/07":{counts:{"Approve in Full":1},values:{"Approve in Full":110}},"2013/05":{counts:{Open:1},values:{Open:0}},"2013/01":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Deny:3,Open:7},values:{Deny:0,Open:0}},"2014/11":{counts:{"Approve in Full":1,Deny:1,Open:5},values:{"Approve in Full":86.31,Deny:0,Open:0}},"2014/12":{counts:{"Approve in Full":1,Open:5},values:{"Approve in Full":50,Open:0}},"2013/11":{counts:{Open:2},values:{Open:0}},"2013/10":{counts:{"Approve in Full":2,Deny:1,Open:1},values:{"Approve in Full":774.96,Deny:0,Open:0}},"2013/12":{counts:{"Approve in Full":6,Deny:5,Settle:4,Open:3},values:{"Approve in Full":489.71000000000004,Deny:0,Settle:566.72,Open:0}},airport:{"Airport Code":"SEA",lat:47.44900131225586,lon:-122.30899810791016,"Airport Name":"Seattle-Tacoma International"},"2012/11":{counts:{Settle:1,Open:1},values:{Settle:1444.38,Open:0}}},PDX:{"2013/11":{counts:{"Approve in Full":3},values:{"Approve in Full":778.59}},"2013/10":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{"Approve in Full":2,Deny:3,Open:1},values:{"Approve in Full":107.95,Deny:0,Open:0}},"2013/08":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{"Approve in Full":1,Deny:1,Open:7},values:{"Approve in Full":150,Deny:0,Open:0}},"2012/02":{counts:{Deny:1},values:{Deny:0}},"2013/03":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:2},values:{Open:0}},airport:{"Airport Code":"PDX",lat:45.58869934,lon:-122.5979996,"Airport Name":"Portland International"},total:89,"2014/12":{counts:{Open:2},values:{Open:0}},"2014/09":{counts:{"Approve in Full":1,Open:7},values:{"Approve in Full":105,Open:0}},"2014/08":{counts:{"Approve in Full":3,Deny:1,Open:2},values:{"Approve in Full":603.39,Deny:0,Open:0}},"2014/07":{counts:{"Approve in Full":3,Deny:4,Open:3},values:{"Approve in Full":510.05,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":3,Deny:3,Settle:2,Open:1},values:{"Approve in Full":337.99,Deny:0,Settle:284.19,Open:0}},"2014/05":{counts:{"Approve in Full":4,Deny:4,Open:1},values:{"Approve in Full":180.62,Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":1,Deny:5},values:{"Approve in Full":350,Deny:0}},"2014/03":{counts:{"Approve in Full":1,Deny:2,Settle:1,Open:1},values:{"Approve in Full":150,Deny:0,Settle:846.11,Open:0}},"2014/02":{counts:{Deny:3,Open:2},values:{Deny:0,Open:0}},"2014/01":{counts:{Deny:5},values:{Deny:0}}},CLE:{"2013/10":{counts:{Open:1},values:{Open:0}},"2013/12":{counts:{Deny:2},values:{Deny:0}},"2014/10":{counts:{"Approve in Full":1,Deny:2,Open:3},values:{"Approve in Full":50,Deny:0,Open:0}},"2012/03":{counts:{"Approve in Full":1},values:{"Approve in Full":50}},"2014/11":{counts:{Open:2},values:{Open:0}},airport:{"Airport Code":"CLE",lat:41.4117012024,lon:-81.8498001099,"Airport Name":"Cleveland Hopkins International"},"2014/12":{counts:{Open:3},values:{Open:0}},"2014/09":{counts:{"Approve in Full":2,Open:3},values:{"Approve in Full":264.99,Open:0}},"2014/08":{counts:{"Approve in Full":2,Deny:1,Open:5},values:{"Approve in Full":532.55,Deny:0,Open:0}},"2014/07":{counts:{Deny:1,Open:2},values:{Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:5,Open:5},values:{"Approve in Full":10,Deny:0,Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:53,"2014/03":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":75,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":1,Deny:3},values:{"Approve in Full":39,Deny:0}},"2014/01":{counts:{Deny:1,Settle:2},values:{Deny:0,Settle:504.75}}},DFW:{"2013/11":{counts:{"Approve in Full":1,Deny:3,Settle:2},values:{"Approve in Full":39.99,Deny:0,Settle:239.48}},"2013/10":{counts:{Settle:2},values:{Settle:920.14}},"2013/12":{counts:{"Approve in Full":4,Deny:2,Open:3},values:{"Approve in Full":697.94,Deny:0,Open:0}},"2013/09":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{Settle:1,Open:17},values:{Settle:12.5,Open:0}},"2013/05":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{"Approve in Full":1,Open:8},values:{"Approve in Full":22,Open:0}},airport:{"Airport Code":"DFW",lat:32.89680099487305,lon:-97.03800201416016,"Airport Name":"Dallas-Fort Worth International Airport "},total:194,"2014/12":{counts:{Deny:1,Open:5},values:{Deny:0,Open:0}},"2014/09":{counts:{"Approve in Full":2,Open:13},values:{"Approve in Full":40,Open:0}},"2014/08":{counts:{"Approve in Full":2,Deny:2,Settle:2,Open:12},values:{"Approve in Full":90,Deny:0,Settle:1661.28,Open:0}},"2014/07":{counts:{"Approve in Full":2,Deny:6,Settle:1,Open:7},values:{"Approve in Full":60,Deny:0,Settle:57.5,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:7,Settle:4,Open:6},values:{"Approve in Full":69,Deny:0,Settle:620.6700000000001,Open:0}},"2014/05":{counts:{"Approve in Full":6,Deny:7,Settle:1},values:{"Approve in Full":833.78,Deny:0,Settle:195}},"2014/04":{counts:{"Approve in Full":4,Deny:7,Settle:3,Open:1},values:{"Approve in Full":848.5,Deny:0,Settle:1535.49,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:6,Settle:2,Open:1},values:{"Approve in Full":75,Deny:0,Settle:167.42000000000002,Open:0}},"2014/02":{counts:{"Approve in Full":5,Deny:11,Settle:3},values:{"Approve in Full":1512.6,Deny:0,Settle:823.86}},"2014/01":{counts:{"Approve in Full":8,Deny:6,Settle:2,Open:1},values:{"Approve in Full":485.21000000000004,Deny:0,Settle:399.49,Open:0}}},SJT:{"2014/07":{counts:{Deny:1},values:{Deny:0}},"2014/05":{counts:{Settle:1},values:{Settle:152.99}},total:2,airport:{"Airport Code":"SJT",lat:31.35770034790039,lon:-100.49600219726562,"Airport Name":"San Angelo Regional"}},SJU:{total:82,"2013/12":{counts:{"Approve in Full":1,Deny:3,Settle:1,Open:1},values:{"Approve in Full":50,Deny:0,Settle:96.3,Open:0}},"2014/10":{counts:{Open:8},values:{Open:0}},"2013/03":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:8},values:{Open:0}},airport:{"Airport Code":"SJU",lat:18.4393997192,lon:-66.0018005371,"Airport Name":"Luis Munoz Marin International"},"2012/12":{counts:{Deny:1},values:{Deny:0}},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Deny:2,Open:3},values:{Deny:0,Open:0}},"2014/08":{counts:{Settle:1,Open:3},values:{Settle:1727,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:3,Settle:1},values:{"Approve in Full":200,Deny:0,Settle:138.03}},"2014/06":{counts:{Deny:3,Settle:1,Open:1},values:{Deny:0,Settle:142.49,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:5,Open:1},values:{"Approve in Full":42.88,Deny:0,Open:0}},"2014/04":{counts:{Deny:3,Settle:1,Open:2},values:{Deny:0,Settle:146.79,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:3,Open:2},values:{"Approve in Full":20,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":2,Deny:7,Open:2},values:{"Approve in Full":317.93,Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":2,Deny:4,Settle:1,Open:1},values:{"Approve in Full":143.99,Deny:0,Settle:515.2,Open:0}}},RDD:{total:3,"2014/10":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"RDD",lat:40.50899887,lon:-122.2929993,"Airport Name":"Redding Municipal"},"2013/12":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{Deny:1},values:{Deny:0}}},AUS:{"2013/11":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/10":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{Deny:2},values:{Deny:0}},"2014/10":{counts:{"Approve in Full":2,Deny:1,Open:6},values:{"Approve in Full":217.5,Deny:0,Open:0}},"2014/11":{counts:{Deny:1,Open:7},values:{Deny:0,Open:0}},airport:{"Airport Code":"AUS",lat:30.194499969482422,lon:-97.6698989868164,"Airport Name":"Austin-Bergstrom International Airport"},total:79,"2014/12":{counts:{Open:4},values:{Open:0}},"2014/09":{counts:{Deny:2,Open:5},values:{Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":2,Settle:2,Open:6},values:{"Approve in Full":164,Settle:114.33,Open:0}},"2014/07":{counts:{Deny:6,Settle:1,Open:2},values:{Deny:0,Settle:25,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:2,Settle:1,Open:2},values:{"Approve in Full":150,Deny:0,Settle:193.77,Open:0}},"2014/05":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":2,Deny:2,Open:1},values:{"Approve in Full":75.82,Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":3,Deny:4,Settle:1},values:{"Approve in Full":287.52,Deny:0,Settle:195.32}},"2014/02":{counts:{"Approve in Full":1,Deny:1,Open:2},values:{"Approve in Full":23.84,Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":40}}},SRQ:{total:13,"2013/12":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/10":{counts:{Open:2},values:{Open:0}},"2014/02":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"SRQ",lat:27.39539909362793,lon:-82.55439758300781,"Airport Name":"Sarasota Bradenton International"},"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":1200}},"2014/05":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":1},values:{"Approve in Full":25}},"2014/03":{counts:{Deny:2},values:{Deny:0}},"2014/11":{counts:{Open:2},values:{Open:0}}},YAK:{"2014/07":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"YAK",lat:59.5032997131,lon:-139.660003662,"Airport Name":"Yakutat"},total:1},CLT:{"2013/11":{counts:{Settle:1},values:{Settle:437}},"2013/10":{counts:{Deny:2,Settle:1,Open:1},values:{Deny:0,Settle:83.29,Open:0}},"2013/12":{counts:{"Approve in Full":5,Deny:6,Settle:1,Open:2},values:{"Approve in Full":488.09999999999997,Deny:0,Settle:554.87,Open:0}},"2014/10":{counts:{"Approve in Full":5,Deny:1,Settle:1,Open:1},values:{"Approve in Full":316.92,Deny:0,Settle:137.75,Open:0}},"2013/03":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Deny:2,Open:9},values:{Deny:0,Open:0}},airport:{"Airport Code":"CLT",lat:35.2140007019043,lon:-80.94309997558594,"Airport Name":"Charlotte/Douglas International Airport"},total:120,"2014/12":{counts:{"Approve in Full":1,Deny:2,Open:1},values:{"Approve in Full":24.95,Deny:0,Open:0}},"2014/09":{counts:{"Approve in Full":2,Open:3},values:{"Approve in Full":123,Open:0}},"2014/08":{counts:{"Approve in Full":3,Deny:2,Open:7},values:{"Approve in Full":349.51,Deny:0,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:2,Open:5},values:{"Approve in Full":35,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":3,Deny:1,Settle:1,Open:3},values:{"Approve in Full":322.95,Deny:0,Settle:135,Open:0}},"2014/05":{counts:{"Approve in Full":2,Deny:3,Settle:1,Open:4},values:{"Approve in Full":174.85,Deny:0,Settle:77.29,Open:0}},"2014/04":{counts:{"Approve in Full":3,Deny:2,Settle:1,Open:4},values:{"Approve in Full":244,Deny:0,Settle:50,Open:0}},"2014/03":{counts:{Deny:3,Settle:1,Open:1},values:{Deny:0,Settle:315,Open:0}},"2014/02":{counts:{"Approve in Full":5,Deny:3,Settle:1,Open:4},values:{"Approve in Full":602.8199999999999,Deny:0,Settle:49.12,Open:0}},"2014/01":{counts:{"Approve in Full":3,Deny:1,Settle:2},values:{"Approve in Full":57,Deny:0,Settle:120.24}}},SJC:{total:42,"2013/12":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":100,Deny:0}},"2013/06":{counts:{Settle:1},values:{Settle:79.71}},"2012/04":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"SJC",lat:37.36259841918945,lon:-121.92900085449219,"Airport Name":"Norman Y Mineta San Jose International"},"2014/12":{counts:{Open:2},values:{Open:0}},"2014/09":{counts:{Settle:1,Open:5},values:{Settle:12.5,Open:0}},"2014/08":{counts:{Open:5},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1,Open:2},values:{"Approve in Full":12,Open:0}},"2014/06":{counts:{Deny:1},values:{Deny:0}},"2014/05":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":1,Deny:4,Settle:1},values:{"Approve in Full":8,Deny:0,Settle:321.55}},"2014/10":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":2,Deny:6},values:{"Approve in Full":68.5,Deny:0}}},ELP:{airport:{"Airport Code":"ELP",lat:31.80719948,lon:-106.3779984,"Airport Name":"El Paso International Airport"},"2014/09":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{Deny:1},values:{Deny:0}},"2014/07":{counts:{"Approve in Full":1,Deny:3,Settle:1,Open:1},values:{"Approve in Full":85,Deny:0,Settle:89.99,Open:0}},"2014/06":{counts:{Deny:2},values:{Deny:0}},"2014/05":{counts:{Open:1},values:{Open:0}},total:12,"2014/03":{counts:{Deny:1},values:{Deny:0}}},TLH:{"2013/12":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"TLH",lat:30.396499633789062,lon:-84.35030364990234,"Airport Name":"Tallahassee Regional"},"2014/08":{counts:{Deny:1},values:{Deny:0}},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},total:8,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":20}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},ORD:{"2014/09":{counts:{"Approve in Full":2,Deny:9,Settle:3,Open:3},values:{"Approve in Full":104.85,Deny:0,Settle:1622.15,Open:0}},"2014/08":{counts:{"Approve in Full":4,Deny:1,Settle:2,Open:15},values:{"Approve in Full":434.74,Deny:0,Settle:405.03,Open:0}},"2014/07":{counts:{"Approve in Full":6,Deny:6,Settle:4,Open:10},values:{"Approve in Full":703.71,Deny:0,Settle:3906.0099999999998,Open:0}},"2014/06":{counts:{"Approve in Full":3,Deny:5,Settle:6,Open:8},values:{"Approve in Full":169.52,Deny:0,Settle:2313.5699999999997,Open:0}},"2014/05":{counts:{"Approve in Full":9,Deny:7,Settle:2,Open:7},values:{"Approve in Full":932.0700000000002,Deny:0,Settle:1352.71,Open:0}},total:248,"2014/03":{counts:{"Approve in Full":4,Deny:7,Settle:3,Open:4},values:{"Approve in Full":1756,Deny:0,Settle:1331.3400000000001,Open:0}},"2014/02":{counts:{"Approve in Full":6,Deny:8,Open:5},values:{"Approve in Full":2705.99,Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":9,Deny:9,Settle:3,Open:4},values:{"Approve in Full":1869.78,Deny:0,Settle:1352.76,Open:0}},"2014/04":{counts:{"Approve in Full":3,Deny:7,Settle:1,Open:2},values:{"Approve in Full":286.32,Deny:0,Settle:64.47,Open:0}},"2013/08":{counts:{"Approve in Full":1,Settle:1},values:{"Approve in Full":46.89,Settle:392.37}},"2013/09":{counts:{"Approve in Full":1},values:{"Approve in Full":981.3}},"2013/06":{counts:{Deny:1},values:{Deny:0}},"2013/04":{counts:{Open:1},values:{Open:0}},"2013/05":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/10":{counts:{"Approve in Full":5,Deny:3,Settle:2,Open:6},values:{"Approve in Full":1068.24,Deny:0,Settle:794.46,Open:0}},"2014/11":{counts:{"Approve in Full":2,Deny:2,Settle:1,Open:7},values:{"Approve in Full":149.95,Deny:0,Settle:368.52,Open:0}},"2014/12":{counts:{"Approve in Full":1,Deny:4,Open:3},values:{"Approve in Full":7,Deny:0,Open:0}},"2013/11":{counts:{"Approve in Full":2,Deny:1,Open:3},values:{"Approve in Full":547.86,Deny:0,Open:0}},"2013/10":{counts:{Open:1},values:{Open:0}},"2013/12":{counts:{"Approve in Full":2,Deny:7,Open:1},values:{"Approve in Full":379.52,Deny:0,Open:0}},airport:{"Airport Code":"ORD",lat:41.97859955,lon:-87.90480042,"Airport Name":"Chicago O'Hare International Airport"},"2012/10":{counts:{Open:1},values:{Open:0}}},ITO:{total:6,"2013/09":{counts:{Settle:1},values:{Settle:92.01}},airport:{"Airport Code":"ITO",lat:19.721399307250977,lon:-155.04800415039062,"Airport Name":"Hilo International"},"2013/12":{counts:{Settle:1},values:{Settle:30}},"2014/08":{counts:{Deny:1},values:{Deny:0}},"2014/04":{counts:{Settle:1,Open:1},values:{Settle:78.53,Open:0}},"2014/12":{counts:{Open:1},values:{Open:0}}},SBP:{airport:{"Airport Code":"SBP",lat:35.236801147499996,lon:-120.641998291,"Airport Name":"San Luis Obispo"},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:2,"2014/02":{counts:{Settle:1},values:{Settle:24.99}}},ITH:{airport:{"Airport Code":"ITH",lat:42.49100112915039,lon:-76.4583969116211,"Airport Name":"Tompkins County,  Ithaca"},total:1,"2014/09":{counts:{Open:1},values:{Open:0}}},HVN:{"2013/10":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"HVN",lat:41.26369858,lon:-72.88680267,"Airport Name":"New Haven, CT"},total:1},MEM:{total:26,"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":128.4}},"2013/06":{counts:{"Approve in Full":1},values:{"Approve in Full":130.77}},"2014/10":{counts:{Open:3},values:{Open:0}},"2014/11":{counts:{"Approve in Full":1},values:{"Approve in Full":86.31}},airport:{"Airport Code":"MEM",lat:35.04240036010742,lon:-89.97669982910156,"Airport Name":"Memphis International Airport"},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Settle:1},values:{Settle:129}},"2014/08":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/07":{counts:{Open:2},values:{Open:0}},"2014/06":{counts:{Open:3},values:{Open:0}},"2014/05":{counts:{"Approve in Full":2,Open:1},values:{"Approve in Full":280,Open:0}},"2014/04":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":54.49,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":12,Deny:0,Open:0}},"2014/02":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{Deny:1,Settle:1},values:{Deny:0,Settle:367.04}}},LYH:{"2014/07":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":15,Open:0}},total:4,airport:{"Airport Code":"LYH",lat:37.326698303222656,lon:-79.20040130615234,"Airport Name":"Lynchburg Regional"},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/02":{counts:{Deny:1},values:{Deny:0}}},TUS:{total:22,"2014/10":{counts:{Open:2},values:{Open:0}},"2014/11":{counts:{Open:3},values:{Open:0}},airport:{"Airport Code":"TUS",lat:32.1161003112793,lon:-110.94100189208984,"Airport Name":"Tucson International"},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{"Approve in Full":1},values:{"Approve in Full":12.5}},"2014/08":{counts:{Open:2},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":64.98,Open:0}},"2014/06":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":28,Open:0}},"2014/05":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":1},values:{"Approve in Full":22.98}},"2014/03":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":43.24,Deny:0,Open:0}},"2014/02":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Deny:2},values:{Deny:0}}},ALB:{total:20,"2013/12":{counts:{Settle:1},values:{Settle:206}},"2013/06":{counts:{"Approve in Full":1},values:{"Approve in Full":350}},"2014/10":{counts:{Open:4},values:{Open:0}},airport:{"Airport Code":"ALB",lat:42.74829864501953,lon:-73.80169677734375,"Airport Name":"Albany International"},"2014/09":{counts:{Open:2},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{Open:4},values:{Open:0}},"2014/06":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":71.19,Open:0}},"2014/05":{counts:{"Approve in Full":1},values:{"Approve in Full":64.75}},"2014/04":{counts:{Open:1},values:{Open:0}},"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":145,Deny:0}}},BJI:{"2014/07":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"BJI",lat:47.50939941,lon:-94.93370056,"Airport Name":"Bemidji, MN"},total:3,"2014/09":{counts:{Open:1},values:{Open:0}},"2013/01":{counts:{Open:1},values:{Open:0}}},RIC:{total:28,"2013/12":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":84.99,Deny:0}},"2014/10":{counts:{Open:2},values:{Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"RIC",lat:37.50519943237305,lon:-77.3197021484375,"Airport Name":"Richmond International"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:2,Open:2},values:{"Approve in Full":731.38,Deny:0,Open:0}},"2014/06":{counts:{Deny:3},values:{Deny:0}},"2014/05":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":25,Deny:0}},"2014/04":{counts:{Deny:3},values:{Deny:0}},"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/02":{counts:{Deny:2},values:{Deny:0}},"2014/01":{counts:{Deny:3},values:{Deny:0}}},BRO:{airport:{"Airport Code":"BRO",lat:25.90679931640625,lon:-97.4259033203125,"Airport Name":"Brownsville/South Padre International"},total:1,"2014/03":{counts:{"Approve in Full":1},values:{"Approve in Full":192}}},SBA:{"2013/11":{counts:{"Approve in Full":1},values:{"Approve in Full":130}},total:7,airport:{"Airport Code":"SBA",lat:34.42620087,lon:-119.8399963,"Airport Name":"Santa Barbara Municipal"},"2014/09":{counts:{Open:2},values:{Open:0}},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/04":{counts:{Settle:2},values:{Settle:562.73}},"2014/10":{counts:{Open:1},values:{Open:0}}},TUL:{"2013/12":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"TUL",lat:36.19839859008789,lon:-95.88809967041016,"Airport Name":"Tulsa International Airport"},"2014/08":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":18.63,Open:0}},total:17,"2014/06":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2014/05":{counts:{Deny:2},values:{Deny:0}},"2014/04":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/03":{counts:{Deny:3},values:{Deny:0}},"2014/02":{counts:{Deny:2,Settle:1},values:{Deny:0,Settle:30.99}}},MMH:{"2013/12":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"MMH",lat:37.62409973,lon:-118.8379974,"Airport Name":"Mammoth Lakes "},"2014/09":{counts:{Open:1},values:{Open:0}},total:4,"2014/06":{counts:{Open:1},values:{Open:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}}},ORH:{"2014/10":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"ORH",lat:42.26729965209961,lon:-71.87570190429688,"Airport Name":"Worcester Regional"},total:2,"2014/03":{counts:{Deny:1},values:{Deny:0}}},LEX:{total:14,"2013/12":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":316.94,Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"LEX",lat:38.0364990234375,lon:-84.60590362548828,"Airport Name":"Blue Grass ,Lexington"},"2014/09":{counts:{Deny:1},values:{Deny:0}},"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":150}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":117,Deny:0}},"2014/10":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":100,Deny:0}},"2014/02":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":89.99,Open:0}}},PLN:{"2014/07":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":15.94,Deny:0}},airport:{"Airport Code":"PLN",lat:45.57089996,lon:-84.79669952,"Airport Name":"Pellston Regional Of Emmet County"},total:4,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Deny:1},values:{Deny:0}}},GSO:{total:3,airport:{"Airport Code":"GSO",lat:36.097801208496094,lon:-79.93730163574219,"Airport Name":"Piedmont Triad International Airport"},"2014/05":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{Deny:1},values:{Deny:0}}},PUW:{"2014/07":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"PUW",lat:46.7439,lon:-117.110001,"Airport Name":"Pullman/Moscow Regional"},total:2},SBN:{total:3,"2013/07":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"SBN",lat:41.70869827270508,lon:-86.31729888916016,"Airport Name":"South Bend Regional"},"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":46.99}},"2014/08":{counts:{Open:1},values:{Open:0}}},MKG:{total:1,airport:{"Airport Code":"MKG",lat:43.16949844,lon:-86.23819733,"Airport Name":"Muskegon County Airport"},"2013/12":{counts:{"Approve in Full":1},values:{"Approve in Full":271}}},HYA:{airport:{"Airport Code":"HYA",lat:41.66930008,lon:-70.28040314,"Airport Name":"Barnstable Municipal, Hyannis"},total:1,"2014/09":{counts:{Open:1},values:{Open:0}}},MKE:{"2013/11":{counts:{Deny:1},values:{Deny:0}},total:39,"2013/12":{counts:{"Approve in Full":2},values:{"Approve in Full":122.53999999999999}},"2013/07":{counts:{Open:1},values:{Open:0}},"2013/01":{counts:{"Approve in Full":1},values:{"Approve in Full":74.2}},airport:{"Airport Code":"MKE",lat:42.947200775146484,lon:-87.89659881591797,"Airport Name":"General Mitchell International Airport"},"2014/10":{counts:{"Approve in Full":1,Open:3},values:{"Approve in Full":119.99,Open:0}},"2014/12":{counts:{Open:2},values:{Open:0}},"2014/09":{counts:{"Approve in Full":1},values:{"Approve in Full":21.99}},"2014/08":{counts:{Open:2},values:{Open:0}},"2014/07":{counts:{"Approve in Full":2,Deny:4,Settle:1},values:{"Approve in Full":43.849999999999994,Deny:0,Settle:133}},"2014/06":{counts:{Deny:2,Settle:1,Open:3},values:{Deny:0,Settle:186.38,Open:0}},"2014/05":{counts:{Deny:1,Settle:1},values:{Deny:0,Settle:190.83}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{Deny:2,Open:3},values:{Deny:0,Open:0}},"2014/11":{counts:{Open:2},values:{Open:0}},"2014/01":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}}},TWF:{"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":267.65}},airport:{"Airport Code":"TWF",lat:42.48180008,lon:-114.487999,"Airport Name":"Joslin Field Magic Valley"},total:2,"2014/08":{counts:{Deny:1},values:{Deny:0}}},FLO:{airport:{"Airport Code":"FLO",lat:34.18539810180664,lon:-79.7238998413086,"Airport Name":"Florence Regional"},total:1,"2014/02":{counts:{"Approve in Full":1},values:{"Approve in Full":100}}},MSY:{"2013/11":{counts:{Open:1},values:{Open:0}},"2013/10":{counts:{Open:2},values:{Open:0}},"2013/12":{counts:{"Approve in Full":2,Deny:2,Open:2},values:{"Approve in Full":41.41,Deny:0,Open:0}},"2014/10":{counts:{"Approve in Full":2,Open:2},values:{"Approve in Full":164,Open:0}},"2014/11":{counts:{Open:2},values:{Open:0}},airport:{"Airport Code":"MSY",lat:29.99340057373047,lon:-90.25800323486328,"Airport Name":"New Orleans International"},total:74,"2014/12":{counts:{Open:4},values:{Open:0}},"2014/09":{counts:{Deny:1,Open:2},values:{Deny:0,Open:0}},"2014/08":{counts:{"Approve in Full":2,Deny:3,Open:4},values:{"Approve in Full":50,Deny:0,Open:0}},"2014/07":{counts:{Open:4},values:{Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:3,Open:1},values:{"Approve in Full":690,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":2,Settle:1,Open:5},values:{"Approve in Full":247,Settle:20,Open:0}},"2014/04":{counts:{"Approve in Full":4,Deny:1,Settle:1,Open:2},values:{"Approve in Full":353.23,Deny:0,Settle:378.88,Open:0}},"2014/03":{counts:{"Approve in Full":6},values:{"Approve in Full":505.39}},"2014/02":{counts:{"Approve in Full":1,Deny:2,Open:4},values:{"Approve in Full":119.99,Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":3,Settle:1,Open:1},values:{"Approve in Full":226.35000000000002,Settle:304.22,Open:0}}},AZO:{"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":8.53}},airport:{"Airport Code":"AZO",lat:42.234901428222656,lon:-85.5521011352539,"Airport Name":"Kalamazoo/Battle Creek International"},total:1},KOA:{total:20,"2013/12":{counts:{Settle:1},values:{Settle:194.53}},"2013/08":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"KOA",lat:19.738800048828125,lon:-156.04600524902344,"Airport Name":"Kona International"},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":10.99,Open:0}},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":36.99,Deny:0}},"2014/05":{counts:{"Approve in Full":1,Deny:3,Open:1},values:{"Approve in Full":25,Deny:0,Open:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{"Approve in Full":1},values:{"Approve in Full":62.11}},"2014/02":{counts:{"Approve in Full":1,Deny:1,Settle:1},values:{"Approve in Full":8.49,Deny:0,Settle:900}},"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":80}}},YNG:{"2013/11":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:1},values:{Open:0}},"2013/05":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"YNG",lat:41.26070023,lon:-80.67910004,"Airport Name":"Youngstown-Warren Regional"},"2014/09":{counts:{Deny:1},values:{Deny:0}},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Deny:1},values:{Deny:0}},total:10,"2014/03":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/02":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},MKK:{airport:{"Airport Code":"MKK",lat:21.15290069580078,lon:-157.0959930419922,"Airport Name":"Molokai Airport "},total:1,"2014/03":{counts:{Deny:1},values:{Deny:0}}},BHM:{total:15,"2013/12":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"BHM",lat:33.56290054,lon:-86.75350189,"Airport Name":"Birmingham International Airport"},"2014/12":{counts:{Open:3},values:{Open:0}},"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":76.3}},"2014/06":{counts:{Deny:2},values:{Deny:0}},"2014/05":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":29.99,Open:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Deny:3},values:{Deny:0}},"2014/02":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":49.99}}},EKO:{airport:{"Airport Code":"EKO",lat:40.82490158081055,lon:-115.79199981689453,"Airport Name":"Elko Regional"},total:1,"2014/03":{counts:{Settle:1},values:{Settle:114}}},SWF:{total:2,airport:{"Airport Code":"SWF",lat:41.50410079956055,lon:-74.10479736328125,"Airport Name":"Stewart  Field "},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}}},MSO:{"2014/06":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"MSO",lat:46.91630173,lon:-114.0910034,"Airport Name":"Missoula International"},total:4,"2014/01":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{Open:2},values:{Open:0}}},MSN:{"2013/11":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":31.03,Deny:0}},"2013/12":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"MSN",lat:43.13990020751953,lon:-89.3375015258789,"Airport Name":"Dane County Regional (Madison)"},"2012/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":104.45,Open:0}},total:11,"2014/10":{counts:{Open:2},values:{Open:0}},"2014/11":{counts:{"Approve in Full":1},values:{"Approve in Full":12.5}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},MSL:{airport:{"Airport Code":"MSL",lat:34.74530029,lon:-87.61019897,"Airport Name":"Northwest Regional Airport"},total:1,"2014/09":{counts:{Open:1},values:{Open:0}}},BIS:{"2014/07":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"BIS",lat:46.772701263427734,lon:-100.74600219726562,"Airport Name":"Bismarck Municipal"},total:1},BPT:{airport:{"Airport Code":"BPT",lat:29.9507999420166,lon:-94.02069854736328,"Airport Name":"Southeast Texas Regional"},total:1,"2014/10":{counts:{Deny:1},values:{Deny:0}}},TVC:{"2013/09":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"TVC",lat:44.74140167236328,lon:-85.58219909667969,"Airport Name":"Cherry Capital Airport"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":20}},total:5},CVG:{"2013/12":{counts:{Settle:1},values:{Settle:270.39}},"2013/09":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:2},values:{Open:0}},"2013/05":{counts:{Settle:1,Open:1},values:{Settle:717.86,Open:0}},airport:{"Airport Code":"CVG",lat:39.0488014221,lon:-84.6678009033,"Airport Name":"Cincinnati/Northern Kentucky International"},"2014/09":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{"Approve in Full":1,Settle:1,Open:2},values:{"Approve in Full":25,Settle:50,Open:0}},total:25,"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1,Settle:1,Open:1},values:{"Approve in Full":327.27,Settle:50.44,Open:0}},"2014/04":{counts:{"Approve in Full":2,Settle:1,Open:2},values:{"Approve in Full":1081.86,Settle:795,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":60,Deny:0}},"2014/01":{counts:{"Approve in Full":1,Settle:1},values:{"Approve in Full":186.77,Settle:103.99}}},PSE:{airport:{"Airport Code":"PSE",lat:18.00830078125,lon:-66.56300354003906,"Airport Name":"Mercedita Airport"},total:2,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/11":{counts:{Open:1},values:{Open:0}}},ERI:{airport:{"Airport Code":"ERI",lat:42.0831270134,lon:-80.1738667488,"Airport Name":"Erie International"},total:1,"2014/12":{counts:{Open:1},values:{Open:0}}},CAE:{"2014/04":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":36.95,Deny:0}},total:5,airport:{"Airport Code":"CAE",lat:33.93880081176758,lon:-81.11949920654297,"Airport Name":"Columbia Metropolitan"},"2013/12":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":60,Open:0}},"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":32.4}}},MRY:{"2013/01":{counts:{Settle:1},values:{Settle:100}},airport:{"Airport Code":"MRY",lat:36.58700180053711,lon:-121.84300231933594,"Airport Name":"Monterey Peninsula Airport"},"2014/09":{counts:{"Approve in Full":1},values:{"Approve in Full":25}},"2014/06":{counts:{Deny:1},values:{Deny:0}},total:5,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{Settle:1},values:{Settle:624.5}}},CYS:{airport:{"Airport Code":"CYS",lat:41.15570068,lon:-104.8119965,"Airport Name":"Cheyenne Regional Airport - Jerry Olson Field"},total:1,"2014/10":{counts:{Deny:1},values:{Deny:0}}},INL:{"2014/07":{counts:{Open:1},values:{Open:0}},total:2,airport:{"Airport Code":"INL",lat:48.566200256347656,lon:-93.4030990600586,"Airport Name":"Falls International "},"2014/04":{counts:{Deny:1},values:{Deny:0}}},PGD:{airport:{"Airport Code":"PGD",lat:26.92020035,lon:-81.9905014,"Airport Name":"Charlotte County"},total:4,"2014/03":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":15,Open:0}},"2014/01":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}}},FAY:{"2014/04":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"FAY",lat:34.9911994934082,lon:-78.88030242919922,"Airport Name":"Fayetteville Regional"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:5,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},RDM:{airport:{"Airport Code":"RDM",lat:44.2541008,lon:-121.1500015,"Airport Name":"Roberts Field"},total:3,"2014/09":{counts:{"Approve in Full":1},values:{"Approve in Full":49.99}},"2014/01":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":94.95,Deny:0}}},TPA:{"2013/11":{counts:{Deny:1},values:{Deny:0}},"2012/08":{counts:{Deny:1},values:{Deny:0}},"2013/12":{counts:{Deny:5,Settle:2},values:{Deny:0,Settle:446.5}},"2013/08":{counts:{Deny:1},values:{Deny:0}},"2013/09":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":106.99,Open:0}},"2014/10":{counts:{Settle:1,Open:8},values:{Settle:286.68,Open:0}},"2013/10":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:3},values:{Open:0}},airport:{"Airport Code":"TPA",lat:27.975500106811523,lon:-82.533203125,"Airport Name":"Tampa International"},total:112,"2014/12":{counts:{Open:5},values:{Open:0}},"2014/09":{counts:{"Approve in Full":1,Open:5},values:{"Approve in Full":100,Open:0}},"2014/08":{counts:{"Approve in Full":2,Deny:6,Open:2},values:{"Approve in Full":101.99,Deny:0,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:3,Open:1},values:{"Approve in Full":10,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":3,Deny:4,Open:1},values:{"Approve in Full":812.98,Deny:0,Open:0}},"2014/05":{counts:{Deny:4,Open:3},values:{Deny:0,Open:0}},"2014/04":{counts:{"Approve in Full":4,Deny:12,Open:2},values:{"Approve in Full":226.6,Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":6,Deny:7,Open:1},values:{"Approve in Full":1181.25,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":1,Deny:6,Open:1},values:{"Approve in Full":50,Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":3,Deny:3},values:{"Approve in Full":250.53,Deny:0}}},DAB:{"2014/04":{counts:{"Approve in Full":1},values:{"Approve in Full":4.23}},airport:{"Airport Code":"DAB",lat:29.179899,lon:-81.058098,"Airport Name":"Daytona Beach International"},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:4,"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":100}}},PGA:{"2014/05":{counts:{Open:1},values:{Open:0}},total:1,airport:{"Airport Code":"PGA",lat:36.92610168,lon:-111.447998,"Airport Name":"Page Municipal"}},FAR:{"2014/07":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":272.84,Open:0}},airport:{"Airport Code":"FAR",lat:46.92070007324219,lon:-96.81580352783203,"Airport Name":"Hector International"},total:4,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}}},BRD:{airport:{"Airport Code":"BRD",lat:46.39830017,lon:-94.13809967,"Airport Name":"Brainerd, MN"},total:1,"2014/01":{counts:{"Approve in Full":1},values:{"Approve in Full":205}}},SGU:{"2014/07":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"SGU",lat:37.0363888889,lon:-113.510305556,"Airport Name":"St. George Municipal"},total:1},FAT:{"2014/07":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"FAT",lat:36.77619934082031,lon:-119.71800231933594,"Airport Name":"Fresno Yosemite International"},total:3,"2014/10":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Deny:1},values:{Deny:0}}},OWB:{"2013/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"OWB",lat:37.74010086,lon:-87.16680145,"Airport Name":"Owensboro Daviess County"},total:1},PGV:{total:2,airport:{"Airport Code":"PGV",lat:35.6352005,lon:-77.38529968,"Airport Name":"Pitt-Greenville Airport "},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},HIB:{"2014/07":{counts:{Deny:1},values:{Deny:0}},airport:{"Airport Code":"HIB",lat:47.38660049,lon:-92.83899689,"Airport Name":"Chisolm-Hibbing Municipal "},total:1},FAI:{airport:{"Airport Code":"FAI",lat:64.81510162,lon:-147.8560028,"Airport Name":"Fairbanks International"},"2014/08":{counts:{"Approve in Full":1},values:{"Approve in Full":35}},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Deny:1},values:{Deny:0}},total:4,"2014/03":{counts:{Open:1},values:{Open:0}}},FLG:{"2014/06":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"FLG",lat:35.13850021,lon:-111.6709976,"Airport Name":"Flagstaff Pulliam"},total:1},MVY:{"2014/07":{counts:{Open:2},values:{Open:0}},airport:{"Airport Code":"MVY",lat:41.3931007385,lon:-70.6143035889,"Airport Name":"Martha's Vineyard Airport"},total:3,"2014/08":{counts:{Open:1},values:{Open:0}}},EAU:{"2014/05":{counts:{Deny:1},values:{Deny:0}},total:1,airport:{"Airport Code":"EAU",lat:44.86579895019531,lon:-91.48429870605469,"Airport Name":"Chippewa Valley Regional Airport"}},DAY:{total:9,airport:{"Airport Code":"DAY",lat:39.902400970458984,lon:-84.21939849853516,"Airport Name":"James M. Cox Dayton International"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Deny:1},values:{Deny:0}},"2014/05":{counts:{Deny:2},values:{Deny:0}},"2014/04":{counts:{Open:1},values:{Open:0}},"2014/03":{counts:{"Approve in Full":2},values:{"Approve in Full":22.92}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},LIH:{total:25,"2013/09":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":162.5,Deny:0}},"2012/04":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"LIH",lat:21.97599983215332,lon:-159.33900451660156,"Airport Name":"Lihue Airport"},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Deny:2},values:{Deny:0}},"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":54.99}},"2014/06":{counts:{"Approve in Full":1,Deny:3},values:{"Approve in Full":14.99,Deny:0}},"2014/05":{counts:{Open:1},values:{Open:0}},"2014/04":{counts:{Settle:1},values:{Settle:127}},"2014/03":{counts:{Deny:3,Settle:1,Open:1},values:{Deny:0,Settle:490.21,Open:0}},"2014/02":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/01":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":9.99,Deny:0}}},SGF:{airport:{"Airport Code":"SGF",lat:37.24570084,lon:-93.38860321,"Airport Name":"Springfield-Branson National Airport"},"2014/09":{counts:{Deny:1},values:{Deny:0}},"2014/06":{counts:{Deny:2},values:{Deny:0}},"2014/05":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},total:6,"2014/12":{counts:{Open:1},values:{Open:0}}},DHN:{total:1,airport:{"Airport Code":"DHN",lat:31.321300506591797,lon:-85.44960021972656,"Airport Name":"Dothan Regional Airport"},"2013/12":{counts:{Open:1},values:{Open:0}}},ABE:{"2012/03":{counts:{"Approve in Full":1},values:{"Approve in Full":105.99}},airport:{"Airport Code":"ABE",lat:40.652099609375,lon:-75.44080352783203,"Airport Name":"Lehigh Valley International Airport, Allentown"},"2014/07":{counts:{"Approve in Full":1},values:{"Approve in Full":130}},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:4,"2014/10":{counts:{Open:1},values:{Open:0}}},STL:{total:61,"2013/12":{counts:{"Approve in Full":4,Deny:1},values:{"Approve in Full":427.65,Deny:0}},"2013/08":{counts:{"Approve in Full":1},values:{"Approve in Full":131.17}},"2013/09":{counts:{"Approve in Full":1,Deny:1,Open:1},values:{"Approve in Full":181.04,Deny:0,Open:0}},"2014/10":{counts:{Deny:2,Open:3},values:{Deny:0,Open:0}},"2014/11":{counts:{Settle:1,Open:2},values:{Settle:50,Open:0}},airport:{"Airport Code":"STL",lat:38.74869918823242,lon:-90.37000274658203,"Airport Name":"Lambert St. Louis International"},"2014/12":{counts:{"Approve in Full":1},values:{"Approve in Full":10.79}},"2014/09":{counts:{Open:6},values:{Open:0}},"2014/08":{counts:{Deny:1,Open:4},values:{Deny:0,Open:0}},"2014/07":{counts:{"Approve in Full":1,Deny:2,Open:4},values:{"Approve in Full":909.18,Deny:0,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:1,Open:4},values:{"Approve in Full":36.85,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":2,Deny:3,Open:2},values:{"Approve in Full":250.7,Deny:0,Open:0}},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2014/03":{counts:{"Approve in Full":2,Deny:2,Settle:2,Open:1},values:{"Approve in Full":95,Deny:0,Settle:508.63,Open:0}},"2014/02":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":150.2,Open:0}},"2014/01":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}}},ROC:{"2013/12":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{Open:1},values:{Open:0}},"2013/04":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"ROC",lat:43.118900299072266,lon:-77.67240142822266,"Airport Name":"Greater Rochester International"},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Open:2},values:{Open:0}},total:7,"2014/03":{counts:{Open:1},values:{Open:0}}},MLI:{airport:{"Airport Code":"MLI",lat:41.44850158691406,lon:-90.50749969482422,"Airport Name":"Quad City (Moline)International Airport"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{Open:1},values:{Open:0}},total:5,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Deny:1},values:{Deny:0}}},EUG:{"2013/12":{counts:{Settle:1},values:{Settle:1500}},airport:{"Airport Code":"EUG",lat:44.12459945678711,lon:-123.21199798583984,"Airport Name":"Eugene Airport/Mahlon Sweet Field"},"2014/08":{counts:{"Approve in Full":1},values:{"Approve in Full":69.95}},total:5,"2014/06":{counts:{"Approve in Full":1},values:{"Approve in Full":168.95}},"2014/04":{counts:{Settle:1},values:{Settle:650}},"2014/10":{counts:{Open:1},values:{Open:0}}},BIL:{total:3,"2014/06":{counts:{"Approve in Full":1},values:{"Approve in Full":69.99}},airport:{"Airport Code":"BIL",lat:45.807701110839844,lon:-108.54299926757812,"Airport Name":"Billings, MT"},"2014/04":{counts:{Deny:1},values:{Deny:0}},"2012/12":{counts:{Settle:1},values:{Settle:378}}},MTJ:{airport:{"Airport Code":"MTJ",lat:38.509799957300004,lon:-107.893997192,"Airport Name":"Montrose Regional Airport"},total:1,"2014/03":{counts:{Settle:1},values:{Settle:50}}},TOL:{"2014/06":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":22.5,Open:0}},airport:{"Airport Code":"TOL",lat:41.58679962,lon:-83.80780029,"Airport Name":"Toledo Express"},total:2},ELM:{"2014/06":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"ELM",lat:42.1599006652832,lon:-76.8916015625,"Airport Name":"Elmira Corning International"},total:2,"2014/09":{counts:{Open:1},values:{Open:0}}},HOU:{total:51,"2013/12":{counts:{"Approve in Full":2,Deny:4,Settle:1,Open:1},values:{"Approve in Full":94.25,Deny:0,Settle:286.7,Open:0}},"2014/10":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":45,Open:0}},"2014/11":{counts:{Open:3},values:{Open:0}},airport:{"Airport Code":"HOU",lat:29.64539909,lon:-95.27890015,"Airport Name":"William P. Hobby"},"2014/12":{counts:{Open:2},values:{Open:0}},"2014/09":{counts:{Deny:1,Open:2},values:{Deny:0,Open:0}},"2014/08":{counts:{Deny:1,Settle:1},values:{Deny:0,Settle:260.4}},"2014/07":{counts:{"Approve in Full":2,Open:1},values:{"Approve in Full":174,Open:0}},"2014/06":{counts:{Deny:3,Open:2},values:{Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:4,Settle:1},values:{"Approve in Full":50,Deny:0,Settle:48.68}},"2014/04":{counts:{"Approve in Full":1,Deny:5},values:{"Approve in Full":140.39,Deny:0}},"2014/03":{counts:{Deny:2,Open:1},values:{Deny:0,Open:0}},"2014/02":{counts:{Deny:3},values:{Deny:0}},"2014/01":{counts:{Deny:2,Settle:2,Open:1},values:{Deny:0,Settle:787.9,Open:0}}},HPN:{airport:{"Airport Code":"HPN",lat:41.06700134277344,lon:-73.70760345458984,"Airport Name":"Westchester County, White Plains"},"2012/12":{counts:{Deny:1},values:{Deny:0}},"2014/09":{counts:{Deny:1},values:{Deny:0}},"2014/06":{counts:{Deny:1},values:{Deny:0}},"2014/05":{counts:{"Approve in Full":1},values:{"Approve in Full":25}},total:7,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},"2014/12":{counts:{Open:1},values:{Open:0}}},MOB:{"2013/12":{counts:{Settle:1},values:{Settle:170.76}},airport:{"Airport Code":"MOB",lat:30.691200256348,lon:-88.242797851562,"Airport Name":"Mobile Regional"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:2},values:{"Approve in Full":50,Deny:0}},total:7,"2014/11":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},CWA:{total:2,airport:{"Airport Code":"CWA",lat:44.7775993347,lon:-89.6668014526,"Airport Name":"Central Wisconsin Regional"},"2014/04":{counts:{Open:1},values:{Open:0}},"2014/10":{counts:{Open:1},values:{Open:0}}},STX:{"2014/06":{counts:{"Approve in Full":1},values:{"Approve in Full":195}},airport:{"Airport Code":"STX",lat:17.701900482177734,lon:-64.79859924316406,"Airport Name":"Henry E. Rohlsen"},total:3,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/02":{counts:{Settle:1},values:{Settle:90}}},ICT:{airport:{"Airport Code":"ICT",lat:37.649898529052734,lon:-97.43309783935547,"Airport Name":"Wichita Mid-Continent"},"2014/08":{counts:{Open:2},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1},values:{"Approve in Full":24}},total:5,"2014/12":{counts:{Open:1},values:{Open:0}}},OTH:{airport:{"Airport Code":"OTH",lat:43.41709899902344,lon:-124.24600219726562,"Airport Name":"North Bend Municipal"},total:1,"2014/01":{counts:{Deny:1},values:{Deny:0}}},CDC:{"2014/05":{counts:{Deny:1},values:{Deny:0}},total:1,airport:{"Airport Code":"CDC",lat:37.70100021362305,lon:-113.0989990234375,"Airport Name":"Cedar City Municipal"}},JLN:{airport:{"Airport Code":"JLN",lat:37.151798248291016,lon:-94.49829864501953,"Airport Name":"Joplin Regional"},total:1,"2014/11":{counts:{Deny:1},values:{Deny:0}}},COD:{"2014/05":{counts:{Deny:1},values:{Deny:0}},total:1,airport:{"Airport Code":"COD",lat:44.520198822,lon:-109.024002075,"Airport Name":"Yellowstone Regional"}},VPS:{airport:{"Airport Code":"VPS",lat:30.4832,lon:-86.525398,"Airport Name":"Okaloosa/ Northwest Florida"},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{Open:1},values:{Open:0}},total:4,"2014/10":{counts:{Open:1},values:{Open:0}}},MCI:{total:3,airport:{"Airport Code":"MCI",lat:39.2976,lon:-94.713898,"Airport Name":"Kansas City International"},"2013/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Open:1},values:{Open:0}}},LGB:{"2013/12":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:2},values:{Open:0}},airport:{"Airport Code":"LGB",lat:33.81769943,lon:-118.1520004,"Airport Name":"Long Beach"},"2014/09":{counts:{Open:1},values:{Open:0}},"2014/08":{counts:{"Approve in Full":1,Settle:1,Open:1},values:{"Approve in Full":27,Settle:324.78,Open:0}},total:12,"2014/05":{counts:{Deny:1},values:{Deny:0}},"2014/04":{counts:{Deny:1,Settle:1},values:{Deny:0,Settle:39.5}},"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/12":{counts:{Open:1},values:{Open:0}}},MLU:{airport:{"Airport Code":"MLU",lat:32.51089859008789,lon:-92.0376968383789,"Airport Name":"Monroe Regional"},total:1,"2014/02":{counts:{Settle:1},values:{Settle:179.4}}},PNS:{"2013/11":{counts:{Deny:1},values:{Deny:0}},"2014/10":{counts:{Open:2},values:{Open:0}},airport:{"Airport Code":"PNS",lat:30.473400115967,lon:-87.186599731445,"Airport Name":"Pensacola Regional"},"2014/09":{counts:{"Approve in Full":1},values:{"Approve in Full":80}},"2014/08":{counts:{Open:1},values:{Open:0}},"2014/07":{counts:{Settle:1,Open:1},values:{Settle:171.09,Open:0}},"2014/05":{counts:{Deny:1},values:{Deny:0}},total:11,"2014/03":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},"2014/01":{counts:{Deny:1},values:{Deny:0}}},LGA:{"2013/11":{counts:{Deny:1},values:{Deny:0}},total:118,"2013/12":{counts:{"Approve in Full":1,Deny:5,Settle:1,Open:3},values:{"Approve in Full":4,Deny:0,Settle:716.97,Open:0}},"2013/08":{counts:{Open:2},values:{Open:0}},"2014/10":{counts:{Deny:3,Open:4},values:{Deny:0,Open:0}},"2014/11":{counts:{Open:10},values:{Open:0}},airport:{"Airport Code":"LGA",lat:40.77719879,lon:-73.87259674,"Airport Name":"LaGuardia "},"2014/12":{counts:{Open:2},values:{Open:0}},"2014/09":{counts:{Settle:1,Open:1},values:{Settle:300,Open:0}},"2014/08":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:11},values:{"Approve in Full":450,Deny:0,Settle:162.5,Open:0}},"2014/07":{counts:{Deny:2,Settle:1,Open:10},values:{Deny:0,Settle:457.2,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:1,Open:4},values:{"Approve in Full":270,Deny:0,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:5,Settle:3,Open:3},values:{"Approve in Full":136.78,Deny:0,Settle:1700,Open:0}},"2014/04":{counts:{"Approve in Full":3,Deny:4,Settle:1,Open:1},values:{"Approve in Full":383,Deny:0,Settle:208.34,Open:0}},"2014/03":{counts:{"Approve in Full":3,Deny:7,Open:2},values:{"Approve in Full":257.69,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":1,Deny:7,Settle:1},values:{"Approve in Full":80,Deny:0,Settle:50}},"2014/01":{counts:{"Approve in Full":1,Deny:5,Settle:1,Open:2},values:{"Approve in Full":75,Deny:0,Settle:210,Open:0}}},SDY:{airport:{"Airport Code":"SDY",lat:47.70690155,lon:-104.1930008,"Airport Name":"Sidney-Richland Airport"},total:1,"2014/02":{counts:{Open:1},values:{Open:0}}},PFN:{airport:{"Airport Code":"PFN",lat:30.212099,lon:-85.6828,"Airport Name":"Panama City-Bay County International"},total:1,"2014/10":{counts:{Open:1},values:{Open:0}}},GFK:{"2014/05":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},total:4,airport:{"Airport Code":"GFK",lat:47.949299,lon:-97.176102,"Airport Name":"Grand Forks - Mark Andrews International"},"2014/12":{counts:{Deny:1},values:{Deny:0}},"2014/08":{counts:{Open:1},values:{Open:0}}},SDF:{total:15,"2013/12":{counts:{"Approve in Full":1,Open:1},values:{"Approve in Full":263.94,Open:0}},"2013/09":{counts:{Open:1},values:{Open:0}},"2013/07":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"SDF",lat:38.1744,lon:-85.736,"Airport Name":"Louisville International"},"2014/07":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":45,Deny:0}},"2014/06":{counts:{Open:1},values:{Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:1},values:{"Approve in Full":58.83,Deny:0}},"2014/04":{counts:{Open:1},values:{Open:0}},"2014/02":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/12":{counts:{Open:2},values:{Open:0}}},CKB:{total:1,airport:{"Airport Code":"CKB",lat:39.2966003418,lon:-80.2281036377,"Airport Name":"Harrison Marion Regional"},"2013/12":{counts:{Deny:1},values:{Deny:0}}},OGG:{"2013/11":{counts:{"Approve in Full":1},values:{"Approve in Full":11.99}},total:39,"2013/12":{counts:{Settle:1},values:{Settle:475.29}},"2014/10":{counts:{Open:1},values:{Open:0}},airport:{"Airport Code":"OGG",lat:20.89859962463379,lon:-156.42999267578125,"Airport Name":"Kahului-Maui, HI"},"2014/12":{counts:{Open:1},values:{Open:0}},"2014/09":{counts:{Deny:2,Settle:1,Open:1},values:{Deny:0,Settle:40,Open:0}},"2014/08":{counts:{"Approve in Full":1},values:{"Approve in Full":34.69}},"2014/07":{counts:{Deny:1,Settle:1,Open:1},values:{Deny:0,Settle:50,Open:0}},"2014/06":{counts:{"Approve in Full":1,Deny:1,Settle:1,Open:1},values:{"Approve in Full":489,Deny:0,Settle:20.09,Open:0}},"2014/05":{counts:{"Approve in Full":1,Deny:2,Settle:2,Open:1},values:{"Approve in Full":11.65,Deny:0,Settle:200.5,Open:0}},"2014/04":{counts:{"Approve in Full":2,Deny:1,Settle:1},values:{"Approve in Full":103,Deny:0,Settle:50}},"2014/03":{counts:{"Approve in Full":4,Deny:1,Settle:1,Open:1},values:{"Approve in Full":625.0699999999999,Deny:0,Settle:35,Open:0}},"2014/11":{counts:{Open:3},values:{Open:0}},"2014/01":{counts:{"Approve in Full":1,Deny:1,Settle:1},values:{"Approve in Full":13.83,Deny:0,Settle:440}}},RSW:{"2013/11":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2013/10":{counts:{"Approve in Full":1},values:{"Approve in Full":69.99}},"2013/12":{counts:{"Approve in Full":1,Deny:2,Open:1},values:{"Approve in Full":14.99,Deny:0,Open:0}},"2014/10":{counts:{Open:3},values:{Open:0}},"2013/03":{counts:{Deny:1},values:{Deny:0}},"2014/11":{counts:{Deny:1,Open:4},values:{Deny:0,Open:0}},airport:{"Airport Code":"RSW",lat:26.53619956970215,lon:-81.75520324707031,"Airport Name":"Southwest Florida International"},total:70,"2014/12":{counts:{Open:4},values:{Open:0}},"2014/09":{counts:{Open:2},values:{Open:0}},"2014/08":{counts:{Open:6},values:{Open:0}},"2014/07":{counts:{Deny:1,Open:1},values:{Deny:0,Open:0}},"2014/06":{counts:{Deny:1},values:{Deny:0}},"2014/05":{counts:{"Approve in Full":2,Deny:2,Settle:1,Open:2},values:{"Approve in Full":204,Deny:0,Settle:342.2,Open:0}},"2014/04":{counts:{"Approve in Full":7,Deny:1,Open:2},values:{"Approve in Full":935.73,Deny:0,Open:0}},"2014/03":{counts:{"Approve in Full":1,Deny:5,Open:6},values:{"Approve in Full":189.99,Deny:0,Open:0}},"2014/02":{counts:{"Approve in Full":4,Settle:1},values:{"Approve in Full":353.31,Settle:296.47}},"2014/01":{counts:{"Approve in Full":2,Deny:2,Open:1},values:{"Approve in Full":481,Deny:0,Open:0}}},GPI:{"2014/07":{counts:{Open:2},values:{Open:0}},"2014/06":{counts:{"Approve in Full":1},values:{"Approve in Full":393}},airport:{"Airport Code":"GPI",lat:2.57013,lon:-77.8986,"Airport Name":"Glacier Park Int., Kalispell, MT"},total:4,"2014/08":{counts:{Open:1},values:{Open:0}}}}},function(t,e,n){var i,r;!function(){var o={version:"3.5.17"},a=[].slice,s=function(t){return a.call(t)},l=this.document;function u(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(t){s=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var h=this.Element.prototype,p=h.setAttribute,d=h.setAttributeNS,f=this.CSSStyleDeclaration.prototype,v=f.setProperty;h.setAttribute=function(t,e){p.call(this,t,e+"")},h.setAttributeNS=function(t,e,n){d.call(this,t,e,n+"")},f.setProperty=function(t,e,n){v.call(this,t,e+"",n)}}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function m(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function x(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}o.ascending=g,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},o.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},o.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},o.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)y(n=+t[o])&&(i+=n);else for(;++o<r;)y(n=+e.call(t,t[o],o))&&(i+=n);return i},o.mean=function(t,e){var n,i=0,r=t.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)y(n=m(t[o]))?i+=n:--a;else for(;++o<r;)y(n=m(e.call(t,t[o],o)))?i+=n:--a;if(a)return i/a},o.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},o.median=function(t,e){var n,i=[],r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)y(n=m(t[a]))&&i.push(n);else for(;++a<r;)y(n=m(e.call(t,t[a],a)))&&i.push(n);if(i.length)return o.quantile(i.sort(g),.5)},o.variance=function(t,e){var n,i,r=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<r;)y(n=m(t[s]))&&(a+=(i=n-o)*(n-(o+=i/++l)));else for(;++s<r;)y(n=m(e.call(t,t[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++l)));if(l>1)return a/(l-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var _=x(g);function A(t){return t.length}o.bisectLeft=_.left,o.bisect=o.bisectRight=_.right,o.bisector=function(t){return x(1===t.length?function(e,n){return g(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},o.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},o.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},o.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=o.min(t,A),i=new Array(n);++e<n;)for(var r,a=-1,s=i[e]=new Array(r);++a<r;)s[a]=t[a][e];return i},o.zip=function(){return o.transpose(arguments)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--a]=i[e];return n};var b=Math.abs;function w(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function O(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(b(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},o.map=function(t,e){var n=new O;if(t instanceof O)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var S="__proto__",M="\0";function T(t){return(t+="")===S||t[0]===M?M+t:t}function D(t){return(t+="")[0]===M?t.slice(1):t}function C(t){return T(t)in this._}function F(t){return(t=T(t))in this._&&delete this._[t]}function E(){var t=[];for(var e in this._)t.push(D(e));return t}function P(){var t=0;for(var e in this._)++t;return t}function L(){for(var t in this._)return!1;return!0}function R(){this._=Object.create(null)}function k(t){return t}function I(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function N(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=G.length;n<i;++n){var r=G[n]+e;if(r in t)return r}}w(O,{has:C,get:function(t){return this._[T(t)]},set:function(t,e){return this._[T(t)]=e},remove:F,keys:E,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:D(e),value:this._[e]});return t},size:P,empty:L,forEach:function(t){for(var e in this._)t.call(this,D(e),this._[e])}}),o.nest=function(){var t,e,n={},i=[],r=[];function a(r,o,s){if(s>=i.length)return e?e.call(n,o):t?o.sort(t):o;for(var l,u,c,h,p=-1,d=o.length,f=i[s++],v=new O;++p<d;)(h=v.get(l=f(u=o[p])))?h.push(u):v.set(l,[u]);return r?(u=r(),c=function(t,e){u.set(t,a(r,e,s))}):(u={},c=function(t,e){u[t]=a(r,e,s)}),v.forEach(c),u}return n.map=function(t,e){return a(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=i.length)return e;var o=[],a=r[n++];return e.forEach(function(e,i){o.push({key:e,values:t(i,n)})}),a?o.sort(function(t,e){return a(t.key,e.key)}):o}(a(o.map,t,0),0)},n.key=function(t){return i.push(t),n},n.sortKeys=function(t){return r[i.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new R;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},w(R,{has:C,add:function(t){return this._[T(t+="")]=!0,t},remove:F,values:E,size:P,empty:L,forEach:function(t){for(var e in this._)t.call(this,D(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=I(t,e,e[n]);return t};var G=["webkit","ms","moz","Moz","o","O"];function j(){}function V(){}function z(t){var e=[],n=new O;function i(){for(var n,i=e,r=-1,o=i.length;++r<o;)(n=i[r].on)&&n.apply(this,arguments);return t}return i.on=function(i,r){var o,a=n.get(i);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),n.remove(i)),r&&e.push(n.set(i,{on:r})),t)},i}function B(){o.event.preventDefault()}function U(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function H(t){for(var e=new V,n=0,i=arguments.length;++n<i;)e[arguments[n]]=z(e);return e.of=function(n,i){return function(r){try{var a=r.sourceEvent=o.event;r.target=t,o.event=r,e[r.type].apply(n,i)}finally{o.event=a}}},e}o.dispatch=function(){for(var t=new V,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=z(t);return t},V.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},o.event=null,o.requote=function(t){return t.replace(q,"\\$&")};var q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,X={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function W(t){return X(t,Z),t}var Y=function(t,e){return e.querySelector(t)},K=function(t,e){return e.querySelectorAll(t)},Q=function(t,e){var n=t.matches||t[N(t,"matchesSelector")];return(Q=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Y=function(t,e){return Sizzle(t,e)[0]||null},K=Sizzle,Q=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var Z=o.selection.prototype=[];function J(t){return"function"==typeof t?t:function(){return Y(t,this)}}function $(t){return"function"==typeof t?t:function(){return K(t,this)}}Z.select=function(t){var e,n,i,r,o=[];t=J(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return W(o)},Z.selectAll=function(t){var e,n,i=[];t=$(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],l=-1,u=a.length;++l<u;)(n=a[l])&&(i.push(e=s(t.call(n,n.__data__,l,r))),e.parentNode=n);return W(i)};var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function it(t){return t.trim().replace(/\s+/g," ")}function rt(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function ot(t){return(t+"").trim().split(/^|\s+/)}function at(t,e){var n=(t=ot(t).map(st)).length;return"function"==typeof e?function(){for(var i=-1,r=e.apply(this,arguments);++i<n;)t[i](this,r)}:function(){for(var i=-1;++i<n;)t[i](this,e)}}function st(t){var e=rt(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",it(r+" "+t))):n.setAttribute("class",it(r.replace(e," ")))}}function lt(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}:function(){this.style.setProperty(t,e,n)}}function ut(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ct(t){return"function"==typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function ht(){var t=this.parentNode;t&&t.removeChild(this)}function pt(t){return{__data__:t}}function dt(t){return function(){return Q(this,t)}}function ft(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,n);return t}function vt(t){return X(t,gt),t}o.ns={prefix:et,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(n)?{space:et[n],local:t}:t}},Z.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(nt(e,t[e]));return this}return this.each(nt(t,e))},Z.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=ot(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!rt(t[r]).test(e))return!1;return!0}for(e in t)this.each(at(e,t[e]));return this}return this.each(at(t,e))},Z.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(lt(n,t[n],e));return this}if(i<2){var r=this.node();return c(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(lt(t,e,n))},Z.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(ut(e,t[e]));return this}return this.each(ut(t,e))},Z.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Z.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Z.append=function(t){return t=ct(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Z.insert=function(t,e){return t=ct(t),e=J(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Z.remove=function(){return this.each(ht)},Z.data=function(t,e){var n,i,r=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(t[r]=i.__data__);return t}function a(t,n){var i,r,o,a=t.length,c=n.length,h=Math.min(a,c),p=new Array(c),d=new Array(c),f=new Array(a);if(e){var v,g=new O,m=new Array(a);for(i=-1;++i<a;)(r=t[i])&&(g.has(v=e.call(r,r.__data__,i))?f[i]=r:g.set(v,r),m[i]=v);for(i=-1;++i<c;)(r=g.get(v=e.call(n,o=n[i],i)))?!0!==r&&(p[i]=r,r.__data__=o):d[i]=pt(o),g.set(v,!0);for(i=-1;++i<a;)i in m&&!0!==g.get(m[i])&&(f[i]=t[i])}else{for(i=-1;++i<h;)r=t[i],o=n[i],r?(r.__data__=o,p[i]=r):d[i]=pt(o);for(;i<c;++i)d[i]=pt(n[i]);for(;i<a;++i)f[i]=t[i]}d.update=p,d.parentNode=p.parentNode=f.parentNode=t.parentNode,s.push(d),l.push(p),u.push(f)}var s=vt([]),l=W([]),u=W([]);if("function"==typeof t)for(;++r<o;)a(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<o;)a(n=this[r],t);return l.enter=function(){return s},l.exit=function(){return u},l},Z.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Z.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=dt(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return W(r)},Z.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Z.sort=function(t){t=function(t){arguments.length||(t=g);return function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Z.each=function(t){return ft(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Z.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},Z.empty=function(){return!this.node()},Z.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},Z.size=function(){var t=0;return ft(this,function(){++t}),t};var gt=[];function mt(t,e,n){var i="__on"+t,r=t.indexOf("."),a=xt;r>0&&(t=t.slice(0,r));var l=yt.get(t);function u(){var e=this[i];e&&(this.removeEventListener(t,e,e.$),delete this[i])}return l&&(t=l,a=_t),r?e?function(){var r=a(e,s(arguments));u.call(this),this.addEventListener(t,this[i]=r,r.$=n),r._=e}:u:e?j:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}}o.selection.enter=vt,o.selection.enter.prototype=gt,gt.append=Z.append,gt.empty=Z.empty,gt.node=Z.node,gt.call=Z.call,gt.size=Z.size,gt.select=function(t){for(var e,n,i,r,o,a=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(o=r[u])?(e.push(i[u]=n=t.call(r.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return W(a)},gt.insert=function(t,e){return arguments.length<2&&(e=function(t){var e,n;return function(i,r,o){var a,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(a=s[e])&&++e<l;);return a}}(this)),Z.insert.call(this,t,e)},o.select=function(t){var e;return"string"==typeof t?(e=[Y(t,l)]).parentNode=l.documentElement:(e=[t]).parentNode=u(t),W([e])},o.selectAll=function(t){var e;return"string"==typeof t?(e=s(K(t,l))).parentNode=l.documentElement:(e=s(t)).parentNode=null,W([e])},Z.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(mt(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(mt(t,e,n))};var yt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function xt(t,e){return function(n){var i=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=i}}}function _t(t,e){var n=xt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}l&&yt.forEach(function(t){"on"+t in l&&yt.remove(t)});var At,bt=0;function wt(t){var e=".dragsuppress-"+ ++bt,n="click"+e,i=o.select(c(t)).on("touchmove"+e,B).on("dragstart"+e,B).on("selectstart"+e,B);if(null==At&&(At=!("onselectstart"in t)&&N(t.style,"userSelect")),At){var r=u(t).style,a=r[At];r[At]="none"}return function(t){if(i.on(e,null),At&&(r[At]=a),t){var o=function(){i.on(n,null)};i.on(n,function(){B(),o()},!0),setTimeout(o,0)}}}o.mouse=function(t){return St(t,U())};var Ot=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function St(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(Ot<0){var r=c(t);if(r.scrollX||r.scrollY){var a=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ot=!(a.f||a.e),n.remove()}}return Ot?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function Mt(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=U().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return St(t,i)},o.behavior.drag=function(){var t=H(r,"drag","dragstart","dragend"),e=null,n=a(j,o.mouse,c,"mousemove","mouseup"),i=a(Mt,o.touch,k,"touchmove","touchend");function r(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function a(n,i,r,a,s){return function(){var l,u=o.event.target.correspondingElement||o.event.target,c=this.parentNode,h=t.of(this,arguments),p=0,d=n(),f=".drag"+(null==d?"":"-"+d),v=o.select(r(u)).on(a+f,function(){var t,e,n=i(c,d);if(!n)return;t=n[0]-m[0],e=n[1]-m[1],p|=t|e,m=n,h({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e})}).on(s+f,function(){if(!i(c,d))return;v.on(a+f,null).on(s+f,null),g(p),h({type:"dragend"})}),g=wt(u),m=i(c,d);l=e?[(l=e.apply(this,arguments)).x-m[0],l.y-m[1]]:[0,0],h({type:"dragstart"})}}return r.origin=function(t){return arguments.length?(e=t,r):e},o.rebind(r,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=U().touches),e?s(e).map(function(e){var n=St(t,e);return n.identifier=e.identifier,n}):[]};var Tt=1e-6,Dt=Tt*Tt,Ct=Math.PI,Ft=2*Ct,Et=Ft-Tt,Pt=Ct/2,Lt=Ct/180,Rt=180/Ct;function kt(t){return t>0?1:t<0?-1:0}function It(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Nt(t){return t>1?0:t<-1?Ct:Math.acos(t)}function Gt(t){return t>1?Pt:t<-1?-Pt:Math.asin(t)}function jt(t){return((t=Math.exp(t))+1/t)/2}function Vt(t){return(t=Math.sin(t/2))*t}var zt=Math.SQRT2;o.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-r,h=l-o,p=c*c+h*h;if(p<Dt)i=Math.log(u/a)/zt,n=function(t){return[r+t*c,o+t*h,a*Math.exp(zt*t*i)]};else{var d=Math.sqrt(p),f=(u*u-a*a+4*p)/(2*a*2*d),v=(u*u-a*a-4*p)/(2*u*2*d),g=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(v*v+1)-v);i=(m-g)/zt,n=function(t){var e=t*i,n=jt(g),s=a/(2*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(zt*e+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[r+s*c,o+s*h,a*n/jt(zt*e+g)]}}return n.duration=1e3*i,n},o.behavior.zoom=function(){var t,e,n,i,r,a,s,u,h,p={x:0,y:0,k:1},d=[960,500],f=Ht,v=250,g=0,m="mousedown.zoom",y="mousemove.zoom",x="mouseup.zoom",_="touchstart.zoom",A=H(b,"zoomstart","zoom","zoomend");function b(t){t.on(m,E).on(Ut+".zoom",L).on("dblclick.zoom",R).on(_,P)}function w(t){return[(t[0]-p.x)/p.k,(t[1]-p.y)/p.k]}function O(t){p.k=Math.max(f[0],Math.min(f[1],t))}function S(t,e){e=function(t){return[t[0]*p.k+p.x,t[1]*p.k+p.y]}(e),p.x+=t[0]-e[0],p.y+=t[1]-e[1]}function M(t,n,i,r){t.__chart__={x:p.x,y:p.y,k:p.k},O(Math.pow(2,r)),S(e=n,i),t=o.select(t),v>0&&(t=t.transition().duration(v)),t.call(b.event)}function T(){s&&s.domain(a.range().map(function(t){return(t-p.x)/p.k}).map(a.invert)),h&&h.domain(u.range().map(function(t){return(t-p.y)/p.k}).map(u.invert))}function D(t){g++||t({type:"zoomstart"})}function C(t){T(),t({type:"zoom",scale:p.k,translate:[p.x,p.y]})}function F(t){--g||(t({type:"zoomend"}),e=null)}function E(){var t=this,e=A.of(t,arguments),n=0,i=o.select(c(t)).on(y,function(){n=1,S(o.mouse(t),r),C(e)}).on(x,function(){i.on(y,null).on(x,null),a(n),F(e)}),r=w(o.mouse(t)),a=wt(t);ds.call(t),D(e)}function P(){var t,e=this,n=A.of(e,arguments),i={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+s,u="touchend"+s,c=[],h=o.select(e),d=wt(e);function f(){var n=o.touches(e);return t=p.k,n.forEach(function(t){t.identifier in i&&(i[t.identifier]=w(t))}),n}function v(){var t=o.event.target;o.select(t).on(l,g).on(u,y),c.push(t);for(var n=o.event.changedTouches,s=0,h=n.length;s<h;++s)i[n[s].identifier]=null;var d=f(),v=Date.now();if(1===d.length){if(v-r<500){var m=d[0];M(e,m,i[m.identifier],Math.floor(Math.log(p.k)/Math.LN2)+1),B()}r=v}else if(d.length>1){m=d[0];var x=d[1],_=m[0]-x[0],A=m[1]-x[1];a=_*_+A*A}}function g(){var s,l,u,c,h=o.touches(e);ds.call(e);for(var p=0,d=h.length;p<d;++p,c=null)if(u=h[p],c=i[u.identifier]){if(l)break;s=u,l=c}if(c){var f=(f=u[0]-s[0])*f+(f=u[1]-s[1])*f,v=a&&Math.sqrt(f/a);s=[(s[0]+u[0])/2,(s[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],O(v*t)}r=null,S(s,l),C(n)}function y(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,r=t.length;e<r;++e)delete i[t[e].identifier];for(var a in i)return void f()}o.selectAll(c).on(s,null),h.on(m,E).on(_,P),d(),F(n)}v(),D(n),h.on(m,null).on(_,v)}function L(){var r=A.of(this,arguments);i?clearTimeout(i):(ds.call(this),t=w(e=n||o.mouse(this)),D(r)),i=setTimeout(function(){i=null,F(r)},50),B(),O(Math.pow(2,.002*Bt())*p.k),S(e,t),C(r)}function R(){var t=o.mouse(this),e=Math.log(p.k)/Math.LN2;M(this,t,w(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Ut||(Ut="onwheel"in l?(Bt=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(Bt=function(){return o.event.wheelDelta},"mousewheel"):(Bt=function(){return-o.event.detail},"MozMousePixelScroll")),b.event=function(t){t.each(function(){var t=A.of(this,arguments),n=p;gs?o.select(this).transition().each("start.zoom",function(){p=this.__chart__||{x:0,y:0,k:1},D(t)}).tween("zoom:zoom",function(){var i=d[0],r=d[1],a=e?e[0]:i/2,s=e?e[1]:r/2,l=o.interpolateZoom([(a-p.x)/p.k,(s-p.y)/p.k,i/p.k],[(a-n.x)/n.k,(s-n.y)/n.k,i/n.k]);return function(e){var n=l(e),r=i/n[2];this.__chart__=p={x:a-n[0]*r,y:s-n[1]*r,k:r},C(t)}}).each("interrupt.zoom",function(){F(t)}).each("end.zoom",function(){F(t)}):(this.__chart__=p,D(t),C(t),F(t))})},b.translate=function(t){return arguments.length?(p={x:+t[0],y:+t[1],k:p.k},T(),b):[p.x,p.y]},b.scale=function(t){return arguments.length?(p={x:p.x,y:p.y,k:null},O(+t),T(),b):p.k},b.scaleExtent=function(t){return arguments.length?(f=null==t?Ht:[+t[0],+t[1]],b):f},b.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],b):n},b.size=function(t){return arguments.length?(d=t&&[+t[0],+t[1]],b):d},b.duration=function(t){return arguments.length?(v=+t,b):v},b.x=function(t){return arguments.length?(s=t,a=t.copy(),p={x:0,y:0,k:1},b):s},b.y=function(t){return arguments.length?(h=t,u=t.copy(),p={x:0,y:0,k:1},b):h},o.rebind(b,A,"on")};var Bt,Ut,Ht=[0,1/0];function qt(){}function Xt(t,e,n){return this instanceof Xt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Xt?new Xt(t.h,t.s,t.l):fe(""+t,ve,Xt):new Xt(t,e,n)}o.color=qt,qt.prototype.toString=function(){return this.rgb()+""},o.hsl=Xt;var Wt=Xt.prototype=new qt;function Yt(t,e,n){var i,r;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(r-i)*t/60:t<180?r:t<240?i+(r-i)*(240-t)/60:i}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,i=2*(n=n<0?0:n>1?1:n)-(r=n<=.5?n*(1+e):n+e-n*e),new ue(o(t+120),o(t),o(t-120))}function Kt(t,e,n){return this instanceof Kt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Kt?new Kt(t.h,t.c,t.l):oe(t instanceof Jt?t.l:(t=ge((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Kt(t,e,n)}Wt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Xt(this.h,this.s,this.l/t)},Wt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Xt(this.h,this.s,t*this.l)},Wt.rgb=function(){return Yt(this.h,this.s,this.l)},o.hcl=Kt;var Qt=Kt.prototype=new qt;function Zt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Jt(n,Math.cos(t*=Lt)*e,Math.sin(t)*e)}function Jt(t,e,n){return this instanceof Jt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Jt?new Jt(t.l,t.a,t.b):t instanceof Kt?Zt(t.h,t.c,t.l):ge((t=ue(t)).r,t.g,t.b):new Jt(t,e,n)}Qt.brighter=function(t){return new Kt(this.h,this.c,Math.min(100,this.l+$t*(arguments.length?t:1)))},Qt.darker=function(t){return new Kt(this.h,this.c,Math.max(0,this.l-$t*(arguments.length?t:1)))},Qt.rgb=function(){return Zt(this.h,this.c,this.l).rgb()},o.lab=Jt;var $t=18,te=.95047,ee=1,ne=1.08883,ie=Jt.prototype=new qt;function re(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return new ue(le(3.2404542*(r=ae(r)*te)-1.5371385*(i=ae(i)*ee)-.4985314*(o=ae(o)*ne)),le(-.969266*r+1.8760108*i+.041556*o),le(.0556434*r-.2040259*i+1.0572252*o))}function oe(t,e,n){return t>0?new Kt(Math.atan2(n,e)*Rt,Math.sqrt(e*e+n*n),t):new Kt(NaN,NaN,t)}function ae(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function se(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function le(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ue(t,e,n){return this instanceof ue?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ue?new ue(t.r,t.g,t.b):fe(""+t,ue,Yt):new ue(t,e,n)}function ce(t){return new ue(t>>16,t>>8&255,255&t)}function he(t){return ce(t)+""}ie.brighter=function(t){return new Jt(Math.min(100,this.l+$t*(arguments.length?t:1)),this.a,this.b)},ie.darker=function(t){return new Jt(Math.max(0,this.l-$t*(arguments.length?t:1)),this.a,this.b)},ie.rgb=function(){return re(this.l,this.a,this.b)},o.rgb=ue;var pe=ue.prototype=new qt;function de(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function fe(t,e,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(ye(r[0]),ye(r[1]),ye(r[2]))}return(o=xe.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function ve(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(r=l<.5?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=l>0&&l<1?0:i),new Xt(i,r,l)}function ge(t,e,n){var i=se((.4124564*(t=me(t))+.3575761*(e=me(e))+.1804375*(n=me(n)))/te),r=se((.2126729*t+.7151522*e+.072175*n)/ee);return Jt(116*r-16,500*(i-r),200*(r-se((.0193339*t+.119192*e+.9503041*n)/ne)))}function me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}pe.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new ue(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new ue(r,r,r)},pe.darker=function(t){return new ue((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},pe.hsl=function(){return ve(this.r,this.g,this.b)},pe.toString=function(){return"#"+de(this.r)+de(this.g)+de(this.b)};var xe=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function _e(t){return"function"==typeof t?t:function(){return t}}function Ae(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),be(e,n,t,i)}}function be(t,e,n,i){var r={},a=o.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function h(){var t,e=u.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||e>=200&&e<300||304===e){try{t=n.call(r,u)}catch(t){return void a.error.call(r,t)}a.load.call(r,t)}else a.error.call(r,u)}return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=h:u.onreadystatechange=function(){u.readyState>3&&h()},u.onprogress=function(t){var e=o.event;o.event=t;try{a.progress.call(r,u)}finally{o.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.responseType=function(t){return arguments.length?(c=t,r):c},r.response=function(t){return n=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(s(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),u.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),u.setRequestHeader)for(var s in l)u.setRequestHeader(s,l[s]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(r,u),u.send(null==i?null:i),r},r.abort=function(){return u.abort(),r},o.rebind(r,a,"on"),null==i?r:r.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(i))}xe.forEach(function(t,e){xe.set(t,ce(e))}),o.functor=_e,o.xhr=Ae(k),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),i=t.charCodeAt(0);function r(t,n,i){arguments.length<3&&(i=n,n=null);var r=be(t,e,null==n?o:a(n),i);return r.row=function(t){return arguments.length?r.response(null==(n=t)?o:a(t)):n},r}function o(t){return r.parse(t.responseText)}function a(t){return function(e){return r.parse(e.responseText,t)}}function s(e){return e.map(l).join(t)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return r.parse=function(t,e){var n;return r.parseRows(t,function(t,i){if(n)return n(t,i-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(r(t),n)}:r})},r.parseRows=function(t,e){var n,r,o={},a={},s=[],l=t.length,u=0,c=0;function h(){if(u>=l)return a;if(r)return r=!1,o;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(s=t.charCodeAt(n+1))?(r=!0,10===t.charCodeAt(n+2)&&++u):10===s&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u<l;){var s,c=1;if(10===(s=t.charCodeAt(u++)))r=!0;else if(13===s)r=!0,10===t.charCodeAt(u)&&(++u,++c);else if(s!==i)continue;return t.slice(e,u-c)}return t.slice(e)}for(;(n=h())!==a;){for(var p=[];n!==o&&n!==a;)p.push(n),n=h();e&&null==(p=e(p,c++))||s.push(p)}return s},r.format=function(e){if(Array.isArray(e[0]))return r.formatRows(e);var n=new R,i=[];return e.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(l).join(t)].concat(e.map(function(e){return i.map(function(t){return l(e[t])}).join(t)})).join("\n")},r.formatRows=function(t){return t.map(s).join("\n")},r},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var we,Oe,Se,Me,Te=this[N(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function De(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return Oe?Oe.n=r:we=r,Oe=r,Se||(Me=clearTimeout(Me),Se=1,Te(Ce)),r}function Ce(){var t=Fe(),e=Ee()-t;e>24?(isFinite(e)&&(clearTimeout(Me),Me=setTimeout(Ce,e)),Se=0):(Se=1,Te(Ce))}function Fe(){for(var t=Date.now(),e=we;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ee(){for(var t,e=we,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:we=e.n;return Oe=t,n}function Pe(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(){De.apply(this,arguments)},o.timer.flush=function(){Fe(),Ee()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Le=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*b(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,Pe(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Le[8+n/3]};var Re=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ke=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,Pe(t,e))).toFixed(Math.max(0,Math.min(20,Pe(t*(1+1e-15),e))))}});function Ie(t){return t+""}var Ne=o.time={},Ge=Date;function je(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}je.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ve.setUTCDate.apply(this._,arguments)},setDay:function(){Ve.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ve.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ve.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ve.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ve.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ve.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ve.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ve.setTime.apply(this._,arguments)}};var Ve=Date.prototype;function ze(t,e,n){function i(e){var n=t(e),i=o(n,1);return e-n<i-e?n:i}function r(n){return e(n=t(new Ge(n-1)),1),n}function o(t,n){return e(t=new Ge(+t),n),t}function a(t,i,o){var a=r(t),s=[];if(o>1)for(;a<i;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<i;)s.push(new Date(+a)),e(a,1);return s}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=a;var s=t.utc=Be(t);return s.floor=s,s.round=Be(i),s.ceil=Be(r),s.offset=Be(o),s.range=function(t,e,n){try{Ge=je;var i=new je;return i._=t,a(i,e,n)}finally{Ge=Date}},t}function Be(t){return function(e,n){try{Ge=je;var i=new je;return i._=e,t(i,n)._}finally{Ge=Date}}}Ne.year=ze(function(t){return(t=Ne.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Ne.years=Ne.year.range,Ne.years.utc=Ne.year.utc.range,Ne.day=ze(function(t){var e=new Ge(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Ne.days=Ne.day.range,Ne.days.utc=Ne.day.utc.range,Ne.dayOfYear=function(t){var e=Ne.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Ne[t]=ze(function(t){return(t=Ne.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Ne.year(t).getDay();return Math.floor((Ne.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Ne[t+"s"]=n.range,Ne[t+"s"].utc=n.utc.range,Ne[t+"OfYear"]=function(t){var n=Ne.year(t).getDay();return Math.floor((Ne.dayOfYear(t)+(n+e)%7)/7)}}),Ne.week=Ne.sunday,Ne.weeks=Ne.sunday.range,Ne.weeks.utc=Ne.sunday.utc.range,Ne.weekOfYear=Ne.sundayOfYear;var Ue={"-":"",_:" ",0:"0"},He=/^\s*\d+/,qe=/^%/;function Xe(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function We(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Ye(t){for(var e=new O,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Ke(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Qe(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Ze(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Je(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function $e(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+2));return i?(t.y=function(t){return t+(t>68?1900:2e3)}(+i[0]),n+i[0].length):-1}function tn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function en(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function nn(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function rn(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function on(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function an(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function sn(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function ln(t,e,n){He.lastIndex=0;var i=He.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function un(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=b(e)/60|0,r=b(e)%60;return n+Xe(i,"0",2)+Xe(r,"0",2)}function cn(t,e,n){qe.lastIndex=0;var i=qe.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function hn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}o.locale=function(t){return{numberFormat:function(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,a=i&&n?function(t,e){for(var r=t.length,o=[],a=0,s=i[0],l=0;r>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>e));)s=i[a=(a+1)%i.length];return o.reverse().join(n)}:k;return function(t){var n=Re.exec(t),i=n[1]||" ",s=n[2]||">",l=n[3]||"-",u=n[4]||"",c=n[5],h=+n[6],p=n[7],d=n[8],f=n[9],v=1,g="",m="",y=!1,x=!0;switch(d&&(d=+d.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="="),f){case"n":p=!0,f="g";break;case"%":v=100,m="%",f="f";break;case"p":v=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+f.toLowerCase());case"c":x=!1;case"d":y=!0,d=0;break;case"s":v=-1,f="r"}"$"===u&&(g=r[0],m=r[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):"e"!=f&&"f"!=f||(d=Math.max(0,Math.min(20,d)))),f=ke.get(f)||Ie;var _=c&&p;return function(t){var n=m;if(y&&t%1)return"";var r=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(v<0){var u=o.formatPrefix(t,d);t=u.scale(t),n=u.symbol+m}else t*=v;var A,b,w=(t=f(t,d)).lastIndexOf(".");if(w<0){var O=x?t.lastIndexOf("e"):-1;O<0?(A=t,b=""):(A=t.substring(0,O),b=t.substring(O))}else A=t.substring(0,w),b=e+t.substring(w+1);!c&&p&&(A=a(A,1/0));var S=g.length+A.length+b.length+(_?0:r.length),M=S<h?new Array(S=h-S+1).join(i):"";return _&&(A=a(M+A,M.length?h-b.length:1/0)),r+=g,t=A+b,("<"===s?r+t+M:">"===s?M+r+t:"^"===s?M.substring(0,S>>=1)+r+t+M.substring(S):r+(_?t:M+t))+n}}}(t),timeFormat:function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths;function c(t){var e=t.length;function n(n){for(var i,r,o,a=[],s=-1,l=0;++s<e;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(r=Ue[i=t.charAt(++s)])&&(i=t.charAt(++s)),(o=A[i])&&(i=o(n,null==r?"e"===i?" ":"0":r)),a.push(i),l=s+1);return a.push(t.slice(l,s)),a.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&Ge!==je,r=new(i?je:Ge);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?r._:r},n.toString=function(){return t},n}function h(t,e,n,i){for(var r,o,a,s=0,l=e.length,u=n.length;s<l;){if(i>=u)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=b[a in Ue?e.charAt(s++):a])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}c.utc=function(t){var e=c(t);function n(t){try{var n=new(Ge=je);return n._=t,e(n)}finally{Ge=Date}}return n.parse=function(t){try{Ge=je;var n=e.parse(t);return n&&n._}finally{Ge=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=hn;var p=o.map(),d=We(a),f=Ye(a),v=We(s),g=Ye(s),m=We(l),y=Ye(l),x=We(u),_=Ye(u);r.forEach(function(t,e){p.set(t.toLowerCase(),e)});var A={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:c(e),d:function(t,e){return Xe(t.getDate(),e,2)},e:function(t,e){return Xe(t.getDate(),e,2)},H:function(t,e){return Xe(t.getHours(),e,2)},I:function(t,e){return Xe(t.getHours()%12||12,e,2)},j:function(t,e){return Xe(1+Ne.dayOfYear(t),e,3)},L:function(t,e){return Xe(t.getMilliseconds(),e,3)},m:function(t,e){return Xe(t.getMonth()+1,e,2)},M:function(t,e){return Xe(t.getMinutes(),e,2)},p:function(t){return r[+(t.getHours()>=12)]},S:function(t,e){return Xe(t.getSeconds(),e,2)},U:function(t,e){return Xe(Ne.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Xe(Ne.mondayOfYear(t),e,2)},x:c(n),X:c(i),y:function(t,e){return Xe(t.getFullYear()%100,e,2)},Y:function(t,e){return Xe(t.getFullYear()%1e4,e,4)},Z:un,"%":function(){return"%"}},b={a:function(t,e,n){v.lastIndex=0;var i=v.exec(e.slice(n));return i?(t.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){d.lastIndex=0;var i=d.exec(e.slice(n));return i?(t.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.m=_.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){m.lastIndex=0;var i=m.exec(e.slice(n));return i?(t.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,n){return h(t,A.c.toString(),e,n)},d:nn,e:nn,H:on,I:on,j:rn,L:ln,m:en,M:an,p:function(t,e,n){var i=p.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:sn,U:Qe,w:Ke,W:Ze,x:function(t,e,n){return h(t,A.x.toString(),e,n)},X:function(t,e,n){return h(t,A.X.toString(),e,n)},y:$e,Y:Je,Z:tn,"%":cn};return c}(t)}};var pn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dn(){}o.format=pn.numberFormat,o.geo={},dn.prototype={s:0,t:0,add:function(t){vn(t,this.t,fn),vn(fn.s,this.s,this),this.s?this.t+=fn.t:this.s=fn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var fn=new dn;function vn(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function gn(t,e){t&&yn.hasOwnProperty(t.type)&&yn[t.type](t,e)}o.geo.stream=function(t,e){t&&mn.hasOwnProperty(t.type)?mn[t.type](t,e):gn(t,e)};var mn={Feature:function(t,e){gn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)gn(n[i].geometry,e)}},yn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){xn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)xn(n[i],e,0)},Polygon:function(t,e){_n(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)_n(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)gn(n[i],e)}};function xn(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function _n(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)xn(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return An=0,o.geo.stream(t,Rn),An};var An,bn,wn,On,Sn,Mn,Tn,Dn,Cn,Fn,En,Pn,Ln=new dn,Rn={sphere:function(){An+=4*Ct},point:j,lineStart:j,lineEnd:j,polygonStart:function(){Ln.reset(),Rn.lineStart=kn},polygonEnd:function(){var t=2*Ln;An+=t<0?4*Ct+t:t,Rn.lineStart=Rn.lineEnd=Rn.point=j}};function kn(){var t,e,n,i,r;function o(t,e){e=e*Lt/2+Ct/4;var o=(t*=Lt)-n,a=o>=0?1:-1,s=a*o,l=Math.cos(e),u=Math.sin(e),c=r*u,h=i*l+c*Math.cos(s),p=c*a*Math.sin(s);Ln.add(Math.atan2(p,h)),n=t,i=l,r=u}Rn.point=function(a,s){Rn.point=o,n=(t=a)*Lt,i=Math.cos(s=(e=s)*Lt/2+Ct/4),r=Math.sin(s)},Rn.lineEnd=function(){o(t,e)}}function In(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function Nn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Gn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function jn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Vn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function zn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Bn(t){return[Math.atan2(t[1],t[0]),Gt(t[2])]}function Un(t,e){return b(t[0]-e[0])<Tt&&b(t[1]-e[1])<Tt}o.geo.bounds=function(){var t,e,n,i,r,a,s,l,u,c,h,p={point:d,lineStart:v,lineEnd:g,polygonStart:function(){p.point=m,p.lineStart=y,p.lineEnd=x,u=0,Rn.polygonStart()},polygonEnd:function(){Rn.polygonEnd(),p.point=d,p.lineStart=v,p.lineEnd=g,Ln<0?(t=-(n=180),e=-(i=90)):u>Tt?i=90:u<-Tt&&(e=-90),h[0]=t,h[1]=n}};function d(r,o){c.push(h=[t=r,n=r]),o<e&&(e=o),o>i&&(i=o)}function f(o,a){var s=In([o*Lt,a*Lt]);if(l){var u=Gn(l,s),c=Gn([u[1],-u[0],0],u);zn(c),c=Bn(c);var h=o-r,p=h>0?1:-1,f=c[0]*Rt*p,v=b(h)>180;if(v^(p*r<f&&f<p*o))(g=c[1]*Rt)>i&&(i=g);else if(v^(p*r<(f=(f+360)%360-180)&&f<p*o)){var g;(g=-c[1]*Rt)<e&&(e=g)}else a<e&&(e=a),a>i&&(i=a);v?o<r?_(t,o)>_(t,n)&&(n=o):_(o,n)>_(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>r?_(t,o)>_(t,n)&&(n=o):_(o,n)>_(t,n)&&(t=o)}else d(o,a);l=s,r=o}function v(){p.point=f}function g(){h[0]=t,h[1]=n,p.point=d,l=null}function m(t,e){if(l){var n=t-r;u+=b(n)>180?n+(n>0?360:-360):n}else a=t,s=e;Rn.point(t,e),f(t,e)}function y(){Rn.lineStart()}function x(){m(a,s),Rn.lineEnd(),b(u)>Tt&&(t=-(n=180)),h[0]=t,h[1]=n,l=null}function _(t,e){return(e-=t)<0?e+360:e}function A(t,e){return t[0]-e[0]}function w(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(r){if(i=n=-(t=e=1/0),c=[],o.geo.stream(r,p),u=c.length){c.sort(A);for(var a=1,s=[v=c[0]];a<u;++a)w((d=c[a])[0],v)||w(d[1],v)?(_(v[0],d[1])>_(v[0],v[1])&&(v[1]=d[1]),_(d[0],v[1])>_(v[0],v[1])&&(v[0]=d[0])):s.push(v=d);for(var l,u,d,f=-1/0,v=(a=0,s[u=s.length-1]);a<=u;v=d,++a)d=s[a],(l=_(v[1],d[0]))>f&&(f=l,t=d[0],n=v[1])}return c=h=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,i]]}}(),o.geo.centroid=function(t){bn=wn=On=Sn=Mn=Tn=Dn=Cn=Fn=En=Pn=0,o.geo.stream(t,Hn);var e=Fn,n=En,i=Pn,r=e*e+n*n+i*i;return r<Dt&&(e=Tn,n=Dn,i=Cn,wn<Tt&&(e=On,n=Sn,i=Mn),(r=e*e+n*n+i*i)<Dt)?[NaN,NaN]:[Math.atan2(n,e)*Rt,Gt(i/Math.sqrt(r))*Rt]};var Hn={sphere:j,point:qn,lineStart:Wn,lineEnd:Yn,polygonStart:function(){Hn.lineStart=Kn},polygonEnd:function(){Hn.lineStart=Wn}};function qn(t,e){t*=Lt;var n=Math.cos(e*=Lt);Xn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Xn(t,e,n){On+=(t-On)/++bn,Sn+=(e-Sn)/bn,Mn+=(n-Mn)/bn}function Wn(){var t,e,n;function i(i,r){i*=Lt;var o=Math.cos(r*=Lt),a=o*Math.cos(i),s=o*Math.sin(i),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=e*l-n*s)*u+(u=n*a-t*l)*u+(u=t*s-e*a)*u),t*a+e*s+n*l);wn+=u,Tn+=u*(t+(t=a)),Dn+=u*(e+(e=s)),Cn+=u*(n+(n=l)),Xn(t,e,n)}Hn.point=function(r,o){r*=Lt;var a=Math.cos(o*=Lt);t=a*Math.cos(r),e=a*Math.sin(r),n=Math.sin(o),Hn.point=i,Xn(t,e,n)}}function Yn(){Hn.point=qn}function Kn(){var t,e,n,i,r;function o(t,e){t*=Lt;var o=Math.cos(e*=Lt),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(e),u=i*l-r*s,c=r*a-n*l,h=n*s-i*a,p=Math.sqrt(u*u+c*c+h*h),d=n*a+i*s+r*l,f=p&&-Nt(d)/p,v=Math.atan2(p,d);Fn+=f*u,En+=f*c,Pn+=f*h,wn+=v,Tn+=v*(n+(n=a)),Dn+=v*(i+(i=s)),Cn+=v*(r+(r=l)),Xn(n,i,r)}Hn.point=function(a,s){t=a,e=s,Hn.point=o,a*=Lt;var l=Math.cos(s*=Lt);n=l*Math.cos(a),i=l*Math.sin(a),r=Math.sin(s),Xn(n,i,r)},Hn.lineEnd=function(){o(t,e),Hn.lineEnd=Yn,Hn.point=qn}}function Qn(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Zn(){return!0}function Jn(t,e,n,i,r){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Un(n,i)){r.lineStart();for(var s=0;s<e;++s)r.point((n=t[s])[0],n[1]);r.lineEnd()}else{var l=new ti(n,t,null,!0),u=new ti(n,null,l,!1);l.o=u,o.push(l),a.push(u),u=new ti(i,null,l=new ti(i,t,null,!1),!0),l.o=u,o.push(l),a.push(u)}}}),a.sort(e),$n(o),$n(a),o.length){for(var s=0,l=n,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,h,p=o[0];;){for(var d=p,f=!0;d.v;)if((d=d.n)===p)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(s=0,u=c.length;s<u;++s)r.point((h=c[s])[0],h[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(s=(c=d.p.z).length-1;s>=0;--s)r.point((h=c[s])[0],h[1]);else i(d.x,d.p.x,-1,r);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);r.lineEnd()}}}function $n(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function ti(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ei(t,e,n,i){return function(r,a){var s,l=e(a),u=r.invert(i[0],i[1]),c={point:h,lineStart:d,lineEnd:f,polygonStart:function(){c.point=_,c.lineStart=A,c.lineEnd=b,s=[],v=[]},polygonEnd:function(){c.point=h,c.lineStart=d,c.lineEnd=f,s=o.merge(s);var t=function(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ln.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var h=u[0],p=h[0],d=h[1]/2+Ct/4,f=Math.sin(d),v=Math.cos(d),g=1;;){g===c&&(g=0);var m=(t=u[g])[0],y=t[1]/2+Ct/4,x=Math.sin(y),_=Math.cos(y),A=m-p,b=A>=0?1:-1,w=b*A,O=w>Ct,S=f*x;if(Ln.add(Math.atan2(S*b*Math.sin(w),v*_+S*Math.cos(w))),o+=O?A+b*Ft:A,O^p>=n^m>=n){var M=Gn(In(h),In(t));zn(M);var T=Gn(r,M);zn(T);var D=(O^A>=0?-1:1)*Gt(T[2]);(i>D||i===D&&(M[0]||M[1]))&&(a+=O^A>=0?1:-1)}if(!g++)break;p=m,f=x,v=_,h=t}}return(o<-Tt||o<Tt&&Ln<-Tt)^1&a}(u,v);s.length?(x||(a.polygonStart(),x=!0),Jn(s,ri,t,n,a)):t&&(x||(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),s=v=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&a.point(e,n)}function p(t,e){var n=r(t,e);l.point(n[0],n[1])}function d(){c.point=p,l.lineStart()}function f(){c.point=h,l.lineEnd()}var v,g,m=ii(),y=e(m),x=!1;function _(t,e){g.push([t,e]);var n=r(t,e);y.point(n[0],n[1])}function A(){y.lineStart(),g=[]}function b(){_(g[0][0],g[0][1]),y.lineEnd();var t,e=y.clean(),n=m.buffer(),i=n.length;if(g.pop(),v.push(g),g=null,i)if(1&e){var r,o=-1;if((i=(t=n[0]).length-1)>0){for(x||(a.polygonStart(),x=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(ni))}return c}}function ni(t){return t.length>1}function ii(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:j,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ri(t,e){return((t=t.x)[0]<0?t[1]-Pt-Tt:Pt-t[1])-((e=e.x)[0]<0?e[1]-Pt-Tt:Pt-e[1])}var oi=ei(Zn,function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ct:-Ct,l=b(o-n);b(l-Ct)<Tt?(t.point(n,i=(i+a)/2>0?Pt:-Pt),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&l>=Ct&&(b(n-r)<Tt&&(n-=r*Tt),b(o-s)<Tt&&(o-=s*Tt),i=function(t,e,n,i){var r,o,a=Math.sin(t-n);return b(a)>Tt?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)r=n*Pt,i.point(-Ct,r),i.point(0,r),i.point(Ct,r),i.point(Ct,0),i.point(Ct,-r),i.point(0,-r),i.point(-Ct,-r),i.point(-Ct,0),i.point(-Ct,r);else if(b(t[0]-e[0])>Tt){var o=t[0]<e[0]?Ct:-Ct;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-Ct,-Ct/2]);function ai(t,e,n,i){return function(r){var o,a=r.a,s=r.b,l=a.x,u=a.y,c=0,h=1,p=s.x-l,d=s.y-u;if(o=t-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=n-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}if(o=e-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=i-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return c>0&&(r.a={x:l+c*p,y:u+c*d}),h<1&&(r.b={x:l+h*p,y:u+h*d}),r}}}}}}var si=1e9;function li(t,e,n,i){return function(l){var u,c,h,p,d,f,v,g,m,y,x,_=l,A=ii(),b=ai(t,e,n,i),w={point:M,lineStart:function(){w.point=T,c&&c.push(h=[]);y=!0,m=!1,v=g=NaN},lineEnd:function(){u&&(T(p,d),f&&m&&A.rejoin(),u.push(A.buffer()));w.point=M,m&&l.lineEnd()},polygonStart:function(){l=A,u=[],c=[],x=!0},polygonEnd:function(){l=_,u=o.merge(u);var e=function(t){for(var e=0,n=c.length,i=t[1],r=0;r<n;++r)for(var o,a=1,s=c[r],l=s.length,u=s[0];a<l;++a)o=s[a],u[1]<=i?o[1]>i&&It(u,o,t)>0&&++e:o[1]<=i&&It(u,o,t)<0&&--e,u=o;return 0!==e}([t,i]),n=x&&e,r=u.length;(n||r)&&(l.polygonStart(),n&&(l.lineStart(),O(null,null,1,l),l.lineEnd()),r&&Jn(u,a,e,O,l),l.polygonEnd()),u=c=h=null}};function O(o,a,l,u){var c=0,h=0;if(null==o||(c=r(o,l))!==(h=r(a,l))||s(o,a)<0^l>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+l+4)%4)!==h);else u.point(a[0],a[1])}function S(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function M(t,e){S(t,e)&&l.point(t,e)}function T(t,e){var n=S(t=Math.max(-si,Math.min(si,t)),e=Math.max(-si,Math.min(si,e)));if(c&&h.push([t,e]),y)p=t,d=e,f=n,y=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&m)l.point(t,e);else{var i={a:{x:v,y:g},b:{x:t,y:e}};b(i)?(m||(l.lineStart(),l.point(i.a.x,i.a.y)),l.point(i.b.x,i.b.y),n||l.lineEnd(),x=!1):n&&(l.lineStart(),l.point(t,e),x=!1)}v=t,g=e,m=n}return w};function r(i,r){return b(i[0]-t)<Tt?r>0?0:3:b(i[0]-n)<Tt?r>0?2:1:b(i[1]-e)<Tt?r>0?1:0:r>0?3:2}function a(t,e){return s(t.x,e.x)}function s(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function ui(t){var e=0,n=Ct/3,i=Ei(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Ct/180,n=t[1]*Ct/180):[e/Ct*180,n/Ct*180]},r}function ci(t,e){var n=Math.sin(t),i=(n+Math.sin(e))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function a(t,e){var n=Math.sqrt(r-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,Gt((r-(t*t+n*n)*i*i)/(2*i))]},a}o.geo.clipExtent=function(){var t,e,n,i,r,o,a={stream:function(t){return r&&(r.valid=!1),(r=o(t)).valid=!0,r},extent:function(s){return arguments.length?(o=li(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return ui(ci)}).raw=ci,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,i,r=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};function u(r){var o=r[0],a=r[1];return t=null,e(o,a),t||(n(o,a),t)||i(o,a),t}return u.invert=function(t){var e=r.scale(),n=r.translate(),i=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&i>=-.425&&i<-.214?a:o>=.166&&o<.234&&i>=-.214&&i<-.115?s:r).invert(t)},u.stream=function(t){var e=r.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},u.precision=function(t){return arguments.length?(r.precision(t),a.precision(t),s.precision(t),u):r.precision()},u.scale=function(t){return arguments.length?(r.scale(t),a.scale(.35*t),s.scale(t),u.translate(r.translate())):r.scale()},u.translate=function(t){if(!arguments.length)return r.translate();var o=r.scale(),c=+t[0],h=+t[1];return e=r.translate(t).clipExtent([[c-.455*o,h-.238*o],[c+.455*o,h+.238*o]]).stream(l).point,n=a.translate([c-.307*o,h+.201*o]).clipExtent([[c-.425*o+Tt,h+.12*o+Tt],[c-.214*o-Tt,h+.234*o-Tt]]).stream(l).point,i=s.translate([c-.205*o,h+.212*o]).clipExtent([[c-.214*o+Tt,h+.166*o+Tt],[c-.115*o-Tt,h+.234*o-Tt]]).stream(l).point,u},u.scale(1070)};var hi,pi,di,fi,vi,gi,mi={point:j,lineStart:j,lineEnd:j,polygonStart:function(){pi=0,mi.lineStart=yi},polygonEnd:function(){mi.lineStart=mi.lineEnd=mi.point=j,hi+=b(pi/2)}};function yi(){var t,e,n,i;function r(t,e){pi+=i*t-n*e,n=t,i=e}mi.point=function(o,a){mi.point=r,t=n=o,e=i=a},mi.lineEnd=function(){r(t,e)}}var xi={point:function(t,e){t<di&&(di=t);t>vi&&(vi=t);e<fi&&(fi=e);e>gi&&(gi=e)},lineStart:j,lineEnd:j,polygonStart:j,polygonEnd:j};function _i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Ai,bi={point:wi,lineStart:Oi,lineEnd:Si,polygonStart:function(){bi.lineStart=Mi},polygonEnd:function(){bi.point=wi,bi.lineStart=Oi,bi.lineEnd=Si}};function wi(t,e){On+=t,Sn+=e,++Mn}function Oi(){var t,e;function n(n,i){var r=n-t,o=i-e,a=Math.sqrt(r*r+o*o);Tn+=a*(t+n)/2,Dn+=a*(e+i)/2,Cn+=a,wi(t=n,e=i)}bi.point=function(i,r){bi.point=n,wi(t=i,e=r)}}function Si(){bi.point=wi}function Mi(){var t,e,n,i;function r(t,e){var r=t-n,o=e-i,a=Math.sqrt(r*r+o*o);Tn+=a*(n+t)/2,Dn+=a*(i+e)/2,Cn+=a,Fn+=(a=i*t-n*e)*(n+t),En+=a*(i+e),Pn+=3*a,wi(n=t,i=e)}bi.point=function(o,a){bi.point=r,wi(t=n=o,e=i=a)},bi.lineEnd=function(){r(t,e)}}function Ti(t){var e=.5,n=Math.cos(30*Lt),i=16;function r(e){return(i?function(e){var n,r,a,s,l,u,c,h,p,d,f,v,g={point:m,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),g.lineStart=A},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,i){n=t(n,i),e.point(n[0],n[1])}function y(){h=NaN,g.point=x,e.lineStart()}function x(n,r){var a=In([n,r]),s=t(n,r);o(h,p,c,d,f,v,h=s[0],p=s[1],c=n,d=a[0],f=a[1],v=a[2],i,e),e.point(h,p)}function _(){g.point=m,e.lineEnd()}function A(){y(),g.point=b,g.lineEnd=w}function b(t,e){x(n=t,e),r=h,a=p,s=d,l=f,u=v,g.point=x}function w(){o(h,p,c,d,f,v,r,a,n,s,l,u,i,e),g.lineEnd=_,_()}return g}:function(e){return Ci(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})})(e)}function o(i,r,a,s,l,u,c,h,p,d,f,v,g,m){var y=c-i,x=h-r,_=y*y+x*x;if(_>4*e&&g--){var A=s+d,w=l+f,O=u+v,S=Math.sqrt(A*A+w*w+O*O),M=Math.asin(O/=S),T=b(b(O)-1)<Tt||b(a-p)<Tt?(a+p)/2:Math.atan2(w,A),D=t(T,M),C=D[0],F=D[1],E=C-i,P=F-r,L=x*E-y*P;(L*L/_>e||b((y*E+x*P)/_-.5)>.3||s*d+l*f+u*v<n)&&(o(i,r,a,s,l,u,C,F,T,A/=S,w/=S,O,g,m),m.point(C,F),o(C,F,T,A,w,O,c,h,p,d,f,v,g,m))}}return r.precision=function(t){return arguments.length?(i=(e=t*t)>0&&16,r):Math.sqrt(e)},r}function Di(t){this.stream=t}function Ci(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Fi(t){return Ei(function(){return t})()}function Ei(t){var e,n,i,r,a,s,l=Ti(function(t,n){return[(t=e(t,n))[0]*u+r,a-t[1]*u]}),u=150,c=480,h=250,p=0,d=0,f=0,v=0,g=0,m=oi,y=k,x=null,_=null;function A(t){return[(t=i(t[0]*Lt,t[1]*Lt))[0]*u+r,a-t[1]*u]}function w(t){return(t=i.invert((t[0]-r)/u,(a-t[1])/u))&&[t[0]*Rt,t[1]*Rt]}function O(){i=Qn(n=ki(f,v,g),e);var t=e(p,d);return r=c-t[0]*u,a=h+t[1]*u,S()}function S(){return s&&(s.valid=!1,s=null),A}return A.stream=function(t){return s&&(s.valid=!1),(s=Pi(m(n,l(y(t))))).valid=!0,s},A.clipAngle=function(t){return arguments.length?(m=null==t?(x=t,oi):function(t){var e=Math.cos(t),n=e>0,i=b(e)>Tt;return ei(r,function(t){var e,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,p){var d,f=[h,p],v=r(h,p),g=n?v?0:a(h,p):v?a(h+(h<0?Ct:-Ct),p):0;if(!e&&(u=l=v)&&t.lineStart(),v!==l&&(d=o(e,f),(Un(e,d)||Un(f,d))&&(f[0]+=Tt,f[1]+=Tt,v=r(f[0],f[1]))),v!==l)c=0,v?(t.lineStart(),d=o(f,e),t.point(d[0],d[1])):(d=o(e,f),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(i&&e&&n^v){var m;g&s||!(m=o(f,e,!0))||(c=0,n?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!v||e&&Un(e,f)||t.point(f[0],f[1]),e=f,l=v,s=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}},ji(t,6*Lt),n?[0,-t]:[-Ct,t-Ct]);function r(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,i){var r=[1,0,0],o=Gn(In(t),In(n)),a=Nn(o,o),s=o[0],l=a-s*s;if(!l)return!i&&t;var u=e*a/l,c=-e*s/l,h=Gn(r,o),p=Vn(r,u);jn(p,Vn(o,c));var d=h,f=Nn(p,d),v=Nn(d,d),g=f*f-v*(Nn(p,p)-1);if(!(g<0)){var m=Math.sqrt(g),y=Vn(d,(-f-m)/v);if(jn(y,p),y=Bn(y),!i)return y;var x,_=t[0],A=n[0],w=t[1],O=n[1];A<_&&(x=_,_=A,A=x);var S=A-_,M=b(S-Ct)<Tt;if(!M&&O<w&&(x=w,w=O,O=x),M||S<Tt?M?w+O>0^y[1]<(b(y[0]-_)<Tt?w:O):w<=y[1]&&y[1]<=O:S>Ct^(_<=y[0]&&y[0]<=A)){var T=Vn(d,(-f+m)/v);return jn(T,p),[y,Bn(T)]}}}function a(e,i){var r=n?t:Ct-t,o=0;return e<-r?o|=1:e>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}}((x=+t)*Lt),S()):x},A.clipExtent=function(t){return arguments.length?(_=t,y=t?li(t[0][0],t[0][1],t[1][0],t[1][1]):k,S()):_},A.scale=function(t){return arguments.length?(u=+t,O()):u},A.translate=function(t){return arguments.length?(c=+t[0],h=+t[1],O()):[c,h]},A.center=function(t){return arguments.length?(p=t[0]%360*Lt,d=t[1]%360*Lt,O()):[p*Rt,d*Rt]},A.rotate=function(t){return arguments.length?(f=t[0]%360*Lt,v=t[1]%360*Lt,g=t.length>2?t[2]%360*Lt:0,O()):[f*Rt,v*Rt,g*Rt]},o.rebind(A,l,"precision"),function(){return e=t.apply(this,arguments),A.invert=e.invert&&w,O()}}function Pi(t){return Ci(t,function(e,n){t.point(e*Lt,n*Lt)})}function Li(t,e){return[t,e]}function Ri(t,e){return[t>Ct?t-Ft:t<-Ct?t+Ft:t,e]}function ki(t,e,n){return t?e||n?Qn(Ni(t),Gi(e,n)):Ni(t):e||n?Gi(e,n):Ri}function Ii(t){return function(e,n){return[(e+=t)>Ct?e-Ft:e<-Ct?e+Ft:e,n]}}function Ni(t){var e=Ii(t);return e.invert=Ii(-t),e}function Gi(t,e){var n=Math.cos(t),i=Math.sin(t),r=Math.cos(e),o=Math.sin(e);function a(t,e){var a=Math.cos(e),s=Math.cos(t)*a,l=Math.sin(t)*a,u=Math.sin(e),c=u*n+s*i;return[Math.atan2(l*r-c*o,s*n-u*i),Gt(c*r+l*o)]}return a.invert=function(t,e){var a=Math.cos(e),s=Math.cos(t)*a,l=Math.sin(t)*a,u=Math.sin(e),c=u*r-l*o;return[Math.atan2(l*r+u*o,s*n+c*i),Gt(c*n-s*i)]},a}function ji(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,a,s){var l=a*e;null!=r?(r=Vi(n,r),o=Vi(n,o),(a>0?r<o:r>o)&&(r+=a*Ft)):(r=t+a*Ft,o=t-.5*l);for(var u,c=r;a>0?c>o:c<o;c-=l)s.point((u=Bn([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function Vi(t,e){var n=In(e);n[0]-=t,zn(n);var i=Nt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Tt)%(2*Math.PI)}function zi(t,e,n){var i=o.range(t,e-Tt,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Bi(t,e,n){var i=o.range(t,e-Tt,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function Ui(t){return t.source}function Hi(t){return t.target}o.geo.path=function(){var t,e,n,i,r,a=4.5;function s(t){return t&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),r&&r.valid||(r=n(i)),o.geo.stream(t,r)),i.result()}function l(){return r=null,s}return s.area=function(t){return hi=0,o.geo.stream(t,n(mi)),hi},s.centroid=function(t){return On=Sn=Mn=Tn=Dn=Cn=Fn=En=Pn=0,o.geo.stream(t,n(bi)),Pn?[Fn/Pn,En/Pn]:Cn?[Tn/Cn,Dn/Cn]:Mn?[On/Mn,Sn/Mn]:[NaN,NaN]},s.bounds=function(t){return vi=gi=-(di=fi=1/0),o.geo.stream(t,n(xi)),[[di,fi],[vi,gi]]},s.projection=function(e){return arguments.length?(n=(t=e)?e.stream||function(t){var e=Ti(function(e,n){return t([e*Rt,n*Rt])});return function(t){return Pi(e(t))}}(e):k,l()):t},s.context=function(t){return arguments.length?(i=null==(e=t)?new function(){var t=_i(4.5),e=[],n={point:i,lineStart:function(){n.point=r},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=i},pointRadius:function(e){return t=_i(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function i(n,i){e.push("M",n,",",i,t)}function r(t,i){e.push("M",t,",",i),n.point=o}function o(t,n){e.push("L",t,",",n)}function a(){n.point=i}function s(){e.push("Z")}return n}:new function(t){var e=4.5,n={point:i,lineStart:function(){n.point=r},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=i},pointRadius:function(t){return e=t,n},result:j};function i(n,i){t.moveTo(n+e,i),t.arc(n,i,e,0,Ft)}function r(e,i){t.moveTo(e,i),n.point=o}function o(e,n){t.lineTo(e,n)}function a(){n.point=i}function s(){t.closePath()}return n}(t),"function"!=typeof a&&i.pointRadius(a),l()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),s):a},s.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new Di(e);for(var i in t)n[i]=t[i];return n}}},Di.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Fi,o.geo.projectionMutator=Ei,(o.geo.equirectangular=function(){return Fi(Li)}).raw=Li.invert=Li,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*Lt,e[1]*Lt))[0]*=Rt,e[1]*=Rt,e}return t=ki(t[0]%360*Lt,t[1]*Lt,t.length>2?t[2]*Lt:0),e.invert=function(e){return(e=t.invert(e[0]*Lt,e[1]*Lt))[0]*=Rt,e[1]*=Rt,e},e},Ri.invert=Li,o.geo.circle=function(){var t,e,n=[0,0],i=6;function r(){var t="function"==typeof n?n.apply(this,arguments):n,i=ki(-t[0]*Lt,-t[1]*Lt,0).invert,r=[];return e(null,null,1,{point:function(t,e){r.push(t=i(t,e)),t[0]*=Rt,t[1]*=Rt}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(t){return arguments.length?(n=t,r):n},r.angle=function(n){return arguments.length?(e=ji((t=+n)*Lt,i*Lt),r):t},r.precision=function(n){return arguments.length?(e=ji(t*Lt,(i=+n)*Lt),r):i},r.angle(90)},o.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Lt,r=t[1]*Lt,o=e[1]*Lt,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},o.geo.graticule=function(){var t,e,n,i,r,a,s,l,u,c,h,p,d=10,f=d,v=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:x()}}function x(){return o.range(Math.ceil(i/v)*v,n,v).map(h).concat(o.range(Math.ceil(l/g)*g,s,g).map(p)).concat(o.range(Math.ceil(e/d)*d,t,d).filter(function(t){return b(t%v)>Tt}).map(u)).concat(o.range(Math.ceil(a/f)*f,r,f).filter(function(t){return b(t%g)>Tt}).map(c))}return y.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(p(s).slice(1),h(n).reverse().slice(1),p(l).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],l=+t[0][1],s=+t[1][1],i>n&&(t=i,i=n,n=t),l>s&&(t=l,l=s,s=t),y.precision(m)):[[i,l],[n,s]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],r=+n[1][1],e>t&&(n=e,e=t,t=n),a>r&&(n=a,a=r,r=n),y.precision(m)):[[e,a],[t,r]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(v=+t[0],g=+t[1],y):[v,g]},y.minorStep=function(t){return arguments.length?(d=+t[0],f=+t[1],y):[d,f]},y.precision=function(o){return arguments.length?(m=+o,u=zi(a,r,90),c=Bi(e,t,m),h=zi(l,s,90),p=Bi(i,n,m),y):m},y.majorExtent([[-180,-90+Tt],[180,90-Tt]]).minorExtent([[-180,-80-Tt],[180,80+Tt]])},o.geo.greatArc=function(){var t,e,n=Ui,i=Hi;function r(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||i.apply(this,arguments)]}}return r.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||i.apply(this,arguments))},r.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,r):n},r.target=function(t){return arguments.length?(i=t,e="function"==typeof t?null:t,r):i},r.precision=function(){return arguments.length?r:0},r},o.geo.interpolate=function(t,e){return function(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),a=Math.cos(i),s=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),p=2*Math.asin(Math.sqrt(Vt(i-e)+r*a*Vt(n-t))),d=1/Math.sin(p),f=p?function(t){var e=Math.sin(t*=p)*d,n=Math.sin(p-t)*d,i=n*l+e*c,r=n*u+e*h,a=n*o+e*s;return[Math.atan2(r,i)*Rt,Math.atan2(a,Math.sqrt(i*i+r*r))*Rt]}:function(){return[t*Rt,e*Rt]};return f.distance=p,f}(t[0]*Lt,t[1]*Lt,e[0]*Lt,e[1]*Lt)},o.geo.length=function(t){return Ai=0,o.geo.stream(t,qi),Ai};var qi={sphere:j,point:j,lineStart:function(){var t,e,n;function i(i,r){var o=Math.sin(r*=Lt),a=Math.cos(r),s=b((i*=Lt)-t),l=Math.cos(s);Ai+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-e*a*l)*s),e*o+n*a*l),t=i,e=o,n=a}qi.point=function(r,o){t=r*Lt,e=Math.sin(o*=Lt),n=Math.cos(o),qi.point=i},qi.lineEnd=function(){qi.point=qi.lineEnd=j}},lineEnd:j,polygonStart:j,polygonEnd:j};function Xi(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*o,i*a),Math.asin(i&&n*o/i)]},n}var Wi=Xi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return Fi(Wi)}).raw=Wi;var Yi=Xi(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},k);function Ki(t,e){var n=Math.cos(t),i=function(t){return Math.tan(Ct/4+t/2)},r=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(i(e)/i(t)),o=n*Math.pow(i(t),r)/r;if(!r)return Ji;function a(t,e){o>0?e<-Pt+Tt&&(e=-Pt+Tt):e>Pt-Tt&&(e=Pt-Tt);var n=o/Math.pow(i(e),r);return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}return a.invert=function(t,e){var n=o-e,i=kt(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(o/i,1/r))-Pt]},a}function Qi(t,e){var n=Math.cos(t),i=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),r=n/i+t;if(b(i)<Tt)return Li;function o(t,e){var n=r-e;return[n*Math.sin(i*t),r-n*Math.cos(i*t)]}return o.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/i,r-kt(i)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Fi(Yi)}).raw=Yi,(o.geo.conicConformal=function(){return ui(Ki)}).raw=Ki,(o.geo.conicEquidistant=function(){return ui(Qi)}).raw=Qi;var Zi=Xi(function(t){return 1/t},Math.atan);function Ji(t,e){return[t,Math.log(Math.tan(Ct/4+e/2))]}function $i(t){var e,n=Fi(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Ct*i(),l=r();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}(o.geo.gnomonic=function(){return Fi(Zi)}).raw=Zi,Ji.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Pt]},(o.geo.mercator=function(){return $i(Ji)}).raw=Ji;var tr=Xi(function(){return 1},Math.asin);(o.geo.orthographic=function(){return Fi(tr)}).raw=tr;var er=Xi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function nr(t,e){return[Math.log(Math.tan(Ct/4+e/2)),-t]}function ir(t){return t[0]}function rr(t){return t[1]}function or(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;i>1&&It(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function ar(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return Fi(er)}).raw=er,nr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Pt]},(o.geo.transverseMercator=function(){var t=$i(nr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=nr,o.geom={},o.geom.hull=function(t){var e=ir,n=rr;if(arguments.length)return i(t);function i(t){if(t.length<3)return[];var i,r=_e(e),o=_e(n),a=t.length,s=[],l=[];for(i=0;i<a;i++)s.push([+r.call(this,t[i],i),+o.call(this,t[i],i),i]);for(s.sort(ar),i=0;i<a;i++)l.push([s[i][0],-s[i][1]]);var u=or(s),c=or(l),h=c[0]===u[0],p=c[c.length-1]===u[u.length-1],d=[];for(i=u.length-1;i>=0;--i)d.push(t[s[u[i]][2]]);for(i=+h;i<c.length-p;++i)d.push(t[s[c[i]][2]]);return d}return i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},o.geom.polygon=function(t){return X(t,sr),t};var sr=o.geom.polygon.prototype=[];function lr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function ur(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,l=t[1],u=n[1],c=e[1]-l,h=i[1]-u,p=(s*(l-u)-h*(r-o))/(h*a-s*c);return[r+p*a,l+p*c]}function cr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}sr.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},sr.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},sr.clip=function(t){for(var e,n,i,r,o,a,s=cr(t),l=-1,u=this.length-cr(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-s)-1],n=-1;++n<i;)lr(a=e[n],c,r)?(lr(o,c,r)||t.push(ur(o,a,c,r)),t.push(a)):lr(o,c,r)&&t.push(ur(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var hr,pr,dr,fr,vr,gr=[],mr=[];function yr(t){var e=gr.pop()||new function(){kr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function xr(t){Tr(t),dr.remove(t),gr.push(t),kr(t)}function _r(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];xr(t);for(var l=o;l.circle&&b(n-l.circle.x)<Tt&&b(i-l.circle.cy)<Tt;)o=l.P,s.unshift(l),xr(l),l=o;s.unshift(l),Tr(l);for(var u=a;u.circle&&b(n-u.circle.x)<Tt&&b(i-u.circle.cy)<Tt;)a=u.N,s.push(u),xr(u),u=a;s.push(u),Tr(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],Pr(u.edge,l.site,u.site,r);l=s[0],(u=s[h-1]).edge=Fr(l.site,u.site,null,r),Mr(l),Mr(u)}function Ar(t){for(var e,n,i,r,o=t.x,a=t.y,s=dr._;s;)if((i=br(s,a)-o)>Tt)s=s.L;else{if(!((r=o-wr(s,a))>Tt)){i>-Tt?(e=s.P,n=s):r>-Tt?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=yr(t);if(dr.insert(e,l),e||n){if(e===n)return Tr(e),n=yr(e.site),dr.insert(l,n),l.edge=n.edge=Fr(e.site,l.site),Mr(e),void Mr(n);if(n){Tr(e),Tr(n);var u=e.site,c=u.x,h=u.y,p=t.x-c,d=t.y-h,f=n.site,v=f.x-c,g=f.y-h,m=2*(p*g-d*v),y=p*p+d*d,x=v*v+g*g,_={x:(g*y-d*x)/m+c,y:(p*x-v*y)/m+h};Pr(n.edge,u,f,_),l.edge=Fr(u,t,null,_),n.edge=Fr(t,f,null,_),Mr(e),Mr(n)}else l.edge=Fr(e.site,l.site)}}function br(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,u=l-e;if(!u)return s;var c=s-i,h=1/o-1/u,p=c/u;return h?(-p+Math.sqrt(p*p-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+s)/2}function wr(t,e){var n=t.N;if(n)return br(n,e);var i=t.site;return i.y===e?i.x:1/0}function Or(t){this.site=t,this.edges=[]}function Sr(t,e){return e.angle-t.angle}function Mr(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,l=i.x-a,u=i.y-s,c=o.x-a,h=2*(l*(g=o.y-s)-u*c);if(!(h>=-Dt)){var p=l*l+u*u,d=c*c+g*g,f=(g*p-u*d)/h,v=(l*d-c*p)/h,g=v+s,m=mr.pop()||new function(){kr(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=r,m.x=f+a,m.y=g+Math.sqrt(f*f+v*v),m.cy=g,t.circle=m;for(var y=null,x=vr._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}vr.insert(y,m),y||(fr=m)}}}}function Tr(t){var e=t.circle;e&&(e.P||(fr=e.N),vr.remove(e),mr.push(e),kr(e),t.circle=null)}function Dr(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,p=c.x,d=c.y,f=h.x,v=h.y,g=(p+f)/2,m=(d+v)/2;if(v===d){if(g<a||g>=s)return;if(p>f){if(o){if(o.y>=u)return}else o={x:g,y:l};n={x:g,y:u}}else{if(o){if(o.y<l)return}else o={x:g,y:u};n={x:g,y:l}}}else if(r=m-(i=(p-f)/(v-d))*g,i<-1||i>1)if(p>f){if(o){if(o.y>=u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(d<v){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function Cr(t,e){this.l=t,this.r=e,this.a=this.b=null}function Fr(t,e,n,i){var r=new Cr(t,e);return hr.push(r),n&&Pr(r,t,e,n),i&&Pr(r,e,t,i),pr[t.i].edges.push(new Lr(r,t,e)),pr[e.i].edges.push(new Lr(r,e,t)),r}function Er(t,e,n){var i=new Cr(t,null);return i.a=e,i.b=n,hr.push(i),i}function Pr(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function Lr(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Rr(){this._=null}function kr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ir(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Nr(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Gr(t){for(;t.L;)t=t.L;return t}function jr(t,e){var n,i,r,o=t.sort(Vr).pop();for(hr=[],pr=new Array(t.length),dr=new Rr,vr=new Rr;;)if(r=fr,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(pr[o.i]=new Or(o),Ar(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;_r(r.arc)}e&&(function(t){for(var e,n=hr,i=ai(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Dr(e=n[r],t)||!i(e)||b(e.a.x-e.b.x)<Tt&&b(e.a.y-e.b.y)<Tt)&&(e.a=e.b=null,n.splice(r,1))}(e),function(t){for(var e,n,i,r,o,a,s,l,u,c,h=t[0][0],p=t[1][0],d=t[0][1],f=t[1][1],v=pr,g=v.length;g--;)if((o=v[g])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)i=(c=s[a].end()).x,r=c.y,e=(u=s[++a%l].start()).x,n=u.y,(b(i-e)>Tt||b(r-n)>Tt)&&(s.splice(a,0,new Lr(Er(o.site,c,b(i-h)<Tt&&f-r>Tt?{x:h,y:b(e-h)<Tt?n:f}:b(r-f)<Tt&&p-i>Tt?{x:b(n-f)<Tt?e:p,y:f}:b(i-p)<Tt&&r-d>Tt?{x:p,y:b(e-p)<Tt?n:d}:b(r-d)<Tt&&i-h>Tt?{x:b(n-d)<Tt?e:h,y:d}:null),o.site,null)),++l)}(e));var a={cells:pr,edges:hr};return dr=vr=hr=pr=null,a}function Vr(t,e){return e.y-t.y||e.x-t.x}Or.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Sr),e.length},Lr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Rr.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Gr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Ir(this,n),n=(t=n).U),n.C=!1,i.C=!0,Nr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Nr(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ir(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?Gr(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Ir(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Nr(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Ir(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Nr(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ir(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Nr(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ir,n=rr,i=e,r=n,o=zr;if(t)return a(t);function a(t){var e=new Array(t.length),n=o[0][0],i=o[0][1],r=o[1][0],a=o[1][1];return jr(s(t),o).cells.forEach(function(o,s){var l=o.edges,u=o.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=n&&u.x<=r&&u.y>=i&&u.y<=a?[[n,a],[r,a],[r,i],[n,i]]:[]).point=t[s]}),e}function s(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/Tt)*Tt,y:Math.round(r(t,e)/Tt)*Tt,i:e}})}return a.links=function(t){return jr(s(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},a.triangles=function(t){var e=[];return jr(s(t)).cells.forEach(function(n,i){for(var r,o=n.site,a=n.edges.sort(Sr),s=-1,l=a.length,u=a[l-1].edge,c=u.l===o?u.r:u.l;++s<l;)u,r=c,c=(u=a[s].edge).l===o?u.r:u.l,i<r.i&&i<c.i&&Br(o,r,c)<0&&e.push([t[i],t[r.i],t[c.i]])}),e},a.x=function(t){return arguments.length?(i=_e(e=t),a):e},a.y=function(t){return arguments.length?(r=_e(n=t),a):n},a.clipExtent=function(t){return arguments.length?(o=null==t?zr:t,a):o===zr?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===zr?null:o&&o[1]},a};var zr=[[-1e6,-1e6],[1e6,1e6]];function Br(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Ur(t){return t.x}function Hr(t){return t.y}function qr(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,i=t.g,r=t.b,a=e.r-n,s=e.g-i,l=e.b-r;return function(t){return"#"+de(Math.round(n+a*t))+de(Math.round(i+s*t))+de(Math.round(r+l*t))}}function Xr(t,e){var n,i={},r={};for(n in t)n in e?i[n]=Zr(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function Wr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Yr(t,e){var n,i,r,o=Kr.lastIndex=Qr.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Kr.exec(t))&&(i=Qr.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Wr(n,i)})),o=Qr.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,i,r){var o,a=ir,s=rr;if(o=arguments.length)return a=Ur,s=Hr,3===o&&(r=n,i=e,n=e=0),l(t);function l(t){var l,u,c,h,p,d,f,v,g,m=_e(a),y=_e(s);if(null!=e)d=e,f=n,v=i,g=r;else if(v=g=-(d=f=1/0),u=[],c=[],p=t.length,o)for(h=0;h<p;++h)(l=t[h]).x<d&&(d=l.x),l.y<f&&(f=l.y),l.x>v&&(v=l.x),l.y>g&&(g=l.y),u.push(l.x),c.push(l.y);else for(h=0;h<p;++h){var x=+m(l=t[h],h),_=+y(l,h);x<d&&(d=x),_<f&&(f=_),x>v&&(v=x),_>g&&(g=_),u.push(x),c.push(_)}var A=v-d,w=g-f;function O(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(b(l-n)+b(u-i)<.01)S(t,e,n,i,r,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,S(t,c,l,u,r,o,a,s),S(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else S(t,e,n,i,r,o,a,s)}function S(t,e,n,i,r,o,a,s){var l=.5*(r+a),u=.5*(o+s),c=n>=l,h=i>=u,p=h<<1|c;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){O(M,t,+m(t,++h),+y(t,h),d,f,v,g)}}),c?r=l:a=l,h?o=u:s=u,O(t,e,n,i,r,o,a,s)}A>w?g=f+A:v=d+w;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){O(M,t,+m(t,++h),+y(t,h),d,f,v,g)}};if(M.visit=function(t){!function t(e,n,i,r,o,a){if(!e(n,i,r,o,a)){var s=.5*(i+o),l=.5*(r+a),u=n.nodes;u[0]&&t(e,u[0],i,r,s,l),u[1]&&t(e,u[1],s,r,o,l),u[2]&&t(e,u[2],i,l,s,a),u[3]&&t(e,u[3],s,l,o,a)}}(t,M,d,f,v,g)},M.find=function(t){return function(t,e,n,i,r,o,a){var s,l=1/0;return function t(u,c,h,p,d){if(!(c>o||h>a||p<i||d<r)){if(f=u.point){var f,v=e-u.x,g=n-u.y,m=v*v+g*g;if(m<l){var y=Math.sqrt(l=m);i=e-y,r=n-y,o=e+y,a=n+y,s=f}}for(var x=u.nodes,_=.5*(c+p),A=.5*(h+d),b=(n>=A)<<1|e>=_,w=b+4;b<w;++b)if(u=x[3&b])switch(3&b){case 0:t(u,c,h,_,A);break;case 1:t(u,_,h,p,A);break;case 2:t(u,c,A,_,d);break;case 3:t(u,_,A,p,d)}}}(t,i,r,o,a),s}(M,t[0],t[1],d,f,v,g)},h=-1,null==e){for(;++h<p;)O(M,t[h],u[h],c[h],d,f,v,g);--h}else t.forEach(M.add);return u=c=t=l=null,M}return l.x=function(t){return arguments.length?(a=t,l):a},l.y=function(t){return arguments.length?(s=t,l):s},l.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),l):null==e?null:[[e,n],[i,r]]},l.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),l):null==e?null:[i-e,r-n]},l},o.interpolateRgb=qr,o.interpolateObject=Xr,o.interpolateNumber=Wr,o.interpolateString=Yr;var Kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qr=new RegExp(Kr.source,"g");function Zr(t,e){for(var n,i=o.interpolators.length;--i>=0&&!(n=o.interpolators[i](t,e)););return n}function Jr(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(Zr(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<a;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}o.interpolate=Zr,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?xe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?qr:Yr:e instanceof qt?qr:Array.isArray(e)?Jr:"object"===n&&isNaN(e)?Xr:Wr)(t,e)}],o.interpolateArray=Jr;var $r=function(){return k},to=o.map({linear:$r,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return ro},cubic:function(){return oo},sin:function(){return so},exp:function(){return lo},circle:function(){return uo},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Ft*Math.asin(1/t):(t=1,n=e/4);return function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Ft/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return co}}),eo=o.map({in:k,out:no,"in-out":io,"out-in":function(t){return io(no(t))}});function no(t){return function(e){return 1-t(1-e)}}function io(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function ro(t){return t*t}function oo(t){return t*t*t}function ao(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function so(t){return 1-Math.cos(t*Pt)}function lo(t){return Math.pow(2,10*(t-1))}function uo(t){return 1-Math.sqrt(1-t*t)}function co(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function ho(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function po(t){var e=[t.a,t.b],n=[t.c,t.d],i=vo(e),r=fo(e,n),o=vo(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Rt,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Rt:0}function fo(t,e){return t[0]*e[0]+t[1]*e[1]}function vo(t){var e=Math.sqrt(fo(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=to.get(n)||$r,function(t){return function(e){return e<=0?0:e>=1?1:t(e)}}((i=eo.get(i)||k)(n.apply(null,a.call(arguments,1))))},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,i=t.c,r=t.l,a=e.h-n,s=e.c-i,l=e.l-r;isNaN(s)&&(s=0,i=isNaN(i)?e.c:i);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return Zt(n+a*t,i+s*t,r+l*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,i=t.s,r=t.l,a=e.h-n,s=e.s-i,l=e.l-r;isNaN(s)&&(s=0,i=isNaN(i)?e.s:i);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return Yt(n+a*t,i+s*t,r+l*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,i=t.a,r=t.b,a=e.l-n,s=e.a-i,l=e.b-r;return function(t){return re(n+a*t,i+s*t,r+l*t)+""}},o.interpolateRound=ho,o.transform=function(t){var e=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new po(n?n.matrix:go)})(t)},po.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var go={a:1,b:0,c:0,d:1,e:0,f:0};function mo(t){return t.length?t.pop()+",":""}function yo(t,e){var n=[],i=[];return t=o.transform(t),e=o.transform(e),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:Wr(t[0],e[0])},{i:r-2,x:Wr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,i),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(mo(n)+"rotate(",null,")")-2,x:Wr(t,e)})):e&&n.push(mo(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,i),function(t,e,n,i){t!==e?i.push({i:n.push(mo(n)+"skewX(",null,")")-2,x:Wr(t,e)}):e&&n.push(mo(n)+"skewX("+e+")")}(t.skew,e.skew,n,i),function(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(mo(n)+"scale(",null,",",null,")");i.push({i:r-4,x:Wr(t[0],e[0])},{i:r-2,x:Wr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(mo(n)+"scale("+e+")")}(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,o=i.length;++r<o;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function xo(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function _o(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Ao(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;var n=bo(t),i=bo(e),r=n.pop(),o=i.pop(),a=null;for(;r===o;)a=r,r=n.pop(),o=i.pop();return a}(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function bo(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function wo(t){t.fixed|=2}function Oo(t){t.fixed&=-7}function So(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Mo(t){t.fixed&=-5}o.interpolateTransform=yo,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Ao(t[n]));return e}},o.layout.chord=function(){var t,e,n,i,r,a,s,l={},u=0;function c(){var l,c,p,d,f,v={},g=[],m=o.range(i),y=[];for(t=[],e=[],l=0,d=-1;++d<i;){for(c=0,f=-1;++f<i;)c+=n[d][f];g.push(c),y.push(o.range(i)),l+=c}for(r&&m.sort(function(t,e){return r(g[t],g[e])}),a&&y.forEach(function(t,e){t.sort(function(t,i){return a(n[e][t],n[e][i])})}),l=(Ft-u*i)/l,c=0,d=-1;++d<i;){for(p=c,f=-1;++f<i;){var x=m[d],_=y[x][f],A=n[x][_],b=c,w=c+=A*l;v[x+"-"+_]={index:x,subindex:_,startAngle:b,endAngle:w,value:A}}e[x]={index:x,startAngle:p,endAngle:c,value:g[x]},c+=u}for(d=-1;++d<i;)for(f=d-1;++f<i;){var O=v[d+"-"+f],S=v[f+"-"+d];(O.value||S.value)&&t.push(O.value<S.value?{source:S,target:O}:{source:O,target:S})}s&&h()}function h(){t.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return l.matrix=function(r){return arguments.length?(i=(n=r)&&n.length,t=e=null,l):n},l.padding=function(n){return arguments.length?(u=n,t=e=null,l):u},l.sortGroups=function(n){return arguments.length?(r=n,t=e=null,l):r},l.sortSubgroups=function(e){return arguments.length?(a=e,t=null,l):a},l.sortChords=function(e){return arguments.length?(s=e,t&&h(),l):s},l.chords=function(){return t||c(),t},l.groups=function(){return e||c(),e},l},o.layout.force=function(){var t,e,n,i,r,a,s={},l=o.dispatch("start","tick","end"),u=[1,1],c=.9,h=To,p=Do,d=-30,f=Co,v=.1,g=.64,m=[],y=[];function x(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=r-n,l=o*o+a*a;if(s*s/g<l){if(l<f){var u=e.charge/l;t.px-=o*u,t.py-=a*u}return!0}if(e.point&&l&&l<f){u=e.pointCharge/l;t.px-=o*u,t.py-=a*u}}return!e.charge}}function _(t){t.px=o.event.x,t.py=o.event.y,s.resume()}return s.tick=function(){if((n*=.99)<.005)return t=null,l.end({type:"end",alpha:n=0}),!0;var e,s,h,p,f,g,_,A,b,w=m.length,O=y.length;for(s=0;s<O;++s)p=(h=y[s]).source,(g=(A=(f=h.target).x-p.x)*A+(b=f.y-p.y)*b)&&(A*=g=n*r[s]*((g=Math.sqrt(g))-i[s])/g,b*=g,f.x-=A*(_=p.weight+f.weight?p.weight/(p.weight+f.weight):.5),f.y-=b*_,p.x+=A*(_=1-_),p.y+=b*_);if((_=n*v)&&(A=u[0]/2,b=u[1]/2,s=-1,_))for(;++s<w;)(h=m[s]).x+=(A-h.x)*_,h.y+=(b-h.y)*_;if(d)for(!function t(e,n,i){var r=0,o=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,l=s.length,u=-1;++u<l;)null!=(a=s[u])&&(t(a,n,i),e.charge+=a.charge,r+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*i[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,o+=c*e.point.y}e.cx=r/e.charge;e.cy=o/e.charge}(e=o.geom.quadtree(m),n,a),s=-1;++s<w;)(h=m[s]).fixed||e.visit(x(h));for(s=-1;++s<w;)(h=m[s]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*c,h.y-=(h.py-(h.py=h.y))*c);l.tick({type:"tick",alpha:n})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(u=t,s):u},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,s):p},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(f=t*t,s):Math.sqrt(f)},s.gravity=function(t){return arguments.length?(v=+t,s):v},s.theta=function(t){return arguments.length?(g=t*t,s):Math.sqrt(g)},s.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:n=0})):e>0&&(l.start({type:"start",alpha:n=e}),t=De(s.tick)),s):n},s.start=function(){var t,e,n,o=m.length,l=y.length,c=u[0],f=u[1];for(t=0;t<o;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<l;++t)"number"==typeof(n=y[t]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<o;++t)n=m[t],isNaN(n.x)&&(n.x=v("x",c)),isNaN(n.y)&&(n.y=v("y",f)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof h)for(t=0;t<l;++t)i[t]=+h.call(this,y[t],t);else for(t=0;t<l;++t)i[t]=h;if(r=[],"function"==typeof p)for(t=0;t<l;++t)r[t]=+p.call(this,y[t],t);else for(t=0;t<l;++t)r[t]=p;if(a=[],"function"==typeof d)for(t=0;t<o;++t)a[t]=+d.call(this,m[t],t);else for(t=0;t<o;++t)a[t]=d;function v(n,i){if(!e){for(e=new Array(o),u=0;u<o;++u)e[u]=[];for(u=0;u<l;++u){var r=y[u];e[r.source.index].push(r.target),e[r.target.index].push(r.source)}}for(var a,s=e[t],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][n]))return a;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(e||(e=o.behavior.drag().origin(k).on("dragstart.force",wo).on("drag.force",_).on("dragend.force",Oo)),!arguments.length)return e;this.on("mouseover.force",So).on("mouseout.force",Mo).call(e)},o.rebind(s,l,"on")};var To=20,Do=1,Co=1/0;function Fo(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Io,t}function Eo(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Po(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function Lo(t){return t.children}function Ro(t){return t.value}function ko(t,e){return e.value-t.value}function Io(t){return o.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}o.layout.hierarchy=function(){var t=ko,e=Lo,n=Ro;function i(r){var o,a=[r],s=[];for(r.depth=0;null!=(o=a.pop());)if(s.push(o),(u=e.call(i,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=u}else n&&(o.value=+n.call(i,o,o.depth)||0),delete o.children;return Po(r,function(e){var i,r;t&&(i=e.children)&&i.sort(t),n&&(r=e.parent)&&(r.value+=e.value)}),s}return i.sort=function(e){return arguments.length?(t=e,i):t},i.children=function(t){return arguments.length?(e=t,i):e},i.value=function(t){return arguments.length?(n=t,i):n},i.revalue=function(t){return n&&(Eo(t,function(t){t.children&&(t.value=0)}),Po(t,function(t){var e;t.children||(t.value=+n.call(i,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},i},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(n,i){var r=t.call(this,n,i);return function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,l,u=-1;for(i=e.value?i/e.value:0;++u<a;)t(s=o[u],n,l=s.value*i,r),n+=l}}(r[0],0,e[0],e[1]/function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,t(n[o]));return 1+i}(r[0])),r}return n.size=function(t){return arguments.length?(e=t,n):e},Fo(n,t)},o.layout.pie=function(){var t=Number,e=No,n=0,i=Ft,r=0;function a(s){var l,u=s.length,c=s.map(function(e,n){return+t.call(a,e,n)}),h=+("function"==typeof n?n.apply(this,arguments):n),p=("function"==typeof i?i.apply(this,arguments):i)-h,d=Math.min(Math.abs(p)/u,+("function"==typeof r?r.apply(this,arguments):r)),f=d*(p<0?-1:1),v=o.sum(c),g=v?(p-u*f)/v:0,m=o.range(u),y=[];return null!=e&&m.sort(e===No?function(t,e){return c[e]-c[t]}:function(t,n){return e(s[t],s[n])}),m.forEach(function(t){y[t]={data:s[t],value:l=c[t],startAngle:h,endAngle:h+=l*g+f,padAngle:d}}),y}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(e=t,a):e},a.startAngle=function(t){return arguments.length?(n=t,a):n},a.endAngle=function(t){return arguments.length?(i=t,a):i},a.padAngle=function(t){return arguments.length?(r=t,a):r},a};var No={};function Go(t){return t.x}function jo(t){return t.y}function Vo(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=k,e=Uo,n=Ho,i=Vo,r=Go,a=jo;function s(l,u){if(!(d=l.length))return l;var c=l.map(function(e,n){return t.call(s,e,n)}),h=c.map(function(t){return t.map(function(t,e){return[r.call(s,t,e),a.call(s,t,e)]})}),p=e.call(s,h,u);c=o.permute(c,p),h=o.permute(h,p);var d,f,v,g,m=n.call(s,h,u),y=c[0].length;for(v=0;v<y;++v)for(i.call(s,c[0][v],g=m[v],h[0][v][1]),f=1;f<d;++f)i.call(s,c[f][v],g+=h[f-1][v][1],h[f][v][1]);return l}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(t){return arguments.length?(e="function"==typeof t?t:zo.get(t)||Uo,s):e},s.offset=function(t){return arguments.length?(n="function"==typeof t?t:Bo.get(t)||Ho,s):n},s.x=function(t){return arguments.length?(r=t,s):r},s.y=function(t){return arguments.length?(a=t,s):a},s.out=function(t){return arguments.length?(i=t,s):i},s};var zo=o.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(qo),a=t.map(Xo),s=o.range(i).sort(function(t,e){return r[t]-r[e]}),l=0,u=0,c=[],h=[];for(e=0;e<i;++e)n=s[e],l<u?(l+=a[n],c.push(n)):(u+=a[n],h.push(n));return h.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:Uo}),Bo=o.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,i,r,o,a,s,l,u,c=t.length,h=t[0],p=h.length,d=[];for(d[0]=l=u=0,n=1;n<p;++n){for(e=0,r=0;e<c;++e)r+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];e<c;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}d[n]=l-=r?o/r*s:0,l<u&&(u=l)}for(n=0;n<p;++n)d[n]-=u;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Ho});function Uo(t){return o.range(t.length)}function Ho(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function qo(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function Xo(t){return t.reduce(Wo,0)}function Wo(t,e){return t+e[1]}function Yo(t,e){return Ko(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Ko(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function Qo(t){return[o.min(t),o.max(t)]}function Zo(t,e){return t.value-e.value}function Jo(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function $o(t,e){t._pack_next=e,e._pack_prev=t}function ta(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function ea(t){if((e=t.children)&&(l=e.length)){var e,n,i,r,o,a,s,l,u=1/0,c=-1/0,h=1/0,p=-1/0;if(e.forEach(na),(n=e[0]).x=-n.r,n.y=0,x(n),l>1&&((i=e[1]).x=i.r,i.y=0,x(i),l>2))for(ra(n,i,r=e[2]),x(r),Jo(n,r),n._pack_prev=r,Jo(r,i),i=n._pack_next,o=3;o<l;o++){ra(n,i,r=e[o]);var d=0,f=1,v=1;for(a=i._pack_next;a!==i;a=a._pack_next,f++)if(ta(a,r)){d=1;break}if(1==d)for(s=n._pack_prev;s!==a._pack_prev&&!ta(s,r);s=s._pack_prev,v++);d?(f<v||f==v&&i.r<n.r?$o(n,i=a):$o(n=s,i),o--):(Jo(n,r),i=r,x(r))}var g=(u+c)/2,m=(h+p)/2,y=0;for(o=0;o<l;o++)(r=e[o]).x-=g,r.y-=m,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=y,e.forEach(ia)}function x(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),p=Math.max(t.y+t.r,p)}}function na(t){t._pack_next=t._pack_prev=t}function ia(t){delete t._pack_next,delete t._pack_prev}function ra(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o,l=.5+((i*=i)-(a*=a))/(2*s),u=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+l*r+u*o,n.y=t.y+l*o-u*r}else n.x=t.x+i,n.y=t.y}function oa(t,e){return t.parent==e.parent?1:2}function aa(t){var e=t.children;return e.length?e[0]:t.t}function sa(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function la(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function ua(t,e,n){return t.a.parent===e.parent?t.a:n}function ca(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ha(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function pa(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function da(t){return t.rangeExtent?t.rangeExtent():pa(t.range())}function fa(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function va(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function ga(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:ma}o.layout.histogram=function(){var t=!0,e=Number,n=Qo,i=Yo;function r(r,a){for(var s,l,u=[],c=r.map(e,this),h=n.call(this,c,a),p=i.call(this,h,c,a),d=(a=-1,c.length),f=p.length-1,v=t?1:1/d;++a<f;)(s=u[a]=[]).dx=p[a+1]-(s.x=p[a]),s.y=0;if(f>0)for(a=-1;++a<d;)(l=c[a])>=h[0]&&l<=h[1]&&((s=u[o.bisect(p,l,1,f)-1]).y+=v,s.push(r[a]));return u}return r.value=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=_e(t),r):n},r.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return Ko(e,t)}:_e(t),r):i},r.frequency=function(e){return arguments.length?(t=!!e,r):t},r},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(Zo),n=0,i=[1,1];function r(r,o){var a=e.call(this,r,o),s=a[0],l=i[0],u=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Po(s,function(t){t.r=+c(t.value)}),Po(s,ea),n){var h=n*(t?1:Math.max(2*s.r/l,2*s.r/u))/2;Po(s,function(t){t.r+=h}),Po(s,ea),Po(s,function(t){t.r-=h})}return function t(e,n,i,r){var o=e.children;e.x=n+=r*e.x;e.y=i+=r*e.y;e.r*=r;if(o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,i,r)}(s,l/2,u/2,t?1:1/Math.max(2*s.r/l,2*s.r/u)),a}return r.size=function(t){return arguments.length?(i=t,r):i},r.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,r):t},r.padding=function(t){return arguments.length?(n=+t,r):n},Fo(r,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=oa,n=[1,1],i=null;function r(r,o){var u=t.call(this,r,o),c=u[0],h=function(t){var e,n={A:null,children:[t]},i=[n];for(;null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}(c);if(Po(h,a),h.parent.m=-h.z,Eo(h,s),i)Eo(c,l);else{var p=c,d=c,f=c;Eo(c,function(t){t.x<p.x&&(p=t),t.x>d.x&&(d=t),t.depth>f.depth&&(f=t)});var v=e(p,d)/2-p.x,g=n[0]/(d.x+e(d,p)/2+v),m=n[1]/(f.depth||1);Eo(c,function(t){t.x=(t.x+v)*g,t.y=t.depth*m})}return u}function a(t){var n=t.children,i=t.parent.children,r=t.i?i[t.i-1]:null;if(n.length){!function(t){var e,n=0,i=0,r=t.children,o=r.length;for(;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+e(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+e(t._,r._));t.parent.A=function(t,n,i){if(n){for(var r,o=t,a=t,s=n,l=o.parent.children[0],u=o.m,c=a.m,h=s.m,p=l.m;s=sa(s),o=aa(o),s&&o;)l=aa(l),(a=sa(a)).a=t,(r=s.z+h-o.z-u+e(s._,o._))>0&&(la(ua(s,t,i),t,r),u+=r,c+=r),h+=s.m,u+=o.m,p+=l.m,c+=a.m;s&&!sa(a)&&(a.t=s,a.m+=h-c),o&&!aa(l)&&(l.t=o,l.m+=u-p,i=t)}return i}(t,r,t.parent.A||i[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=n[0],t.y=t.depth*n[1]}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(t){return arguments.length?(i=null==(n=t)?l:null,r):i?null:n},r.nodeSize=function(t){return arguments.length?(i=null==(n=t)?null:l,r):i?n:null},Fo(r,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=oa,n=[1,1],i=!1;function r(r,a){var s,l=t.call(this,r,a),u=l[0],c=0;Po(u,function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(n),t.y=function(t){return 1+o.max(t,function(t){return t.y})}(n)):(t.x=s?c+=e(t,s):0,t.y=0,s=t)});var h=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(u),p=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(u),d=h.x-e(h,p)/2,f=p.x+e(p,h)/2;return Po(u,i?function(t){t.x=(t.x-u.x)*n[0],t.y=(u.y-t.y)*n[1]}:function(t){t.x=(t.x-d)/(f-d)*n[0],t.y=(1-(u.y?t.y/u.y:1))*n[1]}),l}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(t){return arguments.length?(i=null==(n=t),r):i?null:n},r.nodeSize=function(t){return arguments.length?(i=null!=(n=t),r):i?n:null},Fo(r,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,i=[1,1],r=null,a=ca,s=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function h(t){var e=t.children;if(e&&e.length){var n,i,r,o=a(t),s=[],u=e.slice(),p=1/0,v="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(u,o.dx*o.dy/t.value),s.area=0;(r=u.length)>0;)s.push(n=u[r-1]),s.area+=n.area,"squarify"!==l||(i=d(s,v))<=p?(u.pop(),p=i):(s.area-=s.pop().area,f(s,v,o,!1),v=Math.min(o.dx,o.dy),s.length=s.area=0,p=1/0);s.length&&(f(s,v,o,!0),s.length=s.area=0),e.forEach(h)}}function p(t){var e=t.children;if(e&&e.length){var n,i=a(t),r=e.slice(),o=[];for(c(r,i.dx*i.dy/t.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(f(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);e.forEach(p)}}function d(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>r&&(r=n));return e*=e,(i*=i)?Math.max(e*r*u/i,i/(e*o*u)):1/0}function f(t,e,i,r){var o,a=-1,s=t.length,l=i.x,u=i.y,c=e?n(t.area/e):0;if(e==i.dx){for((r||c>i.dy)&&(c=i.dy);++a<s;)(o=t[a]).x=l,o.y=u,o.dy=c,l+=o.dx=Math.min(i.x+i.dx-l,c?n(o.area/c):0);o.z=!0,o.dx+=i.x+i.dx-l,i.y+=c,i.dy-=c}else{for((r||c>i.dx)&&(c=i.dx);++a<s;)(o=t[a]).x=l,o.y=u,o.dx=c,u+=o.dy=Math.min(i.y+i.dy-u,c?n(o.area/c):0);o.z=!1,o.dy+=i.y+i.dy-u,i.x+=c,i.dx-=c}}function v(n){var r=t||e(n),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,t&&e.revalue(o),c([o],o.dx*o.dy/o.value),(t?p:h)(o),s&&(t=r),r}return v.size=function(t){return arguments.length?(i=t,v):i},v.padding=function(t){if(!arguments.length)return r;function e(e){return ha(e,t)}var n;return a=null==(r=t)?ca:"function"==(n=typeof t)?function(e){var n=t.call(v,e,e.depth);return null==n?ca(e):ha(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,v},v.round=function(t){return arguments.length?(n=t?Math.round:Number,v):n!=Number},v.sticky=function(e){return arguments.length?(s=e,t=null,v):s},v.ratio=function(t){return arguments.length?(u=t,v):u},v.mode=function(t){return arguments.length?(l=t+"",v):l},Fo(v,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var ma={floor:k,ceil:k};function ya(t,e,n,i){var r=[],a=[],s=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=l;)r.push(n(t[s-1],t[s])),a.push(i(e[s-1],e[s]));return function(e){var n=o.bisect(t,e,1,l)-1;return a[n](r[n](e))}}function xa(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function _a(t,e){return va(t,ga(Aa(t,e)[2])),va(t,ga(Aa(t,e)[2])),t}function Aa(t,e){null==e&&(e=10);var n=pa(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ba(t,e){return o.range.apply(o,Aa(t,e))}function wa(t,e,n){var i=Aa(t,e);if(n){var r=Re.exec(n);if(r.shift(),"s"===r[8]){var a=o.formatPrefix(Math.max(b(i[0]),b(i[1])));return r[7]||(r[7]="."+Sa(a.scale(i[2]))),r[8]="f",n=o.format(r.join("")),function(t){return n(a.scale(t))+a.symbol}}r[7]||(r[7]="."+function(t,e){var n=Sa(e[2]);return t in Oa?Math.abs(n-Sa(Math.max(b(e[0]),b(e[1]))))+ +("e"!==t):n-2*("%"===t)}(r[8],i)),n=r.join("")}else n=",."+Sa(i[2])+"f";return o.format(n)}o.scale.linear=function(){return function t(e,n,i,r){var o,a;function s(){var t=Math.min(e.length,n.length)>2?ya:fa,s=r?_o:xo;return o=t(e,n,s,i),a=t(n,e,s,Zr),l}function l(t){return o(t)}l.invert=function(t){return a(t)};l.domain=function(t){return arguments.length?(e=t.map(Number),s()):e};l.range=function(t){return arguments.length?(n=t,s()):n};l.rangeRound=function(t){return l.range(t).interpolate(ho)};l.clamp=function(t){return arguments.length?(r=t,s()):r};l.interpolate=function(t){return arguments.length?(i=t,s()):i};l.ticks=function(t){return ba(e,t)};l.tickFormat=function(t,n){return wa(e,t,n)};l.nice=function(t){return _a(e,t),s()};l.copy=function(){return t(e,n,i,r)};return s()}([0,1],[0,1],Zr,!1)};var Oa={s:1,g:1,p:1,r:1,e:1};function Sa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,n,i,r){function a(t){return(i?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function s(t){return i?Math.pow(n,t):-Math.pow(n,-t)}function l(t){return e(a(t))}l.invert=function(t){return s(e.invert(t))};l.domain=function(t){return arguments.length?(i=t[0]>=0,e.domain((r=t.map(Number)).map(a)),l):r};l.base=function(t){return arguments.length?(n=+t,e.domain(r.map(a)),l):n};l.nice=function(){var t=va(r.map(a),i?Math:Ta);return e.domain(t),r=t.map(s),l};l.ticks=function(){var t=pa(r),e=[],o=t[0],l=t[1],u=Math.floor(a(o)),c=Math.ceil(a(l)),h=n%1?2:n;if(isFinite(c-u)){if(i){for(;u<c;u++)for(var p=1;p<h;p++)e.push(s(u)*p);e.push(s(u))}else for(e.push(s(u));u++<c;)for(var p=h-1;p>0;p--)e.push(s(u)*p);for(u=0;e[u]<o;u++);for(c=e.length;e[c-1]>l;c--);e=e.slice(u,c)}return e};l.tickFormat=function(t,e){if(!arguments.length)return Ma;arguments.length<2?e=Ma:"function"!=typeof e&&(e=o.format(e));var i=Math.max(1,n*t/l.ticks().length);return function(t){var r=t/s(Math.round(a(t)));return r*n<n-.5&&(r*=n),r<=i?e(t):""}};l.copy=function(){return t(e.copy(),n,i,r)};return xa(l,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Ma=o.format(".0e"),Ta={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Da(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,n,i){var r=Da(n),o=Da(1/n);function a(t){return e(r(t))}a.invert=function(t){return o(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(r)),a):i};a.ticks=function(t){return ba(i,t)};a.tickFormat=function(t,e){return wa(i,t,e)};a.nice=function(t){return a.domain(_a(i,t))};a.exponent=function(t){return arguments.length?(r=Da(n=t),o=Da(1/n),e.domain(i.map(r)),a):n};a.copy=function(){return t(e.copy(),n,i)};return xa(a,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,n){var i,r,a;function s(t){return r[((i.get(t)||("range"===n.t?i.set(t,e.push(t)):NaN))-1)%r.length]}function l(t,n){return o.range(e.length).map(function(e){return t+n*e})}s.domain=function(t){if(!arguments.length)return e;e=[],i=new O;for(var r,o=-1,a=t.length;++o<a;)i.has(r=t[o])||i.set(r,e.push(r));return s[n.t].apply(s,n.a)};s.range=function(t){return arguments.length?(r=t,a=0,n={t:"range",a:arguments},s):r};s.rangePoints=function(t,i){arguments.length<2&&(i=0);var o=t[0],u=t[1],c=e.length<2?(o=(o+u)/2,0):(u-o)/(e.length-1+i);return r=l(o+c*i/2,c),a=0,n={t:"rangePoints",a:arguments},s};s.rangeRoundPoints=function(t,i){arguments.length<2&&(i=0);var o=t[0],u=t[1],c=e.length<2?(o=u=Math.round((o+u)/2),0):(u-o)/(e.length-1+i)|0;return r=l(o+Math.round(c*i/2+(u-o-(e.length-1+i)*c)/2),c),a=0,n={t:"rangeRoundPoints",a:arguments},s};s.rangeBands=function(t,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var u=t[1]<t[0],c=t[u-0],h=t[1-u],p=(h-c)/(e.length-i+2*o);return r=l(c+p*o,p),u&&r.reverse(),a=p*(1-i),n={t:"rangeBands",a:arguments},s};s.rangeRoundBands=function(t,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var u=t[1]<t[0],c=t[u-0],h=t[1-u],p=Math.floor((h-c)/(e.length-i+2*o));return r=l(c+Math.round((h-c-(e.length-i)*p)/2),p),u&&r.reverse(),a=Math.round(p*(1-i)),n={t:"rangeRoundBands",a:arguments},s};s.rangeBand=function(){return a};s.rangeExtent=function(){return pa(n.a[0])};s.copy=function(){return t(e,n)};return s.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Ca)},o.scale.category20=function(){return o.scale.ordinal().range(Fa)},o.scale.category20b=function(){return o.scale.ordinal().range(Ea)},o.scale.category20c=function(){return o.scale.ordinal().range(Pa)};var Ca=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(he),Fa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(he),Ea=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(he),Pa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(he);function La(){return 0}o.scale.quantile=function(){return function t(e,n){var i;function r(){var t=0,r=n.length;for(i=[];++t<r;)i[t-1]=o.quantile(e,t/r);return a}function a(t){if(!isNaN(t=+t))return n[o.bisect(i,t)]}a.domain=function(t){return arguments.length?(e=t.map(m).filter(y).sort(g),r()):e};a.range=function(t){return arguments.length?(n=t,r()):n};a.quantiles=function(){return i};a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?i[t-1]:e[0],t<i.length?i[t]:e[e.length-1]]};a.copy=function(){return t(e,n)};return r()}([],[])},o.scale.quantize=function(){return function t(e,n,i){var r,o;function a(t){return i[Math.max(0,Math.min(o,Math.floor(r*(t-e))))]}function s(){return r=i.length/(n-e),o=i.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]};a.range=function(t){return arguments.length?(i=t,s()):i};a.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/r+e,t+1/r]};a.copy=function(){return t(e,n,i)};return s()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,n){function i(t){if(t<=t)return n[o.bisect(e,t)]}i.domain=function(t){return arguments.length?(e=t,i):e};i.range=function(t){return arguments.length?(n=t,i):n};i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};i.copy=function(){return t(e,n)};return i}([.5],[0,1])},o.scale.identity=function(){return function t(e){function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e};n.ticks=function(t){return ba(e,t)};n.tickFormat=function(t,n){return wa(e,t,n)};n.copy=function(){return t(e)};return n}([0,1])},o.svg={},o.svg.arc=function(){var t=ka,e=Ia,n=La,i=Ra,r=Na,o=Ga,a=ja;function s(){var s=Math.max(0,+t.apply(this,arguments)),u=Math.max(0,+e.apply(this,arguments)),c=r.apply(this,arguments)-Pt,h=o.apply(this,arguments)-Pt,p=Math.abs(h-c),d=c>h?0:1;if(u<s&&(f=u,u=s,s=f),p>=Et)return l(u,d)+(s?l(s,1-d):"")+"Z";var f,v,g,m,y,x,_,A,b,w,O,S,M=0,T=0,D=[];if((m=(+a.apply(this,arguments)||0)/2)&&(g=i===Ra?Math.sqrt(s*s+u*u):+i.apply(this,arguments),d||(T*=-1),u&&(T=Gt(g/u*Math.sin(m))),s&&(M=Gt(g/s*Math.sin(m)))),u){y=u*Math.cos(c+T),x=u*Math.sin(c+T),_=u*Math.cos(h-T),A=u*Math.sin(h-T);var C=Math.abs(h-c-2*T)<=Ct?0:1;if(T&&Va(y,x,_,A)===d^C){var F=(c+h)/2;y=u*Math.cos(F),x=u*Math.sin(F),_=A=null}}else y=x=0;if(s){b=s*Math.cos(h-M),w=s*Math.sin(h-M),O=s*Math.cos(c+M),S=s*Math.sin(c+M);var E=Math.abs(c-h+2*M)<=Ct?0:1;if(M&&Va(b,w,O,S)===1-d^E){var P=(c+h)/2;b=s*Math.cos(P),w=s*Math.sin(P),O=S=null}}else b=w=0;if(p>Tt&&(f=Math.min(Math.abs(u-s)/2,+n.apply(this,arguments)))>.001){v=s<u^d?0:1;var L=f,R=f;if(p<Ct){var k=null==O?[b,w]:null==_?[y,x]:ur([y,x],[O,S],[_,A],[b,w]),I=y-k[0],N=x-k[1],G=_-k[0],j=A-k[1],V=1/Math.sin(Math.acos((I*G+N*j)/(Math.sqrt(I*I+N*N)*Math.sqrt(G*G+j*j)))/2),z=Math.sqrt(k[0]*k[0]+k[1]*k[1]);R=Math.min(f,(s-z)/(V-1)),L=Math.min(f,(u-z)/(V+1))}if(null!=_){var B=za(null==O?[b,w]:[O,S],[y,x],u,L,d),U=za([_,A],[b,w],u,L,d);f===L?D.push("M",B[0],"A",L,",",L," 0 0,",v," ",B[1],"A",u,",",u," 0 ",1-d^Va(B[1][0],B[1][1],U[1][0],U[1][1]),",",d," ",U[1],"A",L,",",L," 0 0,",v," ",U[0]):D.push("M",B[0],"A",L,",",L," 0 1,",v," ",U[0])}else D.push("M",y,",",x);if(null!=O){var H=za([y,x],[O,S],s,-R,d),q=za([b,w],null==_?[y,x]:[_,A],s,-R,d);f===R?D.push("L",q[0],"A",R,",",R," 0 0,",v," ",q[1],"A",s,",",s," 0 ",d^Va(q[1][0],q[1][1],H[1][0],H[1][1]),",",1-d," ",H[1],"A",R,",",R," 0 0,",v," ",H[0]):D.push("L",q[0],"A",R,",",R," 0 0,",v," ",H[0])}else D.push("L",b,",",w)}else D.push("M",y,",",x),null!=_&&D.push("A",u,",",u," 0 ",C,",",d," ",_,",",A),D.push("L",b,",",w),null!=O&&D.push("A",s,",",s," 0 ",E,",",1-d," ",O,",",S);return D.push("Z"),D.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=_e(e),s):t},s.outerRadius=function(t){return arguments.length?(e=_e(t),s):e},s.cornerRadius=function(t){return arguments.length?(n=_e(t),s):n},s.padRadius=function(t){return arguments.length?(i=t==Ra?Ra:_e(t),s):i},s.startAngle=function(t){return arguments.length?(r=_e(t),s):r},s.endAngle=function(t){return arguments.length?(o=_e(t),s):o},s.padAngle=function(t){return arguments.length?(a=_e(t),s):a},s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Pt;return[Math.cos(i)*n,Math.sin(i)*n]},s};var Ra="auto";function ka(t){return t.innerRadius}function Ia(t){return t.outerRadius}function Na(t){return t.startAngle}function Ga(t){return t.endAngle}function ja(t){return t&&t.padAngle}function Va(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function za(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,h=t[1]+u,p=e[0]+l,d=e[1]+u,f=(c+p)/2,v=(h+d)/2,g=p-c,m=d-h,y=g*g+m*m,x=n-i,_=c*d-p*h,A=(m<0?-1:1)*Math.sqrt(Math.max(0,x*x*y-_*_)),b=(_*m-g*A)/y,w=(-_*g-m*A)/y,O=(_*m+g*A)/y,S=(-_*g+m*A)/y,M=b-f,T=w-v,D=O-f,C=S-v;return M*M+T*T>D*D+C*C&&(b=O,w=S),[[b-l,w-u],[b*n/x,w*n/x]]}function Ba(t){var e=ir,n=rr,i=Zn,r=Ha,o=r.key,a=.7;function s(o){var s,l=[],u=[],c=-1,h=o.length,p=_e(e),d=_e(n);function f(){l.push("M",r(t(u),a))}for(;++c<h;)i.call(this,s=o[c],c)?u.push([+p.call(this,s,c),+d.call(this,s,c)]):u.length&&(f(),u=[]);return u.length&&f(),l.length?l.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(i=t,s):i},s.interpolate=function(t){return arguments.length?(o="function"==typeof t?r=t:(r=Ua.get(t)||Ha).key,s):o},s.tension=function(t){return arguments.length?(a=t,s):a},s}o.svg.line=function(){return Ba(k)};var Ua=o.map({linear:Ha,"linear-closed":qa,step:function(t){var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];for(;++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);n>1&&r.push("H",i[0]);return r.join("")},"step-before":Xa,"step-after":Wa,basis:Qa,"basis-open":function(t){if(t.length<4)return Ha(t);var e,n=[],i=-1,r=t.length,o=[0],a=[0];for(;++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);n.push(Za(ts,o)+","+Za(ts,a)),--i;for(;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),es(n,o,a);return n.join("")},"basis-closed":function(t){var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];for(;++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);e=[Za(ts,a),",",Za(ts,s)],--i;for(;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),es(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*l);return Qa(t)},cardinal:function(t,e){return t.length<3?Ha(t):t[0]+Ya(t,Ka(t,e))},"cardinal-open":function(t,e){return t.length<4?Ha(t):t[1]+Ya(t.slice(1,-1),Ka(t,e))},"cardinal-closed":function(t,e){return t.length<3?qa(t):t[0]+Ya((t.push(t[0]),t),Ka([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ha(t):t[0]+Ya(t,function(t){var e,n,i,r,o=[],a=function(t){var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=ns(r,o);for(;++e<n;)i[e]=(a+(a=ns(r=o,o=t[e+1])))/2;return i[e]=a,i}(t),s=-1,l=t.length-1;for(;++s<l;)e=ns(t[s],t[s+1]),b(e)<Tt?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,(r=n*n+i*i)>9&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));s=-1;for(;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}(t))}});function Ha(t){return t.length>1?t.join("L"):t+"Z"}function qa(t){return t.join("L")+"Z"}function Xa(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Wa(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Ya(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ha(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Ka(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Qa(t){if(t.length<3)return Ha(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],l=[r,",",o,"L",Za(ts,a),",",Za(ts,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),es(l,a,s);return t.pop(),l.push("L",i),l.join("")}function Za(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Ua.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ja=[0,2/3,1/3,0],$a=[0,1/3,2/3,0],ts=[0,1/6,2/3,1/6];function es(t,e,n){t.push("C",Za(Ja,e),",",Za(Ja,n),",",Za($a,e),",",Za($a,n),",",Za(ts,e),",",Za(ts,n))}function ns(t,e){return(e[1]-t[1])/(e[0]-t[0])}function is(t){for(var e,n,i,r=-1,o=t.length;++r<o;)n=(e=t[r])[0],i=e[1]-Pt,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function rs(t){var e=ir,n=ir,i=0,r=rr,o=Zn,a=Ha,s=a.key,l=a,u="L",c=.7;function h(s){var h,p,d,f=[],v=[],g=[],m=-1,y=s.length,x=_e(e),_=_e(i),A=e===n?function(){return p}:_e(n),b=i===r?function(){return d}:_e(r);function w(){f.push("M",a(t(g),c),u,l(t(v.reverse()),c),"Z")}for(;++m<y;)o.call(this,h=s[m],m)?(v.push([p=+x.call(this,h,m),d=+_.call(this,h,m)]),g.push([+A.call(this,h,m),+b.call(this,h,m)])):v.length&&(w(),v=[],g=[]);return v.length&&w(),f.length?f.join(""):null}return h.x=function(t){return arguments.length?(e=n=t,h):n},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(n=t,h):n},h.y=function(t){return arguments.length?(i=r=t,h):r},h.y0=function(t){return arguments.length?(i=t,h):i},h.y1=function(t){return arguments.length?(r=t,h):r},h.defined=function(t){return arguments.length?(o=t,h):o},h.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=Ua.get(t)||Ha).key,l=a.reverse||a,u=a.closed?"M":"L",h):s},h.tension=function(t){return arguments.length?(c=t,h):c},h}function os(t){return t.radius}function as(t){return[t.x,t.y]}function ss(){return 64}function ls(){return"circle"}function us(t){var e=Math.sqrt(t/Ct);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=Ba(is);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Xa.reverse=Wa,Wa.reverse=Xa,o.svg.area=function(){return rs(k)},o.svg.area.radial=function(){var t=rs(is);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Ui,e=Hi,n=os,i=Na,r=Ga;function o(n,i){var r=a(this,t,n,i),o=a(this,e,n,i);return"M"+r.p0+s(r.r,r.p1,r.a1-r.a0)+(function(t,e){return t.a0==e.a0&&t.a1==e.a1}(r,o)?l(r.r,r.p1,r.r,r.p0):l(r.r,r.p1,o.r,o.p0)+s(o.r,o.p1,o.a1-o.a0)+l(o.r,o.p1,r.r,r.p0))+"Z"}function a(t,e,o,a){var s=e.call(t,o,a),l=n.call(t,s,a),u=i.call(t,s,a)-Pt,c=r.call(t,s,a)-Pt;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function s(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ct)+",1 "+e}function l(t,e,n,i){return"Q 0,0 "+i}return o.radius=function(t){return arguments.length?(n=_e(t),o):n},o.source=function(e){return arguments.length?(t=_e(e),o):t},o.target=function(t){return arguments.length?(e=_e(t),o):e},o.startAngle=function(t){return arguments.length?(i=_e(t),o):i},o.endAngle=function(t){return arguments.length?(r=_e(t),o):r},o},o.svg.diagonal=function(){var t=Ui,e=Hi,n=as;function i(i,r){var o=t.call(this,i,r),a=e.call(this,i,r),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return i.source=function(e){return arguments.length?(t=_e(e),i):t},i.target=function(t){return arguments.length?(e=_e(t),i):e},i.projection=function(t){return arguments.length?(n=t,i):n},i},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=as,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Pt;return[n*Math.cos(i),n*Math.sin(i)]}}(e=t)):e},t},o.svg.symbol=function(){var t=ls,e=ss;function n(n,i){return(cs.get(t.call(this,n,i))||us)(e.call(this,n,i))}return n.type=function(e){return arguments.length?(t=_e(e),n):t},n.size=function(t){return arguments.length?(e=_e(t),n):e},n};var cs=o.map({circle:us,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ps)),n=e*ps;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/hs),n=e*hs/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/hs),n=e*hs/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=cs.keys();var hs=Math.sqrt(3),ps=Math.tan(30*Lt);Z.transition=function(t){for(var e,n,i=gs||++xs,r=bs(t),o=[],a=ms||{time:Date.now(),ease:ao,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(n=u[c])&&ws(n,c,r,i,a),e.push(n)}return vs(o,r,i)},Z.interrupt=function(t){return this.each(null==t?ds:fs(bs(t)))};var ds=fs(bs());function fs(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function vs(t,e,n){return X(t,ys),t.namespace=e,t.id=n,t}var gs,ms,ys=[],xs=0;function _s(t,e,n,i){var r=t.id,o=t.namespace;return ft(t,"function"==typeof n?function(t,a,s){t[o][r].tween.set(e,i(n.call(t,t.__data__,a,s)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function As(t){return null==t&&(t=""),function(){this.textContent=t}}function bs(t){return null==t?"__transition__":"__transition_"+t+"__"}function ws(t,e,n,i,r){var o,a,s,l,u,c=t[n]||(t[n]={active:0,count:0}),h=c[i];function p(n){var r=c.active,p=c[r];for(var f in p&&(p.timer.c=null,p.timer.t=NaN,--c.count,delete c[r],p.event&&p.event.interrupt.call(t,t.__data__,p.index)),c)if(+f<i){var v=c[f];v.timer.c=null,v.timer.t=NaN,--c.count,delete c[f]}a.c=d,De(function(){return a.c&&d(n||1)&&(a.c=null,a.t=NaN),1},0,o),c.active=i,h.event&&h.event.start.call(t,t.__data__,e),u=[],h.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&u.push(i)}),l=h.ease,s=h.duration}function d(r){for(var o=r/s,a=l(o),p=u.length;p>0;)u[--p].call(t,a);if(o>=1)return h.event&&h.event.end.call(t,t.__data__,e),--c.count?delete c[i]:delete t[n],1}h||(o=r.time,a=De(function(t){var e=h.delay;if(a.t=e+o,e<=t)return p(t-e);a.c=p},0,o),h=c[i]={tween:new O,time:o,timer:a,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++c.count)}ys.call=Z.call,ys.empty=Z.empty,ys.node=Z.node,ys.size=Z.size,o.transition=function(t,e){return t&&t.transition?gs?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=ys,ys.select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=J(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(i=u[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ws(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return vs(a,o,r)},ys.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,l=[];t=$(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],p=-1,d=h.length;++p<d;)if(i=h[p]){o=i[s][a],n=t.call(i,i.__data__,p,u),l.push(e=[]);for(var f=-1,v=n.length;++f<v;)(r=n[f])&&ws(r,f,s,a,o),e.push(r)}return vs(l,s,a)},ys.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=dt(t));for(var r=0,o=this.length;r<o;r++){i.push(e=[]);for(var a,s=0,l=(a=this[r]).length;s<l;s++)(n=a[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return vs(i,this.namespace,this.id)},ys.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):ft(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},ys.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?yo:Zr,i=o.ns.qualify(t);function r(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return _s(this,"attr."+t,e,i.local?function(t){return null==t?a:(t+="",function(){var e,r=this.getAttributeNS(i.space,i.local);return r!==t&&(e=n(r,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(t){return null==t?r:(t+="",function(){var e,r=this.getAttribute(i);return r!==t&&(e=n(r,t),function(t){this.setAttribute(i,e(t))})})})},ys.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,i){var r=e.call(this,t,i,this.getAttributeNS(n.space,n.local));return r&&function(t){this.setAttributeNS(n.space,n.local,r(t))}}:function(t,i){var r=e.call(this,t,i,this.getAttribute(n));return r&&function(t){this.setAttribute(n,r(t))}})},ys.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function r(){this.style.removeProperty(t)}return _s(this,"style."+t,e,function(e){return null==e?r:(e+="",function(){var i,r=c(this).getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=Zr(r,e),function(e){this.style.setProperty(t,i(e),n)})})})},ys.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(i,r){var o=e.call(this,i,r,c(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},ys.text=function(t){return _s(this,"text",t,As)},ys.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},ys.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=o.ease.apply(o,arguments)),ft(this,function(i){i[n][e].ease=t}))},ys.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:ft(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},ys.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:ft(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},ys.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=ms,a=gs;try{gs=n,ft(this,function(e,r,o){ms=e[i][n],t.call(e,e.__data__,r,o)})}finally{ms=r,gs=a}}else ft(this,function(r){var a=r[i][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},ys.transition=function(){for(var t,e,n,i=this.id,r=++xs,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var u,c=0,h=(u=this[s]).length;c<h;c++)(e=u[c])&&ws(e,c,o,r,{time:(n=e[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return vs(a,o,r)},o.svg.axis=function(){var t,e=o.scale.linear(),n=Os,i=6,r=6,a=3,l=[10],u=null;function c(s){s.each(function(){var s,c=o.select(this),h=this.__chart__||e,p=this.__chart__=e.copy(),d=null==u?p.ticks?p.ticks.apply(p,l):p.domain():u,f=null==t?p.tickFormat?p.tickFormat.apply(p,l):k:t,v=c.selectAll(".tick").data(d,p),g=v.enter().insert("g",".domain").attr("class","tick").style("opacity",Tt),m=o.transition(v.exit()).style("opacity",Tt).remove(),y=o.transition(v.order()).style("opacity",1),x=Math.max(i,0)+a,_=da(p),A=c.selectAll(".domain").data([0]),b=(A.enter().append("path").attr("class","domain"),o.transition(A));g.append("line"),g.append("text");var w,O,S,M,T=g.select("line"),D=y.select("line"),C=v.select("text").text(f),F=g.select("text"),E=y.select("text"),P="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=Ms,w="x",S="y",O="x2",M="y2",C.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+_[0]+","+P*r+"V0H"+_[1]+"V"+P*r)):(s=Ts,w="y",S="x",O="y2",M="x2",C.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),b.attr("d","M"+P*r+","+_[0]+"H0V"+_[1]+"H"+P*r)),T.attr(M,P*i),F.attr(S,P*x),D.attr(O,0).attr(M,P*i),E.attr(w,0).attr(S,P*x),p.rangeBand){var L=p,R=L.rangeBand()/2;h=p=function(t){return L(t)+R}}else h.rangeBand?h=p:m.call(s,p,h);g.call(s,h,p),y.call(s,p,p)})}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in Ss?t+"":Os,c):n},c.ticks=function(){return arguments.length?(l=s(arguments),c):l},c.tickValues=function(t){return arguments.length?(u=t,c):u},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(i=+t,r=+arguments[e-1],c):i},c.innerTickSize=function(t){return arguments.length?(i=+t,c):i},c.outerTickSize=function(t){return arguments.length?(r=+t,c):r},c.tickPadding=function(t){return arguments.length?(a=+t,c):a},c.tickSubdivide=function(){return arguments.length&&c},c};var Os="bottom",Ss={top:1,right:1,bottom:1,left:1};function Ms(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Ts(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}o.svg.brush=function(){var t,e,n=H(p,"brushstart","brush","brushend"),i=null,r=null,a=[0,0],s=[0,0],l=!0,u=!0,h=Cs[0];function p(t){t.each(function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(h,k);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ds[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",p.empty()?"none":null);var a,s=o.transition(t),l=o.transition(e);i&&(a=da(i),l.attr("x",a[0]).attr("width",a[1]-a[0]),f(s)),r&&(a=da(r),l.attr("y",a[0]).attr("height",a[1]-a[0]),v(s)),d(s)})}function d(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+a[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"})}function f(t){t.select(".extent").attr("x",a[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function v(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function g(){var h,g,m=this,y=o.select(o.event.target),x=n.of(m,arguments),_=o.select(m),A=y.datum(),b=!/^(n|s)$/.test(A)&&i,w=!/^(e|w)$/.test(A)&&r,O=y.classed("extent"),S=wt(m),M=o.mouse(m),T=o.select(c(m)).on("keydown.brush",function(){32==o.event.keyCode&&(O||(h=null,M[0]-=a[1],M[1]-=s[1],O=2),B())}).on("keyup.brush",function(){32==o.event.keyCode&&2==O&&(M[0]+=a[1],M[1]+=s[1],O=0,B())});if(o.event.changedTouches?T.on("touchmove.brush",F).on("touchend.brush",P):T.on("mousemove.brush",F).on("mouseup.brush",P),_.interrupt().selectAll("*").interrupt(),O)M[0]=a[0]-M[0],M[1]=s[0]-M[1];else if(A){var D=+/w$/.test(A),C=+/^n/.test(A);g=[a[1-D]-M[0],s[1-C]-M[1]],M[0]=a[D],M[1]=s[C]}else o.event.altKey&&(h=M.slice());function F(){var t=o.mouse(m),e=!1;g&&(t[0]+=g[0],t[1]+=g[1]),O||(o.event.altKey?(h||(h=[(a[0]+a[1])/2,(s[0]+s[1])/2]),M[0]=a[+(t[0]<h[0])],M[1]=s[+(t[1]<h[1])]):h=null),b&&E(t,i,0)&&(f(_),e=!0),w&&E(t,r,1)&&(v(_),e=!0),e&&(d(_),x({type:"brush",mode:O?"move":"resize"}))}function E(n,i,r){var o,c,p=da(i),d=p[0],f=p[1],v=M[r],g=r?s:a,m=g[1]-g[0];if(O&&(d-=v,f-=m+v),o=(r?u:l)?Math.max(d,Math.min(f,n[r])):n[r],O?c=(o+=v)+m:(h&&(v=Math.max(d,Math.min(f,2*h[r]-o))),v<o?(c=o,o=v):c=v),g[0]!=o||g[1]!=c)return r?e=null:t=null,g[0]=o,g[1]=c,!0}function P(){F(),_.style("pointer-events","all").selectAll(".resize").style("display",p.empty()?"none":null),o.select("body").style("cursor",null),T.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),S(),x({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",y.style("cursor")),x({type:"brushstart"}),F()}return p.event=function(i){i.each(function(){var i=n.of(this,arguments),r={x:a,y:s,i:t,j:e},l=this.__chart__||r;this.__chart__=r,gs?o.select(this).transition().each("start.brush",function(){t=l.i,e=l.j,a=l.x,s=l.y,i({type:"brushstart"})}).tween("brush:brush",function(){var n=Jr(a,r.x),o=Jr(s,r.y);return t=e=null,function(t){a=r.x=n(t),s=r.y=o(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=r.i,e=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},p.x=function(t){return arguments.length?(h=Cs[!(i=t)<<1|!r],p):i},p.y=function(t){return arguments.length?(h=Cs[!i<<1|!(r=t)],p):r},p.clamp=function(t){return arguments.length?(i&&r?(l=!!t[0],u=!!t[1]):i?l=!!t:r&&(u=!!t),p):i&&r?[l,u]:i?l:r?u:null},p.extent=function(n){var o,l,u,c,h;return arguments.length?(i&&(o=n[0],l=n[1],r&&(o=o[0],l=l[0]),t=[o,l],i.invert&&(o=i(o),l=i(l)),l<o&&(h=o,o=l,l=h),o==a[0]&&l==a[1]||(a=[o,l])),r&&(u=n[0],c=n[1],i&&(u=u[1],c=c[1]),e=[u,c],r.invert&&(u=r(u),c=r(c)),c<u&&(h=u,u=c,c=h),u==s[0]&&c==s[1]||(s=[u,c])),p):(i&&(t?(o=t[0],l=t[1]):(o=a[0],l=a[1],i.invert&&(o=i.invert(o),l=i.invert(l)),l<o&&(h=o,o=l,l=h))),r&&(e?(u=e[0],c=e[1]):(u=s[0],c=s[1],r.invert&&(u=r.invert(u),c=r.invert(c)),c<u&&(h=u,u=c,c=h))),i&&r?[[o,u],[l,c]]:i?[o,l]:r&&[u,c])},p.clear=function(){return p.empty()||(a=[0,0],s=[0,0],t=e=null),p},p.empty=function(){return!!i&&a[0]==a[1]||!!r&&s[0]==s[1]},o.rebind(p,n,"on")};var Ds={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Cs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Fs=Ne.format=pn.timeFormat,Es=Fs.utc,Ps=Es("%Y-%m-%dT%H:%M:%S.%LZ");function Ls(t){return t.toISOString()}function Rs(t,e,n){function i(e){return t(e)}function r(t,n){var i=(t[1]-t[0])/n,r=o.bisect(Is,i);return r==Is.length?[e.year,Aa(t.map(function(t){return t/31536e6}),n)[2]]:r?e[i/Is[r-1]<Is[r]/i?r-1:r]:[js,Aa(t,n)[2]]}return i.invert=function(e){return ks(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(ks)},i.nice=function(t,e){var n=i.domain(),o=pa(n),a=null==t?r(o,10):"number"==typeof t&&r(o,t);function s(n){return!isNaN(n)&&!t.range(n,ks(+n+1),e).length}return a&&(t=a[0],e=a[1]),i.domain(va(n,e>1?{floor:function(e){for(;s(e=t.floor(e));)e=ks(e-1);return e},ceil:function(e){for(;s(e=t.ceil(e));)e=ks(+e+1);return e}}:t))},i.ticks=function(t,e){var n=pa(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],ks(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Rs(t.copy(),e,n)},xa(i,t)}function ks(t){return new Date(t)}Fs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ls:Ps,Ls.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ls.toString=Ps.toString,Ne.second=ze(function(t){return new Ge(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Ne.seconds=Ne.second.range,Ne.seconds.utc=Ne.second.utc.range,Ne.minute=ze(function(t){return new Ge(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Ne.minutes=Ne.minute.range,Ne.minutes.utc=Ne.minute.utc.range,Ne.hour=ze(function(t){var e=t.getTimezoneOffset()/60;return new Ge(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Ne.hours=Ne.hour.range,Ne.hours.utc=Ne.hour.utc.range,Ne.month=ze(function(t){return(t=Ne.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Ne.months=Ne.month.range,Ne.months.utc=Ne.month.utc.range;var Is=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ns=[[Ne.second,1],[Ne.second,5],[Ne.second,15],[Ne.second,30],[Ne.minute,1],[Ne.minute,5],[Ne.minute,15],[Ne.minute,30],[Ne.hour,1],[Ne.hour,3],[Ne.hour,6],[Ne.hour,12],[Ne.day,1],[Ne.day,2],[Ne.week,1],[Ne.month,1],[Ne.month,3],[Ne.year,1]],Gs=Fs.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Zn]]),js={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(ks)},floor:k,ceil:k};Ns.year=Ne.year,Ne.scale=function(){return Rs(o.scale.linear(),Ns,Gs)};var Vs=Ns.map(function(t){return[t[0].utc,t[1]]}),zs=Es.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Zn]]);function Bs(t){return JSON.parse(t.responseText)}function Us(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}Vs.year=Ne.year.utc,Ne.scale.utc=function(){return Rs(o.scale.linear(),Vs,zs)},o.text=Ae(function(t){return t.responseText}),o.json=function(t,e){return be(t,"application/json",Bs,e)},o.html=function(t,e){return be(t,"text/html",Us,e)},o.xml=Ae(function(t){return t.responseXML}),this.d3=o,void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)}()},function(t,e,n){
/* @license C3.js v0.4.23 | (c) C3 Team and other contributors | http://c3js.org/ */
t.exports=function(){"use strict";var t,e,i={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},s=function(t){return t||0===t},l=function(t){return"function"==typeof t},u=function(t){return Array.isArray(t)},c=function(t){return"string"==typeof t},h=function(t){return void 0===t},p=function(t){return void 0!==t},d=function(t){return 10*Math.ceil(t/10)},f=function(t){return Math.ceil(t)+.5},v=function(t){return t[1]-t[0]},g=function(t){return void 0===t||null===t||c(t)&&0===t.length||"object"===(void 0===t?"undefined":r(t))&&0===Object.keys(t).length},m=function(t){return!S.isEmpty(t)},y=function(t,e,n){return p(t[e])?t[e]:n},x=function(t,e){var n=!1;return Object.keys(t).forEach(function(i){t[i]===e&&(n=!0)}),n},_=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},A=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],i=n[0].x,r=Math.min(n[0].y,n[1].y);return{x:i,y:r,width:e.width,height:e.height}};function b(t,e){this.component=t,this.params=e||{},this.d3=t.d3,this.scale=this.d3.scale.linear(),this.range,this.orient="bottom",this.innerTickSize=6,this.outerTickSize=this.params.withOuterTick?6:0,this.tickPadding=3,this.tickValues=null,this.tickFormat,this.tickArguments,this.tickOffset=0,this.tickCulling=!0,this.tickCentered,this.tickTextCharSize,this.tickTextRotate=this.params.tickTextRotate,this.tickLength,this.axis=this.generateAxis()}(e=b.prototype).axisX=function(t,e,n){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"})},e.axisY=function(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})},e.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},e.generateTicks=function(t){var e,n,i=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)i.push(e);return i.length>0&&i[0]>0&&i.unshift(i[0]-(i[1]-i[0])),i},e.copyScale=function(){var t,e=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),e.domain([t[0],t[1]-1])),e},e.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:""},e.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range()),this.range},e.updateTickTextCharSize=function(t){var e=this;if(e.tickTextCharSize)return e.tickTextCharSize;var n={h:11.5,w:5.5};return t.select("text").text(function(t){return e.textFormatted(t)}).each(function(t){var i=this.getBoundingClientRect(),r=e.textFormatted(t),o=i.height,a=r?i.width/r.length:void 0;o&&a&&(n.h=o,n.w=a)}).text(""),e.tickTextCharSize=n,n},e.transitionise=function(t){return this.params.withoutTransition?t:this.d3.transition(t)},e.isVertical=function(){return"left"===this.orient||"right"===this.orient},e.tspanData=function(t,e,n,i){var r=this.params.tickMultiline?this.splitTickText(t,n,i):[].concat(this.textFormatted(t));return this.params.tickMultiline&&this.params.tickMultilineMax>0&&(r=this.ellipsify(r,this.params.tickMultilineMax)),r.map(function(t){return{index:e,splitted:t,length:r.length}})},e.splitTickText=function(t,e,n){var i,r,o,a=this,s=a.textFormatted(t),l=a.params.tickWidth;return"[object Array]"===Object.prototype.toString.call(s)?s:((!l||l<=0)&&(l=a.isVertical()?95:a.params.isCategory?Math.ceil(n(e[1])-n(e[0]))-12:110),function t(e,n){r=void 0;for(var s=1;s<n.length;s++)if(" "===n.charAt(s)&&(r=s),i=n.substr(0,s+1),o=a.tickTextCharSize.w*i.length,l<o)return t(e.concat(n.substr(0,r||s)),n.slice(r?r+1:s));return e.concat(n)}([],s+""))},e.ellipsify=function(t,e){if(t.length<=e)return t;for(var n=t.slice(0,e),i=3,r=e-1;r>=0;r--){var o=n[r].length;if(n[r]=n[r].substr(0,o-i).padEnd(o,"."),(i-=o)<=0)break}return n},e.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},e.lineY2=function(t){var e=this.scale(t)+(this.tickCentered?0:this.tickOffset);return this.range[0]<e&&e<this.range[1]?this.innerTickSize:0},e.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(t>0?1:-1):this.tickLength},e.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},e.textTextAnchor=function(){var t=this.tickTextRotate;return t?t>0?"start":"end":"middle"},e.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},e.tspanDy=function(t,e){var n=this.tickTextCharSize.h;return 0===e&&(n=this.isVertical()?-((t.length-1)*(this.tickTextCharSize.h/2)-3):".71em"),n},e.generateAxis=function(){var t=this,e=t.d3,n=t.params;function i(r){r.each(function(){var r,o,a,s=i.g=e.select(this),l=this.__chart__||t.scale,u=this.__chart__=t.copyScale(),c=t.tickValues?t.tickValues:t.generateTicks(u),h=s.selectAll(".tick").data(c,u),p=h.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),d=h.exit().remove(),f=t.transitionise(h).style("opacity",1);n.isCategory?(t.tickOffset=Math.ceil((u(1)-u(0))/2),o=t.tickCentered?0:t.tickOffset,a=t.tickCentered?t.tickOffset:0):t.tickOffset=o=0,p.append("line"),p.append("text"),t.updateRange(),t.updateTickLength(),t.updateTickTextCharSize(s.select(".tick"));var v=f.select("line"),g=f.select("text"),m=h.select("text").selectAll("tspan").data(function(e,n){return t.tspanData(e,n,c,u)});m.enter().append("tspan"),m.exit().remove(),m.text(function(t){return t.splitted});var y=s.selectAll(".domain").data([0]),x=(y.enter().append("path").attr("class","domain"),t.transitionise(y));switch(t.orient){case"bottom":r=t.axisX,v.attr("x1",o).attr("x2",o).attr("y2",function(e,n){return t.lineY2(e,n)}),g.attr("x",0).attr("y",function(e,n){return t.textY(e,n)}).attr("transform",function(e,n){return t.textTransform(e,n)}).style("text-anchor",function(e,n){return t.textTextAnchor(e,n)}),m.attr("x",0).attr("dy",function(e,n){return t.tspanDy(e,n)}).attr("dx",function(e,n){return t.tspanDx(e,n)}),x.attr("d","M"+t.range[0]+","+t.outerTickSize+"V0H"+t.range[1]+"V"+t.outerTickSize);break;case"top":r=t.axisX,v.attr("x1",o).attr("x2",o).attr("y2",function(e,n){return-1*t.lineY2(e,n)}),g.attr("x",0).attr("y",function(e,i){return-1*t.textY(e,i)-(n.isCategory?2:t.tickLength-2)}).attr("transform",function(e,n){return t.textTransform(e,n)}).style("text-anchor",function(e,n){return t.textTextAnchor(e,n)}),m.attr("x",0).attr("dy",function(e,n){return t.tspanDy(e,n)}).attr("dx",function(e,n){return t.tspanDx(e,n)}),x.attr("d","M"+t.range[0]+","+-t.outerTickSize+"V0H"+t.range[1]+"V"+-t.outerTickSize);break;case"left":r=t.axisY,v.attr("x2",-t.innerTickSize).attr("y1",a).attr("y2",a),g.attr("x",-t.tickLength).attr("y",t.tickOffset).style("text-anchor","end"),m.attr("x",-t.tickLength).attr("dy",function(e,n){return t.tspanDy(e,n)}),x.attr("d","M"+-t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+-t.outerTickSize);break;case"right":r=t.axisY,v.attr("x2",t.innerTickSize).attr("y1",a).attr("y2",a),g.attr("x",t.tickLength).attr("y",t.tickOffset).style("text-anchor","start"),m.attr("x",t.tickLength).attr("dy",function(e,n){return t.tspanDy(e,n)}),x.attr("d","M"+t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+t.outerTickSize)}if(u.rangeBand){var _=u,A=_.rangeBand()/2;l=u=function(t){return _(t)+A}}else l.rangeBand?l=u:d.call(r,u,t.tickOffset);p.call(r,l,t.tickOffset),f.call(r,u,t.tickOffset)})}return i.scale=function(e){return arguments.length?(t.scale=e,i):t.scale},i.orient=function(e){return arguments.length?(t.orient=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",i):t.orient},i.tickFormat=function(e){return arguments.length?(t.tickFormat=e,i):t.tickFormat},i.tickCentered=function(e){return arguments.length?(t.tickCentered=e,i):t.tickCentered},i.tickOffset=function(){return t.tickOffset},i.tickInterval=function(){var e,r;return n.isCategory?e=2*t.tickOffset:(r=i.g.select("path.domain").node().getTotalLength()-2*t.outerTickSize,e=r/i.g.selectAll("line").size()),e===1/0?0:e},i.ticks=function(){return arguments.length?(t.tickArguments=arguments,i):t.tickArguments},i.tickCulling=function(e){return arguments.length?(t.tickCulling=e,i):t.tickCulling},i.tickValues=function(e){if("function"==typeof e)t.tickValues=function(){return e(t.scale.domain())};else{if(!arguments.length)return t.tickValues;t.tickValues=e}return i},i};var w=function(n){function i(n){o(this,i);var r={fn:t,internal:{fn:e}},s=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,"axis",r));return s.d3=n.d3,s.internal=b,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),i}(function(t,e,n){this.owner=t,M.chart.internal[e]=n});(t=w.prototype).init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",i.axis+" "+i.axisX).attr("clip-path",e.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",i.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",i.axis+" "+i.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",i.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",i.axis+" "+i.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",i.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},t.getXAxis=function(t,e,n,i,r,o,a){var s=this.owner,l=s.config,u={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:l.axis_x_tick_multiline,tickMultilineMax:l.axis_x_tick_multiline?Number(l.axis_x_tick_multilineMax):0,tickWidth:l.axis_x_tick_width,tickTextRotate:a?0:l.axis_x_tick_rotate,withoutTransition:o},c=new this.internal(this,u).axis.scale(t).orient(e);return s.isTimeSeries()&&i&&"function"!=typeof i&&(i=i.map(function(t){return s.parseDate(t)})),c.tickFormat(n).tickValues(i),s.isCategorized()&&(c.tickCentered(l.axis_x_tick_centered),g(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),c},t.updateXAxisTickValues=function(t,e){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),r.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},t.getYAxis=function(t,e,n,i,r,o,a){var s=this.owner,l=s.config,u={withOuterTick:r,withoutTransition:o,tickTextRotate:a?0:l.axis_y_tick_rotate},c=new this.internal(this,u).axis.scale(t).orient(e).tickFormat(n);return s.isTimeSeriesY()?c.ticks(s.d3.time[l.axis_y_tick_time_value],l.axis_y_tick_time_interval):c.tickValues(i),c},t.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},t.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t<0?t.toFixed(0):t};return e.axis_x_tick_format&&(l(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),l(n)?function(e){return n.call(t,e)}:n},t.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},t.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},t.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},t.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},t.getLabelOptionByAxisId=function(t){var e,n=this.owner,i=n.config;return"y"===t?e=i.axis_y_label:"y2"===t?e=i.axis_y2_label:"x"===t&&(e=i.axis_x_label),e},t.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return c(e)?e:e?e.text:null},t.setLabelText=function(t,e){var n=this.owner,i=n.config,r=this.getLabelOptionByAxisId(t);c(r)?"y"===t?i.axis_y_label=e:"y2"===t?i.axis_y2_label=e:"x"===t&&(i.axis_x_label=e):r&&(r.text=e)},t.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=n&&"object"===(void 0===n?"undefined":r(n))&&n.position?n.position:e;return{isInner:i.indexOf("inner")>=0,isOuter:i.indexOf("outer")>=0,isLeft:i.indexOf("left")>=0,isCenter:i.indexOf("center")>=0,isRight:i.indexOf("right")>=0,isTop:i.indexOf("top")>=0,isMiddle:i.indexOf("middle")>=0,isBottom:i.indexOf("bottom")>=0}},t.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},t.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},t.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},t.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},t.textForXAxisLabel=function(){return this.getLabelText("x")},t.textForYAxisLabel=function(){return this.getLabelText("y")},t.textForY2AxisLabel=function(){return this.getLabelText("y2")},t.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},t.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},t.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},t.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):n.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},t.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},t.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},t.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},t.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},t.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},t.getMaxTickWidth=function(t,e){var n,i,r,o,a=this.owner,s=a.config,l=0;return e&&a.currentMaxTickWidths[t]?a.currentMaxTickWidths[t]:(a.svg&&(n=a.filterTargetsToShow(a.data.targets),"y"===t?(i=a.y.copy().domain(a.getYDomain(n,"y")),r=this.getYAxis(i,a.yOrient,s.axis_y_tick_format,a.yAxisTickValues,!1,!0,!0)):"y2"===t?(i=a.y2.copy().domain(a.getYDomain(n,"y2")),r=this.getYAxis(i,a.y2Orient,s.axis_y2_tick_format,a.y2AxisTickValues,!1,!0,!0)):(i=a.x.copy().domain(a.getXDomain(n)),r=this.getXAxis(i,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),(o=a.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(r).each(function(){a.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();l<t.width&&(l=t.width)}),o.remove()})),a.currentMaxTickWidths[t]=l<=0?a.currentMaxTickWidths[t]:l,a.currentMaxTickWidths[t])},t.updateLabels=function(t){var e=this.owner,n=e.main.select("."+i.axisX+" ."+i.axisXLabel),r=e.main.select("."+i.axisY+" ."+i.axisYLabel),o=e.main.select("."+i.axisY2+" ."+i.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?o.transition():o).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},t.getPadding=function(t,e,n,i){var r="number"==typeof t?t:t[e];return s(r)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(r,i):n},t.convertPixelsToAxisPadding=function(t,e){var n=this.owner,i=n.config.axis_rotated?n.width:n.height;return e*(t/i)},t.generateTickValues=function(t,e,n){var i,r,o,a,s,u,c,h=t;if(e)if(1===(i=l(e)?e():e))h=[t[0]];else if(2===i)h=[t[0],t[t.length-1]];else if(i>2){for(a=i-2,r=t[0],o=t[t.length-1],s=(o-r)/(a+1),h=[r],u=0;u<a;u++)c=+r+s*(u+1),h.push(n?new Date(c):c);h.push(o)}return n||(h=h.sort(function(t,e){return t-e})),h},t.generateTransitions=function(t){var e=this.owner,n=e.axes;return{axisX:t?n.x.transition().duration(t):n.x,axisY:t?n.y.transition().duration(t):n.y,axisY2:t?n.y2.transition().duration(t):n.y2,axisSubX:t?n.subx.transition().duration(t):n.subx}},t.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)};var O,S,M={version:"0.4.23"};function T(t){var e=this.internal=new D(this);e.loadConfig(t),e.beforeInit(t),e.init(),e.afterInit(t),function t(e,n,i){Object.keys(e).forEach(function(r){n[r]=e[r].bind(i),Object.keys(e[r]).length>0&&t(e[r],n[r],i)})}(O,this,this)}function D(t){var e=this;e.d3=window.d3?window.d3:n(2),e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}return M.generate=function(t){return new T(t)},M.chart={fn:T.prototype,internal:{fn:D.prototype}},O=M.chart.fn,(S=M.chart.internal.fn).beforeInit=function(){},S.afterInit=function(){},S.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},S.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?n.axis_x_inner?"right":"left":n.axis_x_inner?"top":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},S.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},S.initWithData=function(t){var e,n,r=this,o=r.d3,a=r.config,s=!0;r.axis=new w(r),r.initPie&&r.initPie(),r.initBrush&&r.initBrush(),r.initZoom&&r.initZoom(),a.bindto?"function"==typeof a.bindto.node?r.selectChart=a.bindto:r.selectChart=o.select(a.bindto):r.selectChart=o.selectAll([]),r.selectChart.empty()&&(r.selectChart=o.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),s=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(t),a.data_filter&&(r.data.targets=r.data.targets.filter(a.data_filter)),a.data_hide&&r.addHiddenTargetIds(!0===a.data_hide?r.mapToIds(r.data.targets):a.data_hide),a.legend_hide&&r.addHiddenLegendIds(!0===a.legend_hide?r.mapToIds(r.data.targets):a.legend_hide),r.updateSizes(),r.updateScales(),r.x.domain(o.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.brush&&r.brush.scale(r.subX),a.zoom_enabled&&r.zoom.scale(r.x),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return a.onmouseover.call(r)}).on("mouseleave",function(){return a.onmouseout.call(r)}),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),e=r.svg.append("defs"),r.clipChart=r.appendClip(e,r.clipId),r.clipXAxis=r.appendClip(e,r.clipIdForXAxis),r.clipYAxis=r.appendClip(e,r.clipIdForYAxis),r.clipGrid=r.appendClip(e,r.clipIdForGrid),r.clipSubchart=r.appendClip(e,r.clipIdForSubchart),r.updateSvgSize(),n=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),n.append("text").attr("class",i.text+" "+i.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),n.append("g").attr("clip-path",r.clipPath).attr("class",i.chart),a.grid_lines_front&&r.initGridLines(),r.initEventRect(),r.initChartElements(),n.insert("rect",a.zoom_privileged?null:"g."+i.regions).attr("class",i.zoomRect).attr("width",r.width).attr("height",r.height).style("opacity",0).on("dblclick.zoom",null),a.axis_x_extent&&r.brush.extent(r.getDefaultExtent()),r.axis.init(),r.updateTargets(r.data.targets),s&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.api.element=r.selectChart.node()},S.smoothLines=function(t,e){var n=this;"grid"===e&&t.each(function(){var t=n.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),r=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(r),y2:Math.ceil(o)})})},S.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!o?e.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+s+r+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:NaN,bottom:a+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},S.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},S.showTargets=function(){var t=this;t.svg.selectAll("."+i.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},S.redraw=function(t,e){var n,r,o,a,s,l,u,c,h,p,d,f,v,g,m,x,_,A,b,w,O,S,M,T,D,C,F,E,P,L=this,R=L.main,k=L.d3,I=L.config,N=L.getShapeIndices(L.isAreaType),G=L.getShapeIndices(L.isBarType),j=L.getShapeIndices(L.isLineType),V=L.hasArcType(),z=L.filterTargetsToShow(L.data.targets),B=L.xv.bind(L);if(n=y(t=t||{},"withY",!0),r=y(t,"withSubchart",!0),o=y(t,"withTransition",!0),l=y(t,"withTransform",!1),u=y(t,"withUpdateXDomain",!1),c=y(t,"withUpdateOrgXDomain",!1),h=y(t,"withTrimXDomain",!0),v=y(t,"withUpdateXAxis",u),p=y(t,"withLegend",!1),d=y(t,"withEventRect",!0),f=y(t,"withDimension",!0),a=y(t,"withTransitionForExit",o),s=y(t,"withTransitionForAxis",o),b=o?I.transition_duration:0,w=a?b:0,O=s?b:0,e=e||L.axis.generateTransitions(O),p&&I.legend_show?L.updateLegend(L.mapToIds(L.data.targets),t,e):f&&L.updateDimension(!0),L.isCategorized()&&0===z.length&&L.x.domain([0,L.axes.x.selectAll(".tick").size()]),z.length?(L.updateXDomain(z,u,c,h),I.axis_x_tick_values||(T=L.axis.updateXAxisTickValues(z))):(L.xAxis.tickValues([]),L.subXAxis.tickValues([])),I.zoom_rescale&&!t.flow&&(F=L.x.orgDomain()),L.y.domain(L.getYDomain(z,"y",F)),L.y2.domain(L.getYDomain(z,"y2",F)),!I.axis_y_tick_values&&I.axis_y_tick_count&&L.yAxis.tickValues(L.axis.generateTickValues(L.y.domain(),I.axis_y_tick_count)),!I.axis_y2_tick_values&&I.axis_y2_tick_count&&L.y2Axis.tickValues(L.axis.generateTickValues(L.y2.domain(),I.axis_y2_tick_count)),L.axis.redraw(e,V),L.axis.updateLabels(o),(u||v)&&z.length)if(I.axis_x_tick_culling&&T){for(D=1;D<T.length;D++)if(T.length/D<I.axis_x_tick_culling_max){C=D;break}L.svg.selectAll("."+i.axisX+" .tick text").each(function(t){var e=T.indexOf(t);e>=0&&k.select(this).style("display",e%C?"none":"block")})}else L.svg.selectAll("."+i.axisX+" .tick text").style("display","block");g=L.generateDrawArea?L.generateDrawArea(N,!1):void 0,m=L.generateDrawBar?L.generateDrawBar(G):void 0,x=L.generateDrawLine?L.generateDrawLine(j,!1):void 0,_=L.generateXYForText(N,G,j,!0),A=L.generateXYForText(N,G,j,!1),n&&(L.subY.domain(L.getYDomain(z,"y")),L.subY2.domain(L.getYDomain(z,"y2"))),L.updateXgridFocus(),R.select("text."+i.text+"."+i.empty).attr("x",L.width/2).attr("y",L.height/2).text(I.data_empty_label_text).transition().style("opacity",z.length?0:1),L.updateGrid(b),L.updateRegion(b),L.updateBar(w),L.updateLine(w),L.updateArea(w),L.updateCircle(),L.hasDataLabel()&&L.updateText(w),L.redrawTitle&&L.redrawTitle(),L.redrawArc&&L.redrawArc(b,w,l),L.redrawSubchart&&L.redrawSubchart(r,e,b,w,N,G,j),R.selectAll("."+i.selectedCircles).filter(L.isBarType.bind(L)).selectAll("circle").remove(),I.interaction_enabled&&!t.flow&&d&&(L.redrawEventRect(),L.updateZoom&&L.updateZoom()),L.updateCircleY(),E=(L.config.axis_rotated?L.circleY:L.circleX).bind(L),P=(L.config.axis_rotated?L.circleX:L.circleY).bind(L),t.flow&&(M=L.generateFlow({targets:z,flow:t.flow,duration:t.flow.duration,drawBar:m,drawLine:x,drawArea:g,cx:E,cy:P,xv:B,xForText:_,yForText:A})),(b||M)&&L.isTabVisible()?k.transition().duration(b).each(function(){var e=[];[L.redrawBar(m,!0),L.redrawLine(x,!0),L.redrawArea(g,!0),L.redrawCircle(E,P,!0),L.redrawText(_,A,t.flow,!0),L.redrawRegion(!0),L.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),S=L.generateWait(),e.forEach(function(t){S.add(t)})}).call(S,function(){M&&M(),I.onrendered&&I.onrendered.call(L)}):(L.redrawBar(m),L.redrawLine(x),L.redrawArea(g),L.redrawCircle(E,P),L.redrawText(_,A,t.flow),L.redrawRegion(),L.redrawGrid(),I.onrendered&&I.onrendered.call(L)),L.mapToIds(L.data.targets).forEach(function(t){L.withoutFadeIn[t]=!0})},S.updateAndRedraw=function(t){var e,n=this,i=n.config;(t=t||{}).withTransition=y(t,"withTransition",!0),t.withTransform=y(t,"withTransform",!1),t.withLegend=y(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=y(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&i.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},S.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},S.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},S.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},S.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||m(t.data_xs))},S.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},S.getTranslate=function(t){var e,n,i=this,r=i.config;return"main"===t?(e=f(i.margin.left),n=f(i.margin.top)):"context"===t?(e=f(i.margin2.left),n=f(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=r.axis_rotated?0:i.height):"y"===t?(e=0,n=r.axis_rotated?i.height:0):"y2"===t?(e=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===t?(e=0,n=r.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2-(i.hasType("gauge")?6:0)),"translate("+e+","+n+")"},S.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},S.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},S.opacityForCircle=function(t){var e=(l(this.config.point_show)?this.config.point_show(t):this.config.point_show)?1:0;return s(t.value)?this.isScatterType(t)?.5:e:0},S.opacityForText=function(){return this.hasDataLabel()?1:0},S.xx=function(t){return t?this.x(t.x):null},S.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},S.yv=function(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(t.value))},S.subxx=function(t){return t?this.subX(t.x):null},S.transformMain=function(t,e){var n,r,o,a=this;e&&e.axisX?n=e.axisX:(n=a.main.select("."+i.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=a.main.select("."+i.axisY),t&&(r=r.transition())),e&&e.axisY2?o=e.axisY2:(o=a.main.select("."+i.axisY2),t&&(o=o.transition())),(t?a.main.transition():a.main).attr("transform",a.getTranslate("main")),n.attr("transform",a.getTranslate("x")),r.attr("transform",a.getTranslate("y")),o.attr("transform",a.getTranslate("y2")),a.main.select("."+i.chartArcs).attr("transform",a.getTranslate("arc"))},S.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},S.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+i.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},S.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},S.observeInserted=function(t){var e,n=this;"undefined"!=typeof MutationObserver?(e=new MutationObserver(function(i){i.forEach(function(i){"childList"===i.type&&i.previousSibling&&(e.disconnect(),n.intervalForObserveInserted=window.setInterval(function(){t.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))},10))})})).observe(t.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},S.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.api.flush()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.attachEvent)window.attachEvent("onresize",t.resizeIfElementDisplayed);else if(window.addEventListener)window.addEventListener("resize",t.resizeIfElementDisplayed,!1);else{var n=window.onresize;n?n.add&&n.remove||(n=t.generateResize()).add(window.onresize):n=t.generateResize(),n.add(t.resizeFunction),window.onresize=function(){t.api.element.offsetParent&&n()}}},S.generateResize=function(){var t=[];function e(){t.forEach(function(t){t()})}return e.add=function(e){t.push(e)},e.remove=function(e){for(var n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}},e},S.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},S.generateWait=function(){var t=[],e=function(e,n){var i=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())e+=1;else try{t.transition()}catch(t){e+=1}}),e===t.length&&(clearInterval(i),n&&n())},10)};return e.add=function(e){t.push(e)},e},S.parseDate=function(t){var e;return t instanceof Date?e=t:"string"==typeof t?e=this.dataTimeFormat(this.config.data_xFormat).parse(t):"object"===(void 0===t?"undefined":r(t))?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},S.isTabVisible=function(){var t;return void 0!==document.hidden?t="hidden":void 0!==document.mozHidden?t="mozHidden":void 0!==document.msHidden?t="msHidden":void 0!==document.webkitHidden&&(t="webkitHidden"),!document[t]},S.isValue=s,S.isFunction=l,S.isString=c,S.isUndefined=h,S.isDefined=p,S.ceil10=d,S.asHalfPixel=f,S.diffDomain=v,S.isEmpty=g,S.notEmpty=m,S.notEmpty=m,S.getOption=y,S.hasValue=x,S.sanitise=_,S.getPathBox=A,S.CLASS=i,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,i,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,i,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,i,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,r,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,r,o){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,r,o,a){return new window.SVGPathSegArcAbs(void 0,t,e,n,i,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,r,o,a){return new window.SVGPathSegArcRel(void 0,t,e,n,i,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach(function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(t){this.pathSegList.push(t)};var i=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},i.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var t=0,e=0,n=1,i=0,r=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var l=this._currentIndex-1,u=1;l>=s;)e+=u*(this._string.charAt(l--)-"0"),u*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n*=10,i+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=e+i;if(c*=r,t&&(c*=Math.pow(10,o*t)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},i.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((n=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var r=new n,o=new i(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))}),O.axis=function(){},O.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},O.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"===(void 0===t?"undefined":r(t))?(s(t.x)&&(n.axis_x_max=t.x),s(t.y)&&(n.axis_y_max=t.y),s(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},O.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"===(void 0===t?"undefined":r(t))?(s(t.x)&&(n.axis_x_min=t.x),s(t.y)&&(n.axis_y_min=t.y),s(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},O.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};p(t.max)&&this.axis.max(t.max),p(t.min)&&this.axis.min(t.min)},O.category=function(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},O.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},O.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},O.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},O.destroy=function(){var t=this.internal;if(window.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),window.detachEvent)window.detachEvent("onresize",t.resizeIfElementDisplayed);else if(window.removeEventListener)window.removeEventListener("resize",t.resizeIfElementDisplayed);else{var e=window.onresize;e&&e.add&&e.remove&&e.remove(t.resizeFunction)}return t.resizeFunction.remove(),t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach(function(e){t[e]=null}),null},O.color=function(t){return this.internal.color(t)},O.data=function(t){var e=this.internal.data.targets;return void 0===t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},O.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},O.data.values=function(t){var e,n=null;return t&&(n=(e=this.data(t))[0]?e[0].values.map(function(t){return t.value}):null),n},O.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},O.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},O.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},O.flow=function(t){var e,n,i,r,o,a,l,u=this.internal,c=[],h=u.getMaxDataCount(),d=0,f=0;if(t.json)n=u.convertJsonToData(t.json,t.keys);else if(t.rows)n=u.convertRowsToData(t.rows);else{if(!t.columns)return;n=u.convertColumnsToData(t.columns)}e=u.convertDataToTargets(n,!0),u.data.targets.forEach(function(t){var n,i,r=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(r=!0,t.values[t.values.length-1]&&(f=t.values[t.values.length-1].index+1),d=e[n].values.length,i=0;i<d;i++)e[n].values[i].index=f+i,u.isTimeSeries()||(e[n].values[i].x=f+i);t.values=t.values.concat(e[n].values),e.splice(n,1);break}r||c.push(t.id)}),u.data.targets.forEach(function(t){var e,n;for(e=0;e<c.length;e++)if(t.id===c[e])for(f=t.values[t.values.length-1].index+1,n=0;n<d;n++)t.values.push({id:t.id,index:f+n,x:u.isTimeSeries()?u.getOtherTargetX(f+n):f+n,value:null})}),u.data.targets.length&&e.forEach(function(t){var e,n=[];for(e=u.data.targets[0].values[0].index;e<f;e++)n.push({id:t.id,index:e,x:u.isTimeSeries()?u.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=f,u.isTimeSeries()||(t.x+=f)}),t.values=n.concat(t.values)}),u.data.targets=u.data.targets.concat(e),u.getMaxDataCount(),o=(r=u.data.targets[0]).values[0],p(t.to)?(d=0,l=u.isTimeSeries()?u.parseDate(t.to):t.to,r.values.forEach(function(t){t.x<l&&d++})):p(t.length)&&(d=t.length),h?1===h&&u.isTimeSeries()&&(a=(r.values[r.values.length-1].x-o.x)/2,i=[new Date(+o.x-a),new Date(+o.x+a)],u.updateXDomain(null,!0,!0,!1,i)):(a=u.isTimeSeries()?r.values.length>1?r.values[r.values.length-1].x-o.x:o.x-u.getXDomain(u.data.targets)[0]:1,i=[o.x-a,o.x],u.updateXDomain(null,!0,!0,!1,i)),u.updateTargets(u.data.targets),u.redraw({flow:{index:o.index,length:d,duration:s(t.duration)?t.duration:u.config.transition_duration,done:t.done,orgDataCount:h},withLegend:!0,withTransition:h>1,withTrimXDomain:!1,withUpdateXAxis:!0})},S.generateFlow=function(t){var e=this,n=e.config,r=e.d3;return function(){var o,a,s,l,u=t.targets,c=t.flow,h=t.drawBar,p=t.drawLine,d=t.drawArea,f=t.cx,g=t.cy,m=t.xv,y=t.xForText,x=t.yForText,_=t.duration,A=c.index,b=c.length,w=e.getValueOnIndex(e.data.targets[0].values,A),O=e.getValueOnIndex(e.data.targets[0].values,A+b),S=e.x.domain(),M=c.duration||_,T=c.done||function(){},D=e.generateWait(),C=e.xgrid||r.selectAll([]),F=e.xgridLines||r.selectAll([]),E=e.mainRegion||r.selectAll([]),P=e.mainText||r.selectAll([]),L=e.mainBar||r.selectAll([]),R=e.mainLine||r.selectAll([]),k=e.mainArea||r.selectAll([]),I=e.mainCircle||r.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,b)}),l=e.updateXDomain(u,!0,!0),e.updateXGrid&&e.updateXGrid(!0),c.orgDataCount?o=1===c.orgDataCount||(w&&w.x)===(O&&O.x)?e.x(S[0])-e.x(l[0]):e.isTimeSeries()?e.x(S[0])-e.x(l[0]):e.x(w.x)-e.x(O.x):1!==e.data.targets[0].values.length?o=e.x(S[0])-e.x(l[0]):e.isTimeSeries()?(w=e.getValueOnIndex(e.data.targets[0].values,0),O=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),o=e.x(w.x)-e.x(O.x)):o=v(l)/2,a=v(S)/v(l),s="translate("+o+",0) scale("+a+",1)",e.hideXGridFocus(),r.transition().ease("linear").duration(M).each(function(){D.add(e.axes.x.transition().call(e.xAxis)),D.add(L.transition().attr("transform",s)),D.add(R.transition().attr("transform",s)),D.add(k.transition().attr("transform",s)),D.add(I.transition().attr("transform",s)),D.add(P.transition().attr("transform",s)),D.add(E.filter(e.isRegionOnX).transition().attr("transform",s)),D.add(C.transition().attr("transform",s)),D.add(F.transition().attr("transform",s))}).call(D,function(){var t,r=[],o=[],a=[];if(b){for(t=0;t<b;t++)r.push("."+i.shape+"-"+(A+t)),o.push("."+i.text+"-"+(A+t)),a.push("."+i.eventRect+"-"+(A+t));e.svg.selectAll("."+i.shapes).selectAll(r).remove(),e.svg.selectAll("."+i.texts).selectAll(o).remove(),e.svg.selectAll("."+i.eventRects).selectAll(a).remove(),e.svg.select("."+i.xgrid).remove()}C.attr("transform",null).attr(e.xgridAttr),F.attr("transform",null),F.select("line").attr("x1",n.axis_rotated?0:m).attr("x2",n.axis_rotated?e.width:m),F.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",m),L.attr("transform",null).attr("d",h),R.attr("transform",null).attr("d",p),k.attr("transform",null).attr("d",d),I.attr("transform",null).attr("cx",f).attr("cy",g),P.attr("transform",null).attr("x",y).attr("y",x).style("fill-opacity",e.opacityForText.bind(e)),E.attr("transform",null),E.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),T(),e.flowing=!1})}},O.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(i.focused,!0).classed(i.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},O.defocus=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))).classed(i.focused,!1).classed(i.defocused,!0),e.hasArcType()&&e.unexpandArc(t),e.toggleFocusLegend(t,!1),e.focusedTargetIds=e.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),e.defocusedTargetIds=t},O.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(i.focused,!1).classed(i.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(i.legendItemFocused)}).classed(i.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},O.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},O.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},O.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},O.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},O.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},O.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},O.groups=function(t){var e=this.internal,n=e.config;return h(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)},O.legend=function(){},O.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},O.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},O.load=function(t){var e=this.internal,n=e.config;t.xs&&e.addXs(t.xs),"names"in t&&O.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?e.load(e.getCaches(t.cacheIds),t.done):"unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t)},O.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},O.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},O.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},O.regions.remove=function(t){var e,n,r,o=this.internal,a=o.config;return t=t||{},e=o.getOption(t,"duration",a.transition_duration),n=o.getOption(t,"classes",[i.region]),r=o.main.select("."+i.regions).selectAll(n.map(function(t){return"."+t})),(e?r.transition().duration(e):r).style("opacity",0).remove(),a.regions=a.regions.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e)}),a.regions},O.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+i.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+i.shape).filter(function(){return n.select(this).classed(i.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},O.select=function(t,e,n){var r=this.internal,o=r.d3,a=r.config;a.data_selection_enabled&&r.main.selectAll("."+i.shapes).selectAll("."+i.shape).each(function(s,l){var u=o.select(this),c=s.data?s.data.id:s.id,h=r.getToggle(this,s).bind(r),d=a.data_selection_grouped||!t||t.indexOf(c)>=0,f=!e||e.indexOf(l)>=0,v=u.classed(i.SELECTED);u.classed(i.line)||u.classed(i.area)||(d&&f?a.data_selection_isselectable(s)&&!v&&h(!0,u.classed(i.SELECTED,!0),s,l):p(n)&&n&&v&&h(!1,u.classed(i.SELECTED,!1),s,l))})},O.unselect=function(t,e){var n=this.internal,r=n.d3,o=n.config;o.data_selection_enabled&&n.main.selectAll("."+i.shapes).selectAll("."+i.shape).each(function(a,s){var l=r.select(this),u=a.data?a.data.id:a.id,c=n.getToggle(this,a).bind(n),h=o.data_selection_grouped||!t||t.indexOf(u)>=0,p=!e||e.indexOf(s)>=0,d=l.classed(i.SELECTED);l.classed(i.line)||l.classed(i.area)||h&&p&&o.data_selection_isselectable(a)&&d&&c(!1,l.classed(i.SELECTED,!1),a,s)})},O.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},O.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},O.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach(function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},O.tooltip=function(){},O.tooltip.show=function(t){var e,n,i=this.internal;t.mouse&&(n=t.mouse),t.data?i.isMultipleX()?(n=[i.x(t.data.x),i.getYScale(t.data.id)(t.data.value)],e=null):e=s(t.data.index)?t.data.index:i.getIndexByX(t.data.x):void 0!==t.x?e=i.getIndexByX(t.x):void 0!==t.index&&(e=t.index),i.dispatchEvent("mouseover",e,n),i.dispatchEvent("mousemove",e,n),i.config.tooltip_onshow.call(i,t.data)},O.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},O.transform=function(t,e){var n=this.internal,i=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,i)},S.transformTo=function(t,e,n){var i=this,r=!i.hasArcType(),o=n||{withTransitionForAxis:r};o.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(o)},O.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},O.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},O.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},O.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},O.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},O.zoom.max=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=i.max([e.orgXDomain[1],t])},O.zoom.min=function(t){var e=this.internal,n=e.config,i=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=i.min([e.orgXDomain[0],t])},O.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};p(t.max)&&this.domain.max(t.max),p(t.min)&&this.domain.min(t.min)},S.initPie=function(){var t=this.d3;this.pie=t.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),this.pie.sort(this.getOrderFunction()||null)},S.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width,i=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=n||(i<=t.radius-t.innerRadius?t.radius-t.innerRadius:i<=t.radius?i:t.radius)},S.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},S.updateAngle=function(t){var e,n,i,r,o=this,a=o.config,s=!1,l=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(e){s||e.data.id!==t.data.id||(s=!0,(t=e).index=l),l++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),o.isGaugeType(t.data)&&(e=a.gauge_min,n=a.gauge_max,i=Math.PI*(a.gauge_fullCircle?2:1)/(n-e),r=t.value<e?0:t.value<n?t.value-e:n-e,t.startAngle=a.gauge_startingAngle,t.endAngle=t.startAngle+i*r),s?t:null):null},S.getSvgArc=function(){var t=this,e=t.hasType("gauge"),n=t.gaugeArcWidth/t.filterTargetsToShow(t.data.targets).length,i=t.d3.svg.arc().outerRadius(function(i){return e?t.radius-n*i.index:t.radius}).innerRadius(function(i){return e?t.radius-n*(i.index+1):t.innerRadius}),r=function(e,n){var r;return n?i(e):(r=t.updateAngle(e))?i(r):"M 0 0"};return r.centroid=i.centroid,r},S.getSvgArcExpanded=function(t){t=t||1;var e=this,n=e.hasType("gauge"),i=e.gaugeArcWidth/e.filterTargetsToShow(e.data.targets).length,r=Math.min(e.radiusExpanded*t-e.radius,.8*i-100*(1-t)),o=e.d3.svg.arc().outerRadius(function(o){return n?e.radius-i*o.index+r:e.radiusExpanded*t}).innerRadius(function(t){return n?e.radius-i*(t.index+1):e.innerRadius});return function(t){var n=e.updateAngle(t);return n?o(n):"M 0 0"}},S.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},S.transformForArcLabel=function(t){var e,n,i,r,o,a=this,s=a.config,u=a.updateAngle(t),c="",h=a.hasType("gauge");if(u&&!h)e=this.svgArc.centroid(u),n=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1],r=Math.sqrt(n*n+i*i),c="translate("+n*(o=a.hasType("donut")&&s.donut_label_ratio?l(s.donut_label_ratio)?s.donut_label_ratio(t,a.radius,r):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?l(s.pie_label_ratio)?s.pie_label_ratio(t,a.radius,r):s.pie_label_ratio:a.radius&&r?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/r:0)+","+i*o+")";else if(u&&h&&a.filterTargetsToShow(a.data.targets).length>1){var p=Math.sin(u.endAngle-Math.PI/2);c="translate("+(n=Math.cos(u.endAngle-Math.PI/2)*(a.radiusExpanded+25))+","+(i=p*(a.radiusExpanded+15-Math.abs(10*p))+3)+")"}return c},S.getArcRatio=function(t){var e=this.config,n=Math.PI*(this.hasType("gauge")&&!e.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/n:null},S.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},S.textForArcLabel=function(t){var e,n,i,r,o,a=this;return a.shouldShowArcLabel()?(n=(e=a.updateAngle(t))?e.value:null,i=a.getArcRatio(e),r=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(i)?(o=a.getArcLabelFormat())?o(n,i,r):a.defaultArcValueFormat(n,i):""):""},S.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},S.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval(function(){n.transiting||(window.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))},10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+i.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})}))},S.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+i.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+i.arc))},S.expandDuration=function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},S.shouldExpand=function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},S.shouldShowArcLabel=function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},S.meetsArcLabelThreshold=function(t){var e=this.config;return t>=(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)},S.getArcLabelFormat=function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},S.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},S.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},S.updateTargetsForArc=function(t){var e,n=this,r=n.main,o=n.classChartArc.bind(n),a=n.classArcs.bind(n),s=n.classFocus.bind(n);(e=r.select("."+i.chartArcs).selectAll("."+i.chartArc).data(n.pie(t)).attr("class",function(t){return o(t)+s(t.data)}).enter().append("g").attr("class",o)).append("g").attr("class",a),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},S.initArc=function(){var t=this;t.arcs=t.main.select("."+i.chart).append("g").attr("class",i.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",i.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},S.redrawArc=function(t,e,n){var r,o,a,s=this,l=s.d3,u=s.config,c=s.main,h=s.hasType("gauge");if((r=c.selectAll("."+i.arcs).selectAll("."+i.arc).data(s.arcData.bind(s))).enter().append("path").attr("class",s.classArc.bind(s)).style("fill",function(t){return s.color(t.data)}).style("cursor",function(t){return u.interaction_enabled&&u.data_selection_isselectable(t)?"pointer":null}).each(function(t){s.isGaugeType(t.data)&&(t.startAngle=t.endAngle=u.gauge_startingAngle),this._current=t}),h&&((a=c.selectAll("."+i.arcs).selectAll("."+i.arcLabelLine).data(s.arcData.bind(s))).enter().append("rect").attr("class",function(t){return i.arcLabelLine+" "+i.target+" "+i.target+"-"+t.data.id}),1===s.filterTargetsToShow(s.data.targets).length?a.style("display","none"):a.style("fill",function(t){return u.color_pattern.length>0?s.levelColor(t.data.values[0].value):s.color(t.data)}).style("display",u.gauge_labelLine_show?"":"none").each(function(t){var e=0,n=0,i=0,r="";if(s.hiddenTargetIds.indexOf(t.data.id)<0){var o=s.updateAngle(t),a=s.gaugeArcWidth/s.filterTargetsToShow(s.data.targets).length*(o.index+1),u=o.endAngle-Math.PI/2,c=s.radius-a,h=u-(0===c?0:1/c);e=s.radiusExpanded-s.radius+a,n=Math.cos(h)*c,i=Math.sin(h)*c,r="rotate("+180*u/Math.PI+", "+n+", "+i+")"}l.select(this).attr({x:n,y:i,width:e,height:2,transform:r}).style("stroke-dasharray","0, "+(e+2)+", 0")})),r.attr("transform",function(t){return!s.isGaugeType(t.data)&&n?"scale(0)":""}).on("mouseover",u.interaction_enabled?function(t){var e,n;s.transiting||(e=s.updateAngle(t))&&(n=s.convertToArcData(e),s.expandArc(e.data.id),s.api.focus(e.data.id),s.toggleFocusLegend(e.data.id,!0),s.config.data_onmouseover(n,this))}:null).on("mousemove",u.interaction_enabled?function(t){var e,n=s.updateAngle(t);n&&(e=[s.convertToArcData(n)],s.showTooltip(e,this))}:null).on("mouseout",u.interaction_enabled?function(t){var e,n;s.transiting||(e=s.updateAngle(t))&&(n=s.convertToArcData(e),s.unexpandArc(e.data.id),s.api.revert(),s.revertLegend(),s.hideTooltip(),s.config.data_onmouseout(n,this))}:null).on("click",u.interaction_enabled?function(t,e){var n,i=s.updateAngle(t);i&&(n=s.convertToArcData(i),s.toggleShape&&s.toggleShape(this,n,e),s.config.data_onclick.call(s.api,n,this))}:null).each(function(){s.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,n=s.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=l.interpolate(this._current,n),this._current=e(0),function(n){var i=e(n);return i.data=t.data,s.getArc(i,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return s.levelColor?s.levelColor(t.data.values[0].value):s.color(t.data.id)}).call(s.endall,function(){s.transiting=!1}),r.exit().transition().duration(e).style("opacity",0).remove(),c.selectAll("."+i.chartArc).select("text").style("opacity",0).attr("class",function(t){return s.isGaugeType(t.data)?i.gaugeValue:""}).text(s.textForArcLabel.bind(s)).attr("transform",s.transformForArcLabel.bind(s)).style("font-size",function(t){return s.isGaugeType(t.data)&&1===s.filterTargetsToShow(s.data.targets).length?Math.round(s.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return s.isTargetToShow(t.data.id)&&s.isArcType(t.data)?1:0}),c.select("."+i.chartArcsTitle).style("opacity",s.hasType("donut")||h?1:0),h){var p=0;(o=s.arcs.select("g."+i.chartArcsBackground).selectAll("path."+i.chartArcsBackground).data(s.data.targets)).enter().append("path"),o.attr("class",function(t,e){return i.chartArcsBackground+" "+i.chartArcsBackground+"-"+e}).attr("d",function(t){if(s.hiddenTargetIds.indexOf(t.id)>=0)return"M 0 0";var e={data:[{value:u.gauge_max}],startAngle:u.gauge_startingAngle,endAngle:-1*u.gauge_startingAngle*(u.gauge_fullCircle?Math.PI:1),index:p++};return s.getArc(e,!0,!0)}),o.exit().remove(),s.arcs.select("."+i.chartArcsGaugeUnit).attr("dy",".75em").text(u.gauge_label_show?u.gauge_units:""),s.arcs.select("."+i.chartArcsGaugeMin).attr("dx",-1*(s.innerRadius+(s.radius-s.innerRadius)/(u.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(u.gauge_label_show?s.textForGaugeMinMax(u.gauge_min,!1):""),s.arcs.select("."+i.chartArcsGaugeMax).attr("dx",s.innerRadius+(s.radius-s.innerRadius)/(u.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(u.gauge_label_show?s.textForGaugeMinMax(u.gauge_max,!0):"")}},S.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",i.chartArcsBackground),t.append("text").attr("class",i.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",i.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",i.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},S.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},S.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},S.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},S.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n},S.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},S.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},S.classText=function(t){return this.generateClass(i.text,t.index)},S.classTexts=function(t){return this.generateClass(i.texts,t.id)},S.classShape=function(t){return this.generateClass(i.shape,t.index)},S.classShapes=function(t){return this.generateClass(i.shapes,t.id)},S.classLine=function(t){return this.classShape(t)+this.generateClass(i.line,t.id)},S.classLines=function(t){return this.classShapes(t)+this.generateClass(i.lines,t.id)},S.classCircle=function(t){return this.classShape(t)+this.generateClass(i.circle,t.index)},S.classCircles=function(t){return this.classShapes(t)+this.generateClass(i.circles,t.id)},S.classBar=function(t){return this.classShape(t)+this.generateClass(i.bar,t.index)},S.classBars=function(t){return this.classShapes(t)+this.generateClass(i.bars,t.id)},S.classArc=function(t){return this.classShape(t.data)+this.generateClass(i.arc,t.data.id)},S.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(i.arcs,t.data.id)},S.classArea=function(t){return this.classShape(t)+this.generateClass(i.area,t.id)},S.classAreas=function(t){return this.classShapes(t)+this.generateClass(i.areas,t.id)},S.classRegion=function(t,e){return this.generateClass(i.region,e)+" "+("class"in t?t.class:"")},S.classEvent=function(t){return this.generateClass(i.eventRect,t.index)},S.classTarget=function(t){var e=this.config.data_classes[t],n="";return e&&(n=" "+i.target+"-"+e),this.generateClass(i.target,t)+n},S.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},S.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?i.focused:"")},S.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?i.defocused:"")},S.classChartText=function(t){return i.chartText+this.classTarget(t.id)},S.classChartLine=function(t){return i.chartLine+this.classTarget(t.id)},S.classChartBar=function(t){return i.chartBar+this.classTarget(t.id)},S.classChartArc=function(t){return i.chartArc+this.classTarget(t.data.id)},S.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},S.selectorTarget=function(t,e){return(e||"")+"."+i.target+this.getTargetSelectorSuffix(t)},S.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map(function(t){return n.selectorTarget(t,e)}):null},S.selectorLegend=function(t){return"."+i.legendItem+this.getTargetSelectorSuffix(t)},S.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},S.getClipPath=function(t){return"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+t+")"},S.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},S.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},S.getAxisClipY=function(t){return t?-20:-this.margin.top},S.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},S.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},S.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},S.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},S.getAxisClipWidth=function(t){var e=Math.max(30,this.margin.left),n=Math.max(30,this.margin.right);return t?this.width+2+e+n:this.margin.left+20},S.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},S.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},S.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},S.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},S.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},S.generateColor=function(){var t=this.config,e=this.d3,n=t.data_colors,i=m(t.color_pattern)?t.color_pattern:e.scale.category10().range(),r=t.data_color,o=[];return function(t){var e,a=t.id||t.data&&t.data.id||t;return n[a]instanceof Function?e=n[a](t):n[a]?e=n[a]:(o.indexOf(a)<0&&o.push(a),e=i[o.indexOf(a)%i.length],n[a]=e),r instanceof Function?r(e,t):e}},S.generateLevelColor=function(){var t=this.config,e=t.color_pattern,n=t.color_threshold,i="value"===n.unit,r=n.values&&n.values.length?n.values:[],o=n.max||100;return m(t.color_threshold)?function(t){var n,a=e[e.length-1];for(n=0;n<r.length;n++)if((i?t:100*t/o)<r[n]){a=e[n];break}return a}:null},S.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},S.additionalConfig={},S.loadConfig=function(t){var e,n,i,o=this.config;Object.keys(o).forEach(function(a){e=t,n=a.split("_"),i=function t(){var i=n.shift();return i&&e&&"object"===(void 0===e?"undefined":r(e))&&i in e?(e=e[i],t()):i?void 0:e}(),p(i)&&(o[a]=i)})},S.convertUrlToData=function(t,e,n,i,r){var o=this,a=e||"csv",s=o.d3.xhr(t);n&&Object.keys(n).forEach(function(t){s.header(t,n[t])}),s.get(function(t,e){var n,s=e.response||e.responseText;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");n="json"===a?o.convertJsonToData(JSON.parse(s),i):"tsv"===a?o.convertTsvToData(s):o.convertCsvToData(s),r.call(o,n)})},S.convertXsvToData=function(t,e){var n,i=e.parseRows(t);return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},S.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},S.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},S.convertJsonToData=function(t,e){var n,i,r=this,o=[];return e?(e.x?(n=e.value.concat(e.x),r.config.data_x=e.x):n=e.value,o.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var i=r.findValueInJson(t,n);h(i)&&(i=null),e.push(i)}),o.push(e)}),i=r.convertRowsToData(o)):(Object.keys(t).forEach(function(e){o.push([e].concat(t[e]))}),i=r.convertColumnsToData(o)),i},S.findValueInJson=function(t,e){for(var n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0;i<n.length;++i){var r=n[i];if(!(r in t))return;t=t[r]}return t},S.convertRowsToData=function(t){for(var e=[],n=t[0],i=1;i<t.length;i++){for(var r={},o=0;o<t[i].length;o++){if(h(t[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");r[n[o]]=t[i][o]}e.push(r)}return e},S.convertColumnsToData=function(t){for(var e=[],n=0;n<t.length;n++)for(var i=t[n][0],r=1;r<t[n].length;r++){if(h(e[r-1])&&(e[r-1]={}),h(t[n][r]))throw new Error("Source data is missing a component at ("+n+","+r+")!");e[r-1][i]=t[n][r]}return e},S.convertDataToTargets=function(t,e){var n,i=this,r=i.config,o=i.d3.keys(t[0]).filter(i.isNotX,i),a=i.d3.keys(t[0]).filter(i.isX,i);return o.forEach(function(n){var o=i.getXKey(n);i.isCustomX()||i.isTimeSeries()?a.indexOf(o)>=0?i.data.xs[n]=(e&&i.data.xs[n]?i.data.xs[n]:[]).concat(t.map(function(t){return t[o]}).filter(s).map(function(t,e){return i.generateTargetX(t,n,e)})):r.data_x?i.data.xs[n]=i.getOtherTargetXs():m(r.data_xs)&&(i.data.xs[n]=i.getXValuesOfXKey(o,i.data.targets)):i.data.xs[n]=t.map(function(t,e){return e})}),o.forEach(function(t){if(!i.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(n=o.map(function(e,n){var o=r.data_idConverter(e);return{id:o,id_org:e,values:t.map(function(t,a){var s,l=t[i.getXKey(e)],u=null===t[e]||isNaN(t[e])?null:+t[e];return i.isCustomX()&&i.isCategorized()&&!h(l)?(0===n&&0===a&&(r.axis_x_categories=[]),-1===(s=r.axis_x_categories.indexOf(l))&&(s=r.axis_x_categories.length,r.axis_x_categories.push(l))):s=i.generateTargetX(l,e,a),(h(t[e])||i.data.xs[e].length<=a)&&(s=void 0),{x:s,value:u,id:o}}).filter(function(t){return p(t.x)})}})).forEach(function(t){var e;r.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),e=0,t.values.forEach(function(t){t.index=e++}),i.data.xs[t.id].sort(function(t,e){return t-e})}),i.hasNegativeValue=i.hasNegativeValueInTargets(n),i.hasPositiveValue=i.hasPositiveValueInTargets(n),r.data_type&&i.setTargetType(i.mapToIds(n).filter(function(t){return!(t in r.data_types)}),r.data_type),n.forEach(function(t){i.addCache(t.id_org,t)}),n},S.isX=function(t){var e=this.config;return e.data_x&&t===e.data_x||m(e.data_xs)&&x(e.data_xs,t)},S.isNotX=function(t){return!this.isX(t)},S.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:m(e.data_xs)?e.data_xs[t]:null},S.getXValuesOfXKey=function(t,e){var n,i=this;return(e&&m(e)?i.mapToIds(e):[]).forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},S.getIndexByX=function(t){var e=this.filterByX(this.data.targets,t);return e.length?e[0].index:null},S.getXValue=function(t,e){return t in this.data.xs&&this.data.xs[t]&&s(this.data.xs[t][e])?this.data.xs[t][e]:e},S.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},S.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},S.addXs=function(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},S.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},S.isMultipleX=function(){return m(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},S.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},S.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},S.updateTargetX=function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(i,r){i.x=n.generateTargetX(e[r],t.id,r)}),n.data.xs[t.id]=e})},S.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},S.generateTargetX=function(t,e,n){var i=this;return i.isTimeSeries()?t?i.parseDate(t):i.parseDate(i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()?s(t)?+t:i.getXValue(e,n):n},S.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},S.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},S.getPrevX=function(t){var e=this.xs[t-1];return void 0!==e?e:null},S.getNextX=function(t){var e=this.xs[t+1];return void 0!==e?e:null},S.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(t){return t.values.length})},S.getMaxDataCountTarget=function(t){var e,n=t.length,i=0;return n>1?t.forEach(function(t){t.values.length>i&&(e=t,i=t.values.length)}):e=n?t[0]:null,e},S.getEdgeX=function(t){return t.length?[this.d3.min(t,function(t){return t.values[0].x}),this.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},S.mapToIds=function(t){return t.map(function(t){return t.id})},S.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},S.hasTarget=function(t,e){var n,i=this.mapToIds(t);for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},S.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},S.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},S.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},S.mapTargetsToUniqueXs=function(t){var e=this.d3.set(this.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN})},S.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]))},S.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},S.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},S.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},S.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e},S.checkValueInTargets=function(t,e){var n,i,r,o=Object.keys(t);for(n=0;n<o.length;n++)for(r=t[o[n]].values,i=0;i<r.length;i++)if(e(r[i].value))return!0;return!1},S.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},S.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},S.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},S.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},S.getOrderFunction=function(){var t=this.config,e=this.isOrderAsc(),n=this.isOrderDesc();if(e||n)return function(t,e){var i=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(i,0),o=e.values.reduce(i,0);return n?o-r:r-o};if(l(t.data_order))return t.data_order;if(u(t.data_order)){var i=t.data_order;return function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}},S.orderTargets=function(t){var e=this.getOrderFunction();return e&&(t.sort(e),(this.isOrderAsc()||this.isOrderDesc())&&t.reverse()),t},S.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},S.filterRemoveNull=function(t){return t.filter(function(t){return s(t.value)})},S.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},S.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!==r(t.data_labels)||!m(t.data_labels))},S.getDataLabelLength=function(t,e,n){var i=this,r=[0,0];return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=1.3*this.getBoundingClientRect()[n]}).remove(),r},S.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},S.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},S.findSameXOfValues=function(t,e){var n,i=t[e].x,r=[];for(n=e-1;n>=0&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},S.findClosestFromTargets=function(t,e){var n,i=this;return n=t.map(function(t){return i.findClosest(t.values,e)}),i.findClosest(n,e)},S.findClosest=function(t,e){var n,r=this,o=r.config.point_sensitivity;return t.filter(function(t){return t&&r.isBarType(t.id)}).forEach(function(t){var e=r.main.select("."+i.bars+r.getTargetSelectorSuffix(t.id)+" ."+i.bar+"-"+t.index).node();!n&&r.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!r.isBarType(t.id)}).forEach(function(t){var i=r.dist(t,e);i<o&&(o=i,n=t)}),n},S.dist=function(t,e){var n=this.config,i=n.axis_rotated?1:0,r=n.axis_rotated?0:1,o=this.circleY(t,t.index),a=this.x(t.x);return Math.sqrt(Math.pow(a-e[i],2)+Math.pow(o-e[r],2))},S.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},S.updateDataAttributes=function(t,e){var n=this.config["data_"+t];return void 0===e?n:(Object.keys(e).forEach(function(t){n[t]=e[t]}),this.redraw({withLegend:!0}),n)},S.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){var i=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,i)}),n.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},S.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},S.unload=function(t,e){var n=this;e||(e=function(){}),(t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}))&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+i.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):e()},S.getYDomainMin=function(t){var e,n,i,r,o,a,s=this,l=s.config,u=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(a=s.hasNegativeValueInTargets(t),e=0;e<l.data_groups.length;e++)if(0!==(r=l.data_groups[e].filter(function(t){return u.indexOf(t)>=0})).length)for(i=r[0],a&&c[i]&&c[i].forEach(function(t,e){c[i][e]=t<0?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(i)||!c[i]||a&&+t>0||(c[i][e]+=+t)});return s.d3.min(Object.keys(c).map(function(t){return s.d3.min(c[t])}))},S.getYDomainMax=function(t){var e,n,i,r,o,a,s=this,l=s.config,u=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(a=s.hasPositiveValueInTargets(t),e=0;e<l.data_groups.length;e++)if(0!==(r=l.data_groups[e].filter(function(t){return u.indexOf(t)>=0})).length)for(i=r[0],a&&c[i]&&c[i].forEach(function(t,e){c[i][e]=t>0?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(i)||!c[i]||a&&+t<0||(c[i][e]+=+t)});return s.d3.max(Object.keys(c).map(function(t){return s.d3.max(c[t])}))},S.getYDomain=function(t,e,n){var i,r,o,a,l,u,c,h,p,d,f=this,g=f.config,y=t.filter(function(t){return f.axis.getId(t.id)===e}),x=n?f.filterByXDomain(y,n):y,_="y2"===e?g.axis_y2_min:g.axis_y_min,A="y2"===e?g.axis_y2_max:g.axis_y_max,b=f.getYDomainMin(x),w=f.getYDomainMax(x),O="y2"===e?g.axis_y2_center:g.axis_y_center,S=f.hasType("bar",x)&&g.bar_zerobased||f.hasType("area",x)&&g.area_zerobased,M="y2"===e?g.axis_y2_inverted:g.axis_y_inverted,T=f.hasDataLabel()&&g.axis_rotated,D=f.hasDataLabel()&&!g.axis_rotated;return b=s(_)?_:s(A)?b<A?b:A-10:b,w=s(A)?A:s(_)?_<w?w:_+10:w,0===x.length?"y2"===e?f.y2.domain():f.y.domain():(isNaN(b)&&(b=0),isNaN(w)&&(w=b),b===w&&(b<0?w=0:b=0),p=b>=0&&w>=0,d=b<=0&&w<=0,(s(_)&&p||s(A)&&d)&&(S=!1),S&&(p&&(b=0),d&&(w=0)),o=a=.1*(r=Math.abs(w-b)),void 0!==O&&(w=O+(l=Math.max(Math.abs(b),Math.abs(w))),b=O-l),T?(u=f.getDataLabelLength(b,w,"width"),c=v(f.y.range()),o+=r*((h=[u[0]/c,u[1]/c])[1]/(1-h[0]-h[1])),a+=r*(h[0]/(1-h[0]-h[1]))):D&&(u=f.getDataLabelLength(b,w,"height"),o+=f.axis.convertPixelsToAxisPadding(u[1],r),a+=f.axis.convertPixelsToAxisPadding(u[0],r)),"y"===e&&m(g.axis_y_padding)&&(o=f.axis.getPadding(g.axis_y_padding,"top",o,r),a=f.axis.getPadding(g.axis_y_padding,"bottom",a,r)),"y2"===e&&m(g.axis_y2_padding)&&(o=f.axis.getPadding(g.axis_y2_padding,"top",o,r),a=f.axis.getPadding(g.axis_y2_padding,"bottom",a,r)),S&&(p&&(a=b),d&&(o=-w)),i=[b-a,w+o],M?i.reverse():i)},S.getXDomainMin=function(t){var e=this,n=e.config;return p(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},S.getXDomainMax=function(t){var e=this,n=e.config;return p(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},S.getXDomainPadding=function(t){var e,n,i,o,a=this.config,l=t[1]-t[0];return n=this.isCategorized()?0:this.hasType("bar")?(e=this.getMaxDataCount())>1?l/(e-1)/2:.5:.01*l,"object"===r(a.axis_x_padding)&&m(a.axis_x_padding)?(i=s(a.axis_x_padding.left)?a.axis_x_padding.left:n,o=s(a.axis_x_padding.right)?a.axis_x_padding.right:n):i=o="number"==typeof a.axis_x_padding?a.axis_x_padding:n,{left:i,right:o}},S.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],o=e.getXDomainPadding(n),a=0,s=0;return i-r!=0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(a=e.isTimeSeries()?new Date(i.getTime()-o.left):i-o.left),(r||0===r)&&(s=e.isTimeSeries()?new Date(r.getTime()+o.right):r+o.right),[a,s]},S.updateXDomain=function(t,e,n,i,r){var o=this,a=o.config;return n&&(o.x.domain(r||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(r||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent())),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),i&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},S.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t},S.drag=function(t){var e,n,r,o,a,s,l,u,c=this,h=c.config,p=c.main,d=c.d3;c.hasArcType()||h.data_selection_enabled&&(h.zoom_enabled&&!c.zoom.altDomain||h.data_selection_multiple&&(e=c.dragStart[0],n=c.dragStart[1],r=t[0],o=t[1],a=Math.min(e,r),s=Math.max(e,r),l=h.data_selection_grouped?c.margin.top:Math.min(n,o),u=h.data_selection_grouped?c.height:Math.max(n,o),p.select("."+i.dragarea).attr("x",a).attr("y",l).attr("width",s-a).attr("height",u-l),p.selectAll("."+i.shapes).selectAll("."+i.shape).filter(function(t){return h.data_selection_isselectable(t)}).each(function(t,e){var n,r,o,h,p,f,v=d.select(this),g=v.classed(i.SELECTED),m=v.classed(i.INCLUDED),y=!1;if(v.classed(i.circle))n=1*v.attr("cx"),r=1*v.attr("cy"),p=c.togglePoint,y=a<n&&n<s&&l<r&&r<u;else{if(!v.classed(i.bar))return;n=(f=A(this)).x,r=f.y,o=f.width,h=f.height,p=c.togglePath,y=!(s<n||n+o<a||u<r||r+h<l)}y^m&&(v.classed(i.INCLUDED,!m),v.classed(i.SELECTED,!g),p.call(c,!g,v,t,e))})))},S.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+i.chart).append("rect").attr("class",i.dragarea).style("opacity",.1),e.dragging=!0)},S.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+i.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+i.shape).classed(i.INCLUDED,!1),t.dragging=!1)},S.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,r,o){return("y2"===e.axis.getId(o)?i:n).call(e,t,r)}},S.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},S.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},S.defaultValueFormat=function(t){return s(t)?+t:""},S.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},S.dataLabelFormat=function(t){var e=this.config.data_labels,n=function(t){return s(t)?+t:""};return"function"==typeof e.format?e.format:"object"===r(e.format)?e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}:n},S.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",i.grid),e.grid_x_show&&t.grid.append("g").attr("class",i.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",i.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",i.xgridFocus).append("line").attr("class",i.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},S.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",i.grid+" "+i.gridLines),t.gridLines.append("g").attr("class",i.xgridLines),t.gridLines.append("g").attr("class",i.ygridLines),t.xgridLines=e.selectAll([])},S.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,o=e.generateGridData(n.grid_x_type,e.x),a=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-a},y2:function(t){return e.x(t)-a}}:{x1:function(t){return e.x(t)+a},x2:function(t){return e.x(t)+a},y1:0,y2:e.height},e.xgrid=e.main.select("."+i.xgrids).selectAll("."+i.xgrid).data(o),e.xgrid.enter().append("line").attr("class",i.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},S.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+i.ygrids).selectAll("."+i.ygrid).data(n),t.ygrid.enter().append("line").attr("class",i.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},S.gridTextAnchor=function(t){return t.position?t.position:"end"},S.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},S.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},S.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},S.updateGrid=function(t){var e,n,r,o=this,a=o.main,s=o.config;o.grid.style("visibility",o.hasArcType()?"hidden":"visible"),a.select("line."+i.xgridFocus).style("visibility","hidden"),s.grid_x_show&&o.updateXGrid(),o.xgridLines=a.select("."+i.xgridLines).selectAll("."+i.xgridLine).data(s.grid_x_lines),(e=o.xgridLines.enter().append("g").attr("class",function(t){return i.xgridLine+(t.class?" "+t.class:"")})).append("line").style("opacity",0),e.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",s.axis_rotated?"":"rotate(-90)").attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),o.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),s.grid_y_show&&o.updateYGrid(),o.ygridLines=a.select("."+i.ygridLines).selectAll("."+i.ygridLine).data(s.grid_y_lines),(n=o.ygridLines.enter().append("g").attr("class",function(t){return i.ygridLine+(t.class?" "+t.class:"")})).append("line").style("opacity",0),n.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",s.axis_rotated?"rotate(-90)":"").attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),r=o.yv.bind(o),o.ygridLines.select("line").transition().duration(t).attr("x1",s.axis_rotated?r:0).attr("x2",s.axis_rotated?r:o.width).attr("y1",s.axis_rotated?0:r).attr("y2",s.axis_rotated?o.height:r).style("opacity",1),o.ygridLines.select("text").transition().duration(t).attr("x",s.axis_rotated?o.xGridTextX.bind(o):o.yGridTextX.bind(o)).attr("y",r).text(function(t){return t.text}).style("opacity",1),o.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},S.redrawGrid=function(t){var e=this,n=e.config,i=e.xv.bind(e),r=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?e.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:e.height).style("opacity",1),(t?o.transition():o).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",i).text(function(t){return t.text}).style("opacity",1)]},S.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter(function(t){return t&&s(t.value)}),o=e.main.selectAll("line."+i.xgridFocus),a=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(o.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",a).attr(n.axis_rotated?"y2":"x2",a),e.smoothLines(o,"grid")))},S.hideXGridFocus=function(){this.main.select("line."+i.xgridFocus).style("visibility","hidden")},S.updateXgridFocus=function(){var t=this.config;this.main.select("line."+i.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?this.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:this.height)},S.generateGridData=function(t,e){var n,r,o,a,s=[],l=this.main.select("."+i.axisX).selectAll(".tick").size();if("year"===t)for(r=(n=this.getXDomain())[0].getFullYear(),o=n[1].getFullYear(),a=r;a<=o;a++)s.push(new Date(a+"-01-01 00:00:00"));else(s=e.ticks(10)).length>l&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s},S.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(n=!0)}),n}:function(){return!0}},S.removeGridLines=function(t,e){var n=this.config,r=this.getGridFilterToRemove(t),o=function(t){return!r(t)},a=e?i.xgridLines:i.ygridLines,s=e?i.xgridLine:i.ygridLine;this.main.select("."+a).selectAll("."+s).filter(r).transition().duration(n.transition_duration).style("opacity",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(o):n.grid_y_lines=n.grid_y_lines.filter(o)},S.initEventRect=function(){this.main.select("."+i.chart).append("g").attr("class",i.eventRects).style("fill-opacity",0)},S.redrawEventRect=function(){var t,e,n=this,r=n.config,o=n.isMultipleX(),a=n.main.select("."+i.eventRects).style("cursor",r.zoom_enabled?r.axis_rotated?"ns-resize":"ew-resize":null).classed(i.eventRectsMultiple,o).classed(i.eventRectsSingle,!o);a.selectAll("."+i.eventRect).remove(),n.eventRect=a.selectAll("."+i.eventRect),o?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),a.datum(e?e.values:[]),n.eventRect=a.selectAll("."+i.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},S.updateEventRect=function(t){var e,n,i,r,o,a,s=this,l=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(e=0,n=0,i=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(t){return s.x(t.x)-o/2}):(s.updateXs(),o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?l.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),i=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(i)+s.x(e))/2)}),e=l.axis_rotated?0:a,n=l.axis_rotated?a:0,i=l.axis_rotated?s.width:o,r=l.axis_rotated?o:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",i).attr("height",r)},S.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,r=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",r.data_selection_enabled&&r.data_selection_grouped?"pointer":null).on("mouseover",function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(r.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+i.shape+"-"+n).each(function(t){r.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+i.shape+"-"+n).each(function(t){r.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var o,a=t.index,s=e.svg.select("."+i.eventRect+"-"+a);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,a))&&(a-=1),o=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,a))}),r.tooltip_grouped&&(e.showTooltip(o,this),e.showXGridFocus(o)),(!r.tooltip_grouped||r.data_selection_enabled&&!r.data_selection_grouped)&&e.main.selectAll("."+i.shape+"-"+a).each(function(){n.select(this).classed(i.EXPANDED,!0),r.data_selection_enabled&&s.style("cursor",r.data_selection_grouped?"pointer":null),r.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),r.data_selection_grouped||(e.unexpandCircles(a),e.unexpandBars(a)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){r.data_selection_enabled&&(r.data_selection_grouped||r.data_selection_isselectable(t))&&s.style("cursor","pointer"),r.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),r.point_focus_expand_enabled&&e.expandCircles(a,t.id,!0),e.expandBars(a,t.id,!0))}))}).on("click",function(t){var o=t.index;!e.hasArcType()&&e.toggleShape&&(e.cancelClick?e.cancelClick=!1:(e.isStepType(t)&&"step-after"===r.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,o))&&(o-=1),e.main.selectAll("."+i.shape+"-"+o).each(function(t){(r.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,o),e.config.data_onclick.call(e.api,t,this))})))}).call(r.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},S.generateEventRectsForMultipleXs=function(t){var e=this,n=e.d3,r=e.config;function o(){e.svg.select("."+i.eventRect).style("cursor",null),e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars()}t.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class",i.eventRect).on("mouseout",function(){e.config&&(e.hasArcType()||o())}).on("mousemove",function(){var t,a,s,l=e.filterTargetsToShow(e.data.targets);e.dragging||e.hasArcType(l)||(t=n.mouse(this),a=e.findClosestFromTargets(l,t),!e.mouseover||a&&a.id===e.mouseover.id||(r.data_onmouseout.call(e.api,e.mouseover),e.mouseover=void 0),a?(s=(e.isScatterType(a)||!r.tooltip_grouped?[a]:e.filterByX(l,a.x)).map(function(t){return e.addName(t)}),e.showTooltip(s,this),r.point_focus_expand_enabled&&e.expandCircles(a.index,a.id,!0),e.expandBars(a.index,a.id,!0),e.showXGridFocus(s),(e.isBarType(a.id)||e.dist(a,t)<r.point_sensitivity)&&(e.svg.select("."+i.eventRect).style("cursor","pointer"),e.mouseover||(r.data_onmouseover.call(e.api,a),e.mouseover=a))):o())}).on("click",function(){var t,o,a=e.filterTargetsToShow(e.data.targets);e.hasArcType(a)||(t=n.mouse(this),(o=e.findClosestFromTargets(a,t))&&(e.isBarType(o.id)||e.dist(o,t)<r.point_sensitivity)&&e.main.selectAll("."+i.shapes+e.getTargetSelectorSuffix(o.id)).selectAll("."+i.shape+"-"+o.index).each(function(){(r.data_selection_grouped||e.isWithinShape(this,o))&&(e.toggleShape(this,o,o.index),e.config.data_onclick.call(e.api,o,this))}))}).call(r.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},S.dispatchEvent=function(t,e,n){var r="."+i.eventRect+(this.isMultipleX()?"":"-"+e),o=this.main.select(r).node(),a=o.getBoundingClientRect(),s=a.left+(n?n[0]:0),l=a.top+(n?n[1]:0),u=document.createEvent("MouseEvents");u.initMouseEvent(t,!0,!0,window,0,s,l,s,l,!1,!1,!1,!1,0,null),o.dispatchEvent(u)},S.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},S.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},S.updateSizeForLegend=function(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},S.transformLegend=function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},S.updateLegendStep=function(t){this.legendStep=t},S.updateLegendItemWidth=function(t){this.legendItemWidth=t},S.updateLegendItemHeight=function(t){this.legendItemHeight=t},S.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},S.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},S.opacityForLegend=function(t){return t.classed(i.legendItemHidden)?null:1},S.opacityForUnfocusedLegend=function(t){return t.classed(i.legendItemHidden)?null:.3},S.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+i.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(i.legendItemFocused,e).transition().duration(100).style("opacity",function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},S.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+i.legendItem).classed(i.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},S.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},S.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&g(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},S.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},S.updateLegend=function(t,e,n){var r,o,a,s,l,u,c,h,d,f,v,g,m,x,_,A,b=this,w=b.config,O=4,S=10,M=0,T=0,D=10,C=w.legend_item_tile_width+5,F=0,E={},P={},L={},R=[0],k={},I=0;function N(e,n,r){var o,a,s=0===r,l=r===t.length-1,u=function(t,e){return b.legendItemTextBox[e]||(b.legendItemTextBox[e]=b.getTextRect(t.textContent,i.legendItem,t)),b.legendItemTextBox[e]}(e,n),c=u.width+C+(!l||b.isLegendRight||b.isLegendInset?S:0)+w.legend_padding,h=u.height+O,p=b.isLegendRight||b.isLegendInset?h:c,d=b.isLegendRight||b.isLegendInset?b.getLegendHeight():b.getLegendWidth();function f(t,e){e||(o=(d-F-p)/2)<D&&(o=(d-p)/2,F=0,I++),k[t]=I,R[I]=b.isLegendInset?10:o,E[t]=F,F+=p}s&&(F=0,I=0,M=0,T=0),!w.legend_show||b.isLegendToShow(n)?(P[n]=c,L[n]=h,(!M||c>=M)&&(M=c),(!T||h>=T)&&(T=h),a=b.isLegendRight||b.isLegendInset?T:M,w.legend_equally?(Object.keys(P).forEach(function(t){P[t]=M}),Object.keys(L).forEach(function(t){L[t]=T}),(o=(d-a*t.length)/2)<D?(F=0,I=0,t.forEach(function(t){f(t)})):f(n,!0)):f(n)):P[n]=L[n]=k[n]=E[n]=0}t=t.filter(function(t){return!p(w.data_names[t])||null!==w.data_names[t]}),v=y(e=e||{},"withTransition",!0),g=y(e,"withTransitionForTransform",!0),b.isLegendInset&&(I=w.legend_inset_step?w.legend_inset_step:t.length,b.updateLegendStep(I)),b.isLegendRight?(r=function(t){return M*k[t]},s=function(t){return R[k[t]]+E[t]}):b.isLegendInset?(r=function(t){return M*k[t]+10},s=function(t){return R[k[t]]+E[t]}):(r=function(t){return R[k[t]]+E[t]},s=function(t){return T*k[t]}),o=function(t,e){return r(t,e)+4+w.legend_item_tile_width},l=function(t,e){return s(t,e)+9},a=function(t,e){return r(t,e)},u=function(t,e){return s(t,e)-5},c=function(t,e){return r(t,e)-2},h=function(t,e){return r(t,e)-2+w.legend_item_tile_width},d=function(t,e){return s(t,e)+4},(f=b.legend.selectAll("."+i.legendItem).data(t).enter().append("g").attr("class",function(t){return b.generateClass(i.legendItem,t)}).style("visibility",function(t){return b.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){w.legend_item_onclick?w.legend_item_onclick.call(b,t):b.d3.event.altKey?(b.api.hide(),b.api.show(t)):(b.api.toggle(t),b.isTargetToShow(t)?b.api.focus(t):b.api.revert())}).on("mouseover",function(t){w.legend_item_onmouseover?w.legend_item_onmouseover.call(b,t):(b.d3.select(this).classed(i.legendItemFocused,!0),!b.transiting&&b.isTargetToShow(t)&&b.api.focus(t))}).on("mouseout",function(t){w.legend_item_onmouseout?w.legend_item_onmouseout.call(b,t):(b.d3.select(this).classed(i.legendItemFocused,!1),b.api.revert())})).append("text").text(function(t){return p(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){N(this,t,e)}).style("pointer-events","none").attr("x",b.isLegendRight||b.isLegendInset?o:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:l),f.append("rect").attr("class",i.legendItemEvent).style("fill-opacity",0).attr("x",b.isLegendRight||b.isLegendInset?a:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:u),f.append("line").attr("class",i.legendItemTile).style("stroke",b.color).style("pointer-events","none").attr("x1",b.isLegendRight||b.isLegendInset?c:-200).attr("y1",b.isLegendRight||b.isLegendInset?-200:d).attr("x2",b.isLegendRight||b.isLegendInset?h:-200).attr("y2",b.isLegendRight||b.isLegendInset?-200:d).attr("stroke-width",w.legend_item_tile_height),A=b.legend.select("."+i.legendBackground+" rect"),b.isLegendInset&&M>0&&0===A.size()&&(A=b.legend.insert("g","."+i.legendItem).attr("class",i.legendBackground).append("rect")),m=b.legend.selectAll("text").data(t).text(function(t){return p(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){N(this,t,e)}),(v?m.transition():m).attr("x",o).attr("y",l),x=b.legend.selectAll("rect."+i.legendItemEvent).data(t),(v?x.transition():x).attr("width",function(t){return P[t]}).attr("height",function(t){return L[t]}).attr("x",a).attr("y",u),_=b.legend.selectAll("line."+i.legendItemTile).data(t),(v?_.transition():_).style("stroke",b.levelColor?function(t){return b.levelColor(b.cache[t].values[0].value)}:b.color).attr("x1",c).attr("y1",d).attr("x2",h).attr("y2",d),A&&(v?A.transition():A).attr("height",b.getLegendHeight()-12).attr("width",M*(I+1)+10),b.legend.selectAll("."+i.legendItem).classed(i.legendItemHidden,function(t){return!b.isTargetToShow(t)}),b.updateLegendItemWidth(M),b.updateLegendItemHeight(T),b.updateLegendStep(I),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(g,n),b.legendHasRendered=!0},S.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",i.regions)},S.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+i.regions).selectAll("."+i.region).data(n.regions),e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),e.mainRegion.attr("class",e.classRegion.bind(e)),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},S.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect").each(function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)}),i=e.regionX.bind(e),r=e.regionY.bind(e),o=e.regionWidth.bind(e),a=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",i).attr("y",r).attr("width",o).attr("height",a).style("fill-opacity",function(t){return s(t.opacity)?t.opacity:.1})]},S.regionX=function(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?i(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},S.regionY=function(t){var e=this,n=e.config,i="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?i(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},S.regionWidth=function(t){var e,n=this,i=n.config,r=n.regionX(t),o="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?o(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<r?0:e-r},S.regionHeight=function(t){var e,n=this,i=n.config,r=this.regionY(t),o="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?o(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<r?0:e-r},S.isRegionOnX=function(t){return!t.axis||"x"===t.axis},S.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},S.getX=function(t,e,n,i){var r,o=this.getScale(t,e,this.isTimeSeries()),a=n?o.domain(n):o;for(r in this.isCategorized()?(i=i||function(){return 0},o=function(t,e){var n=a(t)+i(t);return e?n:Math.ceil(n)}):o=function(t,e){var n=a(t);return e?n:Math.ceil(n)},a)o[r]=a[r];return o.orgDomain=function(){return a.domain()},this.isCategorized()&&(o.domain=function(t){return arguments.length?(a.domain(t),o):[(t=this.orgDomain())[0],t[1]+1]}),o},S.getY=function(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},S.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},S.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},S.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},S.selectPoint=function(t,e,n){var r=this,o=r.config,a=(o.axis_rotated?r.circleY:r.circleX).bind(r),s=(o.axis_rotated?r.circleX:r.circleY).bind(r),l=r.pointSelectR.bind(r);o.data_onselected.call(r.api,e,t.node()),r.main.select("."+i.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+i.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return r.generateClass(i.selectedCircle,n)}).attr("cx",a).attr("cy",s).attr("stroke",function(){return r.color(e)}).attr("r",function(t){return 1.4*r.pointSelectR(t)}).transition().duration(100).attr("r",l)},S.unselectPoint=function(t,e,n){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select("."+i.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+i.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},S.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},S.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},S.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.color(e)})},S.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},S.getToggle=function(t,e){var n;return"circle"===t.nodeName?n=this.isStepType(e)?function(){}:this.togglePoint:"path"===t.nodeName&&(n=this.togglePath),n},S.toggleShape=function(t,e,n){var r=this,o=r.d3,a=r.config,s=o.select(t),l=s.classed(i.SELECTED),u=r.getToggle(t,e).bind(r);a.data_selection_enabled&&a.data_selection_isselectable(e)&&(a.data_selection_multiple||r.main.selectAll("."+i.shapes+(a.data_selection_grouped?r.getTargetSelectorSuffix(e.id):"")).selectAll("."+i.shape).each(function(t,e){var n=o.select(this);n.classed(i.SELECTED)&&u(!1,n.classed(i.SELECTED,!1),t,e)}),s.classed(i.SELECTED,!l),u(!l,s,e,n))},S.initBar=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartBars)},S.updateTargetsForBar=function(t){var e=this,n=e.config,r=e.classChartBar.bind(e),o=e.classBars.bind(e),a=e.classFocus.bind(e);e.main.select("."+i.chartBars).selectAll("."+i.chartBar).data(t).attr("class",function(t){return r(t)+a(t)}).enter().append("g").attr("class",r).style("pointer-events","none").append("g").attr("class",o).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null})},S.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),o=e.initialOpacity.bind(e),a=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+i.bars).selectAll("."+i.bar).data(n),e.mainBar.enter().append("path").attr("class",r).style("stroke",a).style("fill",a),e.mainBar.style("opacity",o),e.mainBar.exit().transition().duration(t).remove()},S.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},S.getBarW=function(t,e){var n=this.config,i="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i},S.getBars=function(t,e){return(e?this.main.selectAll("."+i.bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+i.bar+(s(t)?"-"+t:""))},S.expandBars=function(t,e,n){n&&this.unexpandBars(),this.getBars(t,e).classed(i.EXPANDED,!0)},S.unexpandBars=function(t){this.getBars(t).classed(i.EXPANDED,!1)},S.generateDrawBar=function(t,e){var n=this.config,i=this.generateGetBarPoints(t,e);return function(t,e){var r=i(t,e),o=n.axis_rotated?1:0,a=n.axis_rotated?0:1;return"M "+r[0][o]+","+r[0][a]+" L"+r[1][o]+","+r[1][a]+" L"+r[2][o]+","+r[2][a]+" L"+r[3][o]+","+r[3][a]+" z"}},S.generateGetBarPoints=function(t,e){var n=this,i=e?n.subXAxis:n.xAxis,r=t.__max__+1,o=n.getBarW(i,r),a=n.getShapeX(o,r,t,!!e),s=n.getShapeY(!!e),l=n.getShapeOffset(n.isBarType,t,!!e),u=o*(n.config.bar_space/2),c=e?n.getSubYScale:n.getYScale;return function(t,e){var i=c.call(n,t.id)(0),r=l(t,e)||i,h=a(t),p=s(t);return n.config.axis_rotated&&(0<t.value&&p<i||t.value<0&&i<p)&&(p=i),[[h+u,r],[h+u,p-(i-r)],[h+o-u,p-(i-r)],[h+o-u,r]]}},S.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),i=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),o=Math.min(i.x,r.x),a=Math.min(i.y,r.y),s=o+n.width+2,l=a+n.height+2,u=a-2;return o-2<e[0]&&e[0]<s&&u<e[1]&&e[1]<l},S.getShapeIndices=function(t){var e,n,i=this.config,r={},o=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(e=0;e<i.data_groups.length;e++)if(!(i.data_groups[e].indexOf(t.id)<0))for(n=0;n<i.data_groups[e].length;n++)if(i.data_groups[e][n]in r){r[t.id]=r[i.data_groups[e][n]];break}h(r[t.id])&&(r[t.id]=o++)}),r.__max__=o-1,r},S.getShapeX=function(t,e,n,i){var r=i?this.subX:this.x;return function(i){var o=i.id in n?n[i.id]:0;return i.x||0===i.x?r(i.x)-t*(e/2-o):0}},S.getShapeY=function(t){var e=this;return function(n){return(t?e.getSubYScale(n.id):e.getYScale(n.id))(n.value)}},S.getShapeOffset=function(t,e,n){var i=this,r=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(t,i))),o=r.map(function(t){return t.id});return function(t,a){var s=n?i.getSubYScale(t.id):i.getYScale(t.id),l=s(0),u=l;return r.forEach(function(n){var r=i.isStepType(t)?i.convertValuesToStep(n.values):n.values;n.id!==t.id&&e[n.id]===e[t.id]&&o.indexOf(n.id)<o.indexOf(t.id)&&(void 0!==r[a]&&+r[a].x==+t.x||(a=-1,r.forEach(function(e,n){e.x===t.x&&(a=n)})),a in r&&r[a].value*t.value>=0&&(u+=s(r[a].value)-l))}),u}},S.isWithinShape=function(t,e){var n,r=this,o=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=!o.classed(i.bar)||r.isWithinBar(t)):n=!1,n},S.getInterpolate=function(t){var e=this,n=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"},S.initLine=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartLines)},S.updateTargetsForLine=function(t){var e,n=this,r=n.config,o=n.classChartLine.bind(n),a=n.classLines.bind(n),s=n.classAreas.bind(n),l=n.classCircles.bind(n),u=n.classFocus.bind(n);(e=n.main.select("."+i.chartLines).selectAll("."+i.chartLine).data(t).attr("class",function(t){return o(t)+u(t)}).enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none")).append("g").attr("class",a),e.append("g").attr("class",s),e.append("g").attr("class",function(t){return n.generateClass(i.selectedCircles,t.id)}),e.append("g").attr("class",l).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){n.main.selectAll("."+i.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+i.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},S.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+i.lines).selectAll("."+i.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},S.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},S.generateDrawLine=function(t,e){var n=this,i=n.config,r=n.d3.svg.line(),o=n.generateGetLinePoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,e){return i.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x(l).y(s):r.x(s).y(l),i.line_connectNull||(r=r.defined(function(t){return null!=t.value})),function(t){var o,s=i.line_connectNull?n.filterRemoveNull(t.values):t.values,l=e?n.x:n.subX,u=a.call(n,t.id),c=0,h=0;return n.isLineType(t)?i.data_regions[t.id]?o=n.lineWithRegions(s,l,u,i.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),o=r.interpolate(n.getInterpolate(t))(s)):(s[0]&&(c=l(s[0].x),h=u(s[0].value)),o=i.axis_rotated?"M "+h+" "+c:"M "+c+" "+h),o||"M 0 0"}},S.generateGetLinePoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,o=n.getShapeX(0,r,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var r=l.call(n,t.id)(0),u=s(t,e)||r,c=o(t),h=a(t);return i.axis_rotated&&(0<t.value&&h<r||t.value<0&&r<h)&&(h=r),[[c,h-(r-u)],[c,h-(r-u)],[c,h-(r-u)],[c,h-(r-u)]]}},S.lineWithRegions=function(t,e,n,i){var r,o,a,s,l,u,c,d,f,v,g,m=this,y=m.config,x="M",_=m.isCategorized()?.5:0,A=[];function b(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}if(p(i))for(r=0;r<i.length;r++)A[r]={},h(i[r].start)?A[r].start=t[0].x:A[r].start=m.isTimeSeries()?m.parseDate(i[r].start):i[r].start,h(i[r].end)?A[r].end=t[t.length-1].x:A[r].end=m.isTimeSeries()?m.parseDate(i[r].end):i[r].end;function w(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(v=y.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},g=y.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},a=m.isTimeSeries()?function(t,i,r,o){var a=t.x.getTime(),s=i.x-t.x,u=new Date(a+s*r),c=new Date(a+s*(r+o));return w(y.axis_rotated?[[n(l(r)),e(u)],[n(l(r+o)),e(c)]]:[[e(u),n(l(r))],[e(c),n(l(r+o))]])}:function(t,i,r,o){return w(y.axis_rotated?[[n(l(r),!0),e(s(r))],[n(l(r+o),!0),e(s(r+o))]]:[[e(s(r),!0),n(l(r))],[e(s(r+o),!0),n(l(r+o))]])},r=0;r<t.length;r++){if(h(A)||!b(t[r].x,A))x+=" "+v(t[r])+" "+g(t[r]);else for(s=m.getScale(t[r-1].x+_,t[r].x+_,m.isTimeSeries()),l=m.getScale(t[r-1].value,t[r].value),u=e(t[r].x)-e(t[r-1].x),c=n(t[r].value)-n(t[r-1].value),f=2*(d=2/Math.sqrt(Math.pow(u,2)+Math.pow(c,2))),o=d;o<=1;o+=f)x+=a(t[r-1],t[r],o,d);t[r].x}return x},S.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+i.areas).selectAll("."+i.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},S.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},S.generateDrawArea=function(t,e){var n=this,i=n.config,r=n.d3.svg.area(),o=n.generateGetAreaPoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,e){return i.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(n.getAreaBaseValue(t.id))},u=function(t,e){return i.data_groups.length>0?o(t,e)[1][1]:a.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x0(l).x1(u).y(s):r.x(s).y0(i.area_above?0:l).y1(u),i.line_connectNull||(r=r.defined(function(t){return null!==t.value})),function(t){var e,o=i.line_connectNull?n.filterRemoveNull(t.values):t.values,a=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(o=n.convertValuesToStep(o)),e=r.interpolate(n.getInterpolate(t))(o)):(o[0]&&(a=n.x(o[0].x),s=n.getYScale(t.id)(o[0].value)),e=i.axis_rotated?"M "+s+" "+a:"M "+a+" "+s),e||"M 0 0"}},S.getAreaBaseValue=function(){return 0},S.generateGetAreaPoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,o=n.getShapeX(0,r,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var r=l.call(n,t.id)(0),u=s(t,e)||r,c=o(t),h=a(t);return i.axis_rotated&&(0<t.value&&h<r||t.value<0&&r<h)&&(h=r),[[c,u],[c,h-(r-u)],[c,h-(r-u)],[c,u]]}},S.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+i.circles).selectAll("."+i.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},S.redrawCircle=function(t,e,n){var r=this.main.selectAll("."+i.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?r.transition(Math.random().toString()):r).attr("cx",t).attr("cy",e)]},S.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},S.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},S.getCircles=function(t,e){return(e?this.main.selectAll("."+i.circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+i.circle+(s(t)?"-"+t:""))},S.expandCircles=function(t,e,n){var r=this.pointExpandedR.bind(this);n&&this.unexpandCircles(),this.getCircles(t,e).classed(i.EXPANDED,!0).attr("r",r)},S.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(i.EXPANDED)}).classed(i.EXPANDED,!1).attr("r",n)},S.pointR=function(t){var e=this.config;return this.isStepType(t)?0:l(e.point_r)?e.point_r(t):e.point_r},S.pointExpandedR=function(t){var e=this.config;return e.point_focus_expand_enabled?l(e.point_focus_expand_r)?e.point_focus_expand_r(t):e.point_focus_expand_r?e.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},S.pointSelectR=function(t){var e=this.config;return l(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},S.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),r=n.select(t),o=+r.attr("cx"),a=+r.attr("cy");return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(a-i[1],2))<e},S.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},S.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},S.getCurrentHeight=function(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return e>0?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},S.getCurrentPaddingTop=function(){var t=this.config,e=s(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},S.getCurrentPaddingBottom=function(){var t=this.config;return s(t.padding_bottom)?t.padding_bottom:0},S.getCurrentPaddingLeft=function(t){var e=this.config;return s(e.padding_left)?e.padding_left:e.axis_rotated?!e.axis_x_show||e.axis_x_inner?1:Math.max(d(this.getAxisWidthByAxisId("x",t)),40):!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:d(this.getAxisWidthByAxisId("y",t))},S.getCurrentPaddingRight=function(){var t=this,e=t.config,n=t.isLegendRight?t.getLegendWidth()+20:0;return s(e.padding_right)?e.padding_right+1:e.axis_rotated?10+n:!e.axis_y2_show||e.axis_y2_inner?2+n+(t.axis.getY2AxisLabelPosition().isOuter?20:0):d(t.getAxisWidthByAxisId("y2"))+n},S.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(i){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},S.getParentWidth=function(){return this.getParentRectValue("width")},S.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},S.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,o=n.axis_rotated?i.axisX:i.axisY,a=e.main.select("."+o).node(),s=a&&r?a.getBoundingClientRect():{right:0},l=e.selectChart.node().getBoundingClientRect(),u=e.hasArcType(),c=s.right-l.left-(u?0:e.getCurrentPaddingLeft(t));return c>0?c:0},S.getAxisWidthByAxisId=function(t,e){var n=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},S.getHorizontalAxisHeight=function(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_y_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},S.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},S.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+i.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},S.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),r=e.subchart_show?"visible":"hidden";n.style("visibility",r),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",i.chart),n.select("."+i.chart).append("g").attr("class",i.chartBars),n.select("."+i.chart).append("g").attr("class",i.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",i.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",i.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?r:"hidden")},S.updateTargetsForSubchart=function(t){var e,n=this,r=n.context,o=n.config,a=n.classChartBar.bind(n),s=n.classBars.bind(n),l=n.classChartLine.bind(n),u=n.classLines.bind(n),c=n.classAreas.bind(n);o.subchart_show&&(r.select("."+i.chartBars).selectAll("."+i.chartBar).data(t).attr("class",a).enter().append("g").style("opacity",0).attr("class",a).append("g").attr("class",s),(e=r.select("."+i.chartLines).selectAll("."+i.chartLine).data(t).attr("class",l).enter().append("g").style("opacity",0).attr("class",l)).append("g").attr("class",u),e.append("g").attr("class",c),r.selectAll("."+i.brush+" rect").attr(o.axis_rotated?"width":"height",o.axis_rotated?n.width2:n.height2))},S.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+i.bars).selectAll("."+i.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},S.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},S.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+i.lines).selectAll("."+i.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},S.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},S.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+i.areas).selectAll("."+i.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},S.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},S.redrawSubchart=function(t,e,n,i,r,o,a){var s,l,u,c=this,h=c.d3,p=c.config;c.context.style("visibility",p.subchart_show?"visible":"hidden"),p.subchart_show&&(h.event&&"zoom"===h.event.type&&c.brush.extent(c.x.orgDomain()).update(),t&&(c.brush.empty()||c.brush.extent(c.x.orgDomain()).update(),s=c.generateDrawArea(r,!0),l=c.generateDrawBar(o,!0),u=c.generateDrawLine(a,!0),c.updateBarForSubchart(n),c.updateLineForSubchart(n),c.updateAreaForSubchart(n),c.redrawBarForSubchart(l,n,n),c.redrawLineForSubchart(u,n,n),c.redrawAreaForSubchart(s,n,n)))},S.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},S.transformContext=function(t,e){var n;e&&e.axisSubX?n=e.axisSubX:(n=this.context.select("."+i.axisX),t&&(n=n.transition())),this.context.attr("transform",this.getTranslate("context")),n.attr("transform",this.getTranslate("subx"))},S.getDefaultExtent=function(){var t=this,e=t.config,n=l(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},S.initText=function(){this.main.select("."+i.chart).append("g").attr("class",i.chartTexts),this.mainText=this.d3.selectAll([])},S.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),r=e.classTexts.bind(e),o=e.classFocus.bind(e);e.main.select("."+i.chartTexts).selectAll("."+i.chartText).data(t).attr("class",function(t){return n(t)+o(t)}).enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none").append("g").attr("class",r)},S.updateText=function(t){var e=this,n=e.config,r=e.barOrLineData.bind(e),o=e.classText.bind(e);e.mainText=e.main.selectAll("."+i.texts).selectAll("."+i.text).data(r),e.mainText.enter().append("text").attr("class",o).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,n,i){return e.dataLabelFormat(t.id)(t.value,t.id,n,i)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},S.redrawText=function(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},S.getTextRect=function(t,e,n){var i,r=this.d3.select("body").append("div").classed("c3",!0),o=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",a).text(t).each(function(){i=this.getBoundingClientRect()}),r.remove(),i},S.generateXYForText=function(t,e,n,i){var r=this,o=r.generateGetAreaPoints(t,!1),a=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(n,!1),l=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)?o:r.isBarType(t)?a:s;return l.call(r,n(t,e),t,this)}},S.getXForText=function(t,e,n){var i,r,o=this,a=n.getBoundingClientRect();return o.config.axis_rotated?(r=o.isBarType(e)?4:6,i=t[2][1]+r*(e.value<0?-1:1)):i=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>o.width?i=o.width-a.width:i<0&&(i=4)),i},S.getYForText=function(t,e,n){var i,r=this,o=n.getBoundingClientRect();return r.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*o.height)/2:(i=t[2][1],e.value<0||0===e.value&&!r.hasPositiveValue?(i+=o.height,r.isBarType(e)&&r.isSafari()?i-=3:!r.isBarType(e)&&r.isChrome()&&(i+=3)):i+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(i<o.height?i=o.height:i>this.height&&(i=this.height-4)),i},S.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},S.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},S.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return n.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:n.indexOf("center")>=0?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:e.title_padding.left},S.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},S.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},S.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",i.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&c(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},S.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var n=t.orderTargets(t.data.targets).map(function(t){return t.id});return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}var i=e.tooltip_order;void 0===i&&(i=e.data_order);var r=function(t){return t?t.value:null};if(c(i)&&"asc"===i.toLowerCase())return function(t,e){return r(t)-r(e)};if(c(i)&&"desc"===i.toLowerCase())return function(t,e){return r(e)-r(t)};if(l(i)){var o=i;return void 0===e.tooltip_order&&(o=function(t,e){return i(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),o}return u(i)?function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}:void 0},S.getTooltipContent=function(t,e,n,i){var r,o,a,s,l,u,c=this,h=c.config,p=h.tooltip_format_title||e,d=h.tooltip_format_name||function(t){return t},f=h.tooltip_format_value||n,v=this.getTooltipSortFunction();for(v&&t.sort(v),o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)&&(r||(a=_(p?p(t[o].x):t[o].x),r="<table class='"+c.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),void 0!==(s=_(f(t[o].value,t[o].ratio,t[o].id,t[o].index,t))))){if(null===t[o].name)continue;l=_(d(t[o].name,t[o].ratio,t[o].id,t[o].index)),u=c.levelColor?c.levelColor(t[o].value):i(t[o].id),r+="<tr class='"+c.CLASS.tooltipName+"-"+c.getTargetSelectorSuffix(t[o].id)+"'>",r+="<td class='name'><span style='background-color:"+u+"'></span>"+l+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"}return r+"</table>"},S.tooltipPosition=function(t,e,n,i){var r,o,a,s,l,u=this,c=u.config,h=u.d3,p=u.hasArcType(),d=h.mouse(i);return p?(o=(u.width-(u.isLegendRight?u.getLegendWidth():0))/2+d[0],s=(u.hasType("gauge")?u.height:u.height/2)+d[1]+20):(r=u.getSvgLeft(!0),c.axis_rotated?(a=(o=r+d[0]+100)+e,l=u.currentWidth-u.getCurrentPaddingRight(),s=u.x(t[0].x)+20):(a=(o=r+u.getCurrentPaddingLeft(!0)+u.x(t[0].x)+20)+e,l=r+u.currentWidth-u.getCurrentPaddingRight(),s=d[1]+15),a>l&&(o-=a-l+20),s+n>u.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:o}},S.showTooltip=function(t,e){var n,i,r,o=this,a=o.config,l=o.hasArcType(),u=t.filter(function(t){return t&&s(t.value)}),c=a.tooltip_position||S.tooltipPosition;0!==u.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(l),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),i=o.tooltip.property("offsetHeight"),r=c.call(this,u,n,i,e),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},S.hideTooltip=function(){this.tooltip.style("display","none")},S.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},S.hasType=function(t,e){var n=this.config.data_types,i=!1;return(e=e||this.data.targets)&&e.length?e.forEach(function(e){var r=n[e.id];(r&&r.indexOf(t)>=0||!r&&"line"===t)&&(i=!0)}):Object.keys(n).length?Object.keys(n).forEach(function(e){n[e]===t&&(i=!0)}):i=this.config.data_type===t,i},S.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},S.isLineType=function(t){var e=this.config,n=c(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},S.isStepType=function(t){var e=c(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},S.isSplineType=function(t){var e=c(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},S.isAreaType=function(t){var e=c(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},S.isBarType=function(t){var e=c(t)?t:t.id;return"bar"===this.config.data_types[e]},S.isScatterType=function(t){var e=c(t)?t:t.id;return"scatter"===this.config.data_types[e]},S.isPieType=function(t){var e=c(t)?t:t.id;return"pie"===this.config.data_types[e]},S.isGaugeType=function(t){var e=c(t)?t:t.id;return"gauge"===this.config.data_types[e]},S.isDonutType=function(t){var e=c(t)?t:t.id;return"donut"===this.config.data_types[e]},S.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},S.lineData=function(t){return this.isLineType(t)?[t]:[]},S.arcData=function(t){return this.isArcType(t.data)?[t]:[]},S.barData=function(t){return this.isBarType(t)?t.values:[]},S.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},S.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},S.isInterpolationType=function(t){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)>=0},S.isSafari=function(){var t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},S.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},S.initZoom=function(){var t,e=this,n=e.d3,i=e.config;e.zoom=n.behavior.zoom().on("zoomstart",function(){t=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,i.zoom_onzoomstart.call(e.api,n.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var r=n.event.sourceEvent;r&&t.clientX===r.clientX&&t.clientY===r.clientY||(e.redrawEventRect(),e.updateZoom(),i.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return i.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=i.zoom_extent?i.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=v(e.x.orgDomain())/v(e.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},S.getZoomDomain=function(){var t=this.config,e=this.d3;return[e.min([this.orgXDomain[0],t.zoom_x_min]),e.max([this.orgXDomain[1],t.zoom_x_max])]},S.updateZoom=function(){var t=this.config.zoom_enabled?this.zoom:function(){};this.main.select("."+i.zoomRect).call(t).on("dblclick.zoom",null),this.main.selectAll("."+i.eventRect).call(t).on("dblclick.zoom",null)},S.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,r=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,r.orgDomain())}},M}()},function(t,e,n){n(11);t.exports=function(t){var e="";return e+='<h1>TSA Claims (2012-2014)</h1><div id="map" style="width:90vw; height:60vh;"></div><p>This app shows TSA claims from 2012 to 2014. Each circle marks an airport, and\nthe size of the circle represents the total volume of claims at that\nlocation. Clicking on a circle opens a chart of monthly close amounts\nseparated by claim outcome. The map is interactive: It supports pan and zoom,\nas well as rotation, if you have a mobile device or a touchscreen.</p><p>This app was created with <a href="http://opengeoscience.github.io/geojs/" target="_blank">GeoJS</a>,\n<a href="https://c3js.org" target="_blank">C3</a> and data from\nthe <a href="https://www.dhs.gov/tsa-claims-data" target="_blank">Department of Homeland Security</a>.</p>'}},function(t,e,n){var i;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(r,o,a,s){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h="function",p=Math.round,d=Math.abs,f=Date.now;function v(t,e,n){return setTimeout(b(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function y(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var x=y(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===s)&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),_=y(function(t,e){return x(t,e,!0)},"merge","Use `assign`.");function A(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&l(i,n)}function b(t,e){return function(){return t.apply(e,arguments)}}function w(t,e){return typeof t==h?t.apply(e&&e[0]||s,e):t}function O(t,e){return t===s?e:t}function S(t,e,n){m(C(e),function(e){t.addEventListener(e,n,!1)})}function M(t,e,n){m(C(e),function(e){t.removeEventListener(e,n,!1)})}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function D(t,e){return t.indexOf(e)>-1}function C(t){return t.trim().split(/\s+/g)}function F(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function E(t){return Array.prototype.slice.call(t,0)}function P(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];F(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function L(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:e)in t)return i;o++}return s}var R=1;function k(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var I="ontouchstart"in r,N=L(r,"PointerEvent")!==s,G=I&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=25,V=1,z=2,B=4,U=8,H=1,q=2,X=4,W=8,Y=16,K=q|X,Q=W|Y,Z=K|Q,J=["x","y"],$=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){w(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&V&&i-r==0,a=e&(B|U)&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=nt(e));r>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,l=a?a.center:o.center,u=e.center=it(i);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=st(l,u),e.distance=at(l,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==V&&o.eventType!==B||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c=rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=d(c.x)>d(c.y)?c.x:c.y,e.scale=a?function(t,e){return at(e[0],e[1],$)/at(t[0],t[1],$)}(a.pointers,i):1,e.rotation=a?function(t,e){return st(e[1],e[0],$)+st(t[1],t[0],$)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=U&&(l>j||a.velocity===s)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,h=rt(l,u,c);i=h.x,r=h.y,n=d(h.x)>d(h.y)?h.x:h.y,o=ot(u,c),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var h=t.element;T(e.srcEvent.target,h)&&(h=e.srcEvent.target);e.target=h}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:p(t.pointers[n].clientX),clientY:p(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:it(e),deltaX:t.deltaX,deltaY:t.deltaY}}function it(t){var e=t.length;if(1===e)return{x:p(t[0].clientX),y:p(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:p(n/e),y:p(i/e)}}function rt(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?H:d(t)>=d(e)?t<0?q:X:e<0?W:Y}function at(t,e,n){n||(n=J);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function st(t,e,n){n||(n=J);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(k(this.element),this.evWin,this.domHandler)}};var lt={mousedown:V,mousemove:z,mouseup:B},ut="mousedown",ct="mousemove mouseup";function ht(){this.evEl=ut,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}A(ht,tt,{handler:function(t){var e=lt[t.type];e&V&&0===t.button&&(this.pressed=!0),e&z&&1!==t.which&&(e=B),this.pressed&&(e&B&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var pt={pointerdown:V,pointermove:z,pointerup:B,pointercancel:U,pointerout:U},dt={2:"touch",3:"pen",4:"mouse",5:"kinect"},ft="pointerdown",vt="pointermove pointerup pointercancel";function gt(){this.evEl=ft,this.evWin=vt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ft="MSPointerDown",vt="MSPointerMove MSPointerUp MSPointerCancel"),A(gt,tt,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=pt[i],o=dt[t.pointerType]||t.pointerType,a="touch"==o,s=F(e,t.pointerId,"pointerId");r&V&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):r&(B|U)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var mt={touchstart:V,touchmove:z,touchend:B,touchcancel:U},yt="touchstart",xt="touchstart touchmove touchend touchcancel";function _t(){this.evTarget=yt,this.evWin=xt,this.started=!1,tt.apply(this,arguments)}A(_t,tt,{handler:function(t){var e=mt[t.type];if(e===V&&(this.started=!0),this.started){var n=function(t,e){var n=E(t.touches),i=E(t.changedTouches);e&(B|U)&&(n=P(n.concat(i),"identifier",!0));return[n,i]}.call(this,t,e);e&(B|U)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var At={touchstart:V,touchmove:z,touchend:B,touchcancel:U},bt="touchstart touchmove touchend touchcancel";function wt(){this.evTarget=bt,this.targetIds={},tt.apply(this,arguments)}A(wt,tt,{handler:function(t){var e=At[t.type],n=function(t,e){var n=E(t.touches),i=this.targetIds;if(e&(V|z)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=E(t.changedTouches),s=[],l=this.target;if(o=n.filter(function(t){return T(t.target,l)}),e===V)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;r=0;for(;r<a.length;)i[a[r].identifier]&&s.push(a[r]),e&(B|U)&&delete i[a[r].identifier],r++;if(!s.length)return;return[P(o.concat(s),"identifier",!0),s]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Ot=2500,St=25;function Mt(){tt.apply(this,arguments);var t=b(this.handler,this);this.touch=new wt(this.manager,t),this.mouse=new ht(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Tt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},Ot)}}A(Mt,tt,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&V?(this.primaryTouch=e.changedPointers[0].identifier,Tt.call(this,e)):t&(B|U)&&Tt.call(this,e)}).call(this,e,n);else if(r&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=St&&a<=St)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Dt=L(c.style,"touchAction"),Ct=Dt!==s,Ft="auto",Et="manipulation",Pt="none",Lt="pan-x",Rt="pan-y",kt=function(){if(!Ct)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||r.CSS.supports("touch-action",n)}),t}();function It(t,e){this.manager=t,this.set(e)}It.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ct&&this.manager.element.style&&kt[t]&&(this.manager.element.style[Dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,function(e){w(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(D(t,Pt))return Pt;var e=D(t,Lt),n=D(t,Rt);if(e&&n)return Pt;if(e||n)return e?Lt:Rt;if(D(t,Et))return Et;return Ft}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=D(i,Pt)&&!kt[Pt],o=D(i,Rt)&&!kt[Rt],a=D(i,Lt)&&!kt[Lt];if(r){var s=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(s&&l&&u)return}if(!a||!o)return r||o&&n&K||a&&n&Q?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Nt=1,Gt=2,jt=4,Vt=8,zt=Vt,Bt=16;function Ut(t){this.options=l({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=O(this.options.enable,!0),this.state=Nt,this.simultaneous={},this.requireFail=[]}function Ht(t){return t&Bt?"cancel":t&Vt?"end":t&jt?"move":t&Gt?"start":""}function qt(t){return t==Y?"down":t==W?"up":t==q?"left":t==X?"right":""}function Xt(t,e){var n=e.manager;return n?n.get(t):t}function Wt(){Ut.apply(this,arguments)}function Yt(){Wt.apply(this,arguments),this.pX=null,this.pY=null}function Kt(){Wt.apply(this,arguments)}function Qt(){Ut.apply(this,arguments),this._timer=null,this._input=null}function Zt(){Wt.apply(this,arguments)}function Jt(){Wt.apply(this,arguments)}function $t(){Ut.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=O(e.recognizers,te.defaults.preset),new ee(t,e)}Ut.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Xt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)?this:(t=Xt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===F(e,t=Xt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=Xt(t,this);var e=F(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<Vt&&i(e.options.event+Ht(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=Vt&&i(e.options.event+Ht(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Nt)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!w(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(zt|Bt|32)&&(this.state=Nt),this.state=this.process(e),this.state&(Gt|jt|Vt|Bt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},A(Wt,Ut,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(Gt|jt),r=this.attrTest(t);return i&&(n&U||!r)?e|Bt:i||r?n&B?e|Vt:e&Gt?e|jt:Gt:32}}),A(Yt,Wt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push(Rt),t&Q&&e.push(Lt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(e.direction&K?(r=0===o?H:o<0?q:X,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?H:a<0?W:Y,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return Wt.prototype.attrTest.call(this,t)&&(this.state&Gt||!(this.state&Gt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=qt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),A(Kt,Wt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Pt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Gt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),A(Qt,Ut,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ft]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(B|U)&&!r)this.reset();else if(t.eventType&V)this.reset(),this._timer=v(function(){this.state=zt,this.tryEmit()},e.time,this);else if(t.eventType&B)return zt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===zt&&(t&&t.eventType&B?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),A(Zt,Wt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Pt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Gt)}}),A(Jt,Wt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|Q,pointers:1},getTouchAction:function(){return Yt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(K|Q)?e=t.overallVelocity:n&K?e=t.overallVelocityX:n&Q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&t.eventType&B},emit:function(t){var e=qt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),A($t,Ut,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Et]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&V&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=B)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=v(function(){this.state=zt,this.tryEmit()},e.interval,this),Gt):zt}return 32},failTimeout:function(){return this._timer=v(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==zt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Zt,{enable:!1}],[Kt,{enable:!1},["rotate"]],[Jt,{direction:K}],[Yt,{direction:K},["swipe"]],[$t],[$t,{event:"doubletap",taps:2},["tap"]],[Qt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){this.options=l({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){var e=t.options.inputClass;return new(e||(N?gt:G?wt:I?Mt:ht))(t,et)}(this),this.touchAction=new It(this,this.options.touchAction),ne(this,!0),m(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ne(t,e){var n,i=t.element;i.style&&(m(t.options.cssProps,function(r,o){n=L(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&zt)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(Gt|jt|Vt)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Ut)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=F(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return m(C(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return m(C(t),function(t){e?n[t]&&n[t].splice(F(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ne(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(te,{INPUT_START:V,INPUT_MOVE:z,INPUT_END:B,INPUT_CANCEL:U,STATE_POSSIBLE:Nt,STATE_BEGAN:Gt,STATE_CHANGED:jt,STATE_ENDED:Vt,STATE_RECOGNIZED:zt,STATE_CANCELLED:Bt,STATE_FAILED:32,DIRECTION_NONE:H,DIRECTION_LEFT:q,DIRECTION_RIGHT:X,DIRECTION_UP:W,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Q,DIRECTION_ALL:Z,Manager:ee,Input:tt,TouchAction:It,TouchInput:wt,MouseInput:ht,PointerEventInput:gt,TouchMouseInput:Mt,SingleTouchInput:_t,Recognizer:Ut,AttrRecognizer:Wt,Tap:$t,Pan:Yt,Swipe:Jt,Pinch:Kt,Rotate:Zt,Press:Qt,on:S,off:M,each:m,merge:_,extend:x,assign:l,inherit:A,bindFn:b,prefixed:L}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=te,(i=function(){return te}.call(e,n,e,t))===s||(t.exports=i)}(window,document)},function(t,e,n){var i=n(7);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(9)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,"/*-- Chart --*/\n.c3 svg {\n  font: 10px sans-serif;\n  -webkit-tap-highlight-color: transparent; }\n\n.c3 path, .c3 line {\n  fill: none;\n  stroke: #000; }\n\n.c3 text {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none; }\n\n.c3-legend-item-tile,\n.c3-xgrid-focus,\n.c3-ygrid,\n.c3-event-rect,\n.c3-bars path {\n  shape-rendering: crispEdges; }\n\n.c3-chart-arc path {\n  stroke: #fff; }\n\n.c3-chart-arc rect {\n  stroke: white;\n  stroke-width: 1; }\n\n.c3-chart-arc text {\n  fill: #fff;\n  font-size: 13px; }\n\n/*-- Axis --*/\n/*-- Grid --*/\n.c3-grid line {\n  stroke: #aaa; }\n\n.c3-grid text {\n  fill: #aaa; }\n\n.c3-xgrid, .c3-ygrid {\n  stroke-dasharray: 3 3; }\n\n/*-- Text on Chart --*/\n.c3-text.c3-empty {\n  fill: #808080;\n  font-size: 2em; }\n\n/*-- Line --*/\n.c3-line {\n  stroke-width: 1px; }\n\n/*-- Point --*/\n.c3-circle._expanded_ {\n  stroke-width: 1px;\n  stroke: white; }\n\n.c3-selected-circle {\n  fill: white;\n  stroke-width: 2px; }\n\n/*-- Bar --*/\n.c3-bar {\n  stroke-width: 0; }\n\n.c3-bar._expanded_ {\n  fill-opacity: 1;\n  fill-opacity: 0.75; }\n\n/*-- Focus --*/\n.c3-target.c3-focused {\n  opacity: 1; }\n\n.c3-target.c3-focused path.c3-line, .c3-target.c3-focused path.c3-step {\n  stroke-width: 2px; }\n\n.c3-target.c3-defocused {\n  opacity: 0.3 !important; }\n\n/*-- Region --*/\n.c3-region {\n  fill: steelblue;\n  fill-opacity: .1; }\n\n/*-- Brush --*/\n.c3-brush .extent {\n  fill-opacity: .1; }\n\n/*-- Select - Drag --*/\n/*-- Legend --*/\n.c3-legend-item {\n  font-size: 12px; }\n\n.c3-legend-item-hidden {\n  opacity: 0.15; }\n\n.c3-legend-background {\n  opacity: 0.75;\n  fill: white;\n  stroke: lightgray;\n  stroke-width: 1; }\n\n/*-- Title --*/\n.c3-title {\n  font: 14px sans-serif; }\n\n/*-- Tooltip --*/\n.c3-tooltip-container {\n  z-index: 10; }\n\n.c3-tooltip {\n  border-collapse: collapse;\n  border-spacing: 0;\n  background-color: #fff;\n  empty-cells: show;\n  -webkit-box-shadow: 7px 7px 12px -9px #777777;\n  -moz-box-shadow: 7px 7px 12px -9px #777777;\n  box-shadow: 7px 7px 12px -9px #777777;\n  opacity: 0.9; }\n\n.c3-tooltip tr {\n  border: 1px solid #CCC; }\n\n.c3-tooltip th {\n  background-color: #aaa;\n  font-size: 14px;\n  padding: 2px 5px;\n  text-align: left;\n  color: #FFF; }\n\n.c3-tooltip td {\n  font-size: 13px;\n  padding: 3px 6px;\n  background-color: #fff;\n  border-left: 1px dotted #999; }\n\n.c3-tooltip td > span {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  margin-right: 6px; }\n\n.c3-tooltip td.value {\n  text-align: right; }\n\n/*-- Area --*/\n.c3-area {\n  stroke-width: 0;\n  opacity: 0.2; }\n\n/*-- Arc --*/\n.c3-chart-arcs-title {\n  dominant-baseline: middle;\n  font-size: 1.3em; }\n\n.c3-chart-arcs .c3-chart-arcs-background {\n  fill: #e0e0e0;\n  stroke: #FFF; }\n\n.c3-chart-arcs .c3-chart-arcs-gauge-unit {\n  fill: #000;\n  font-size: 16px; }\n\n.c3-chart-arcs .c3-chart-arcs-gauge-max {\n  fill: #777; }\n\n.c3-chart-arcs .c3-chart-arcs-gauge-min {\n  fill: #777; }\n\n.c3-chart-arc .c3-gauge-value {\n  fill: #000;\n  /*  font-size: 28px !important;*/ }\n\n.c3-chart-arc.c3-target g path {\n  opacity: 1; }\n\n.c3-chart-arc.c3-target.c3-focused g path {\n  opacity: 1; }\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),o=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),a=null,s=0,l=[],u=n(10);function c(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(g(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(g(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(t,e){var n=o(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=o(t.insertAt.before,n);n.insertBefore(e,r)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function f(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return v(e,t.attrs),p(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var l=s++;n=a||(a=f(e)),i=y.bind(null,n,l,!1),r=y.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),p(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=u(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){d(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){d(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return c(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&c(h(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function y(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(t,e){return Array.isArray(t)?function(t,e){for(var n,i="",o="",a=Array.isArray(e),s=0;s<t.length;s++)(n=r(t[s]))&&(a&&e[s]&&(n=l(n)),i=i+o+n,o=" ");return i}(t,e):t&&"object"==typeof t?function(t){var e="",n="";for(var r in t)r&&t[r]&&i.call(t,r)&&(e=e+n+r,n=" ");return e}(t):t||""}function o(t){if(!t)return"";if("object"==typeof t){var e="";for(var n in t)i.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}function a(t,e,n,i){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(i?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=l(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.merge=function t(e,n){if(1===arguments.length){for(var i=e[0],r=1;r<e.length;r++)i=t(i,e[r]);return i}for(var a in n)if("class"===a){var s=e[a]||[];e[a]=(Array.isArray(s)?s:[s]).concat(n[a]||[])}else if("style"===a){var s=o(e[a]);s=s&&";"!==s[s.length-1]?s+";":s;var l=o(n[a]);l=l&&";"!==l[l.length-1]?l+";":l,e[a]=s+l}else e[a]=n[a];return e},e.classes=r,e.style=o,e.attr=a,e.attrs=function(t,e){var n="";for(var s in t)if(i.call(t,s)){var l=t[s];if("class"===s){l=r(l),n=a(s,l,!1,e)+n;continue}"style"===s&&(l=o(l)),n+=a(s,l,!1,e)}return n};var s=/["&<>]/;function l(t){var e=""+t,n=s.exec(e);if(!n)return t;var i,r,o,a="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}r!==i&&(a+=e.substring(r,i)),r=i+1,a+=o}return r!==i?a+e.substring(r,i):a}e.escape=l,e.rethrow=function t(e,i,r,o){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&i||o))throw e.message+=" on line "+r,e;try{o=o||n(12).readFileSync(i,"utf8")}catch(n){t(e,null,r)}var a=3,s=o.split("\n"),l=Math.max(r-a,0),u=Math.min(s.length,r+a);var a=s.slice(l,u).map(function(t,e){var n=e+l+1;return(n==r?"  > ":"    ")+n+"| "+t}).join("\n");e.path=i;e.message=(i||"Pug")+":"+r+"\n"+a+"\n\n"+e.message;throw e}},function(t,e){},function(t,e,n){"use strict";n.r(e);var i="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.hasOwnProperty(e)?{space:r[e],local:t}:t};var a=function(t){var e=o(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i&&e.documentElement.namespaceURI===i?e.createElement(t):e.createElementNS(n,t)}})(e)};function s(){}var l=function(t){return null==t?s:function(){return this.querySelector(t)}};function u(){return[]}var c=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var h=document.documentElement;if(!h.matches){var p=h.webkitMatchesSelector||h.msMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector;c=function(t){return function(){return p.call(this,t)}}}}var d=c,f=function(t){return new Array(t.length)};function v(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}v.prototype={constructor:v,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var g="$";function m(t,e,n,i,r,o){for(var a,s=0,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new v(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function y(t,e,n,i,r,o,a){var s,l,u,c={},h=e.length,p=o.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=u=g+a.call(l,l.__data__,s,e),u in c?r[s]=l:c[u]=l);for(s=0;s<p;++s)(l=c[u=g+a.call(t,o[s],s,o)])?(i[s]=l,l.__data__=o[s],c[u]=null):n[s]=new v(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&c[d[s]]===l&&(r[s]=l)}function x(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var _=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function A(t){return t.trim().split(/^|\s+/)}function b(t){return t.classList||new w(t)}function w(t){this._node=t,this._names=A(t.getAttribute("class")||"")}function O(t,e){for(var n=b(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function S(t,e){for(var n=b(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}w.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function M(){this.textContent=""}function T(){this.innerHTML=""}function D(){this.nextSibling&&this.parentNode.appendChild(this)}function C(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function F(){return null}function E(){var t=this.parentNode;t&&t.removeChild(this)}function P(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function L(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var R={},k=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(R={mouseenter:"mouseover",mouseleave:"mouseout"}));function I(t,e,n){return t=N(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function N(t,e,n){return function(i){var r=k;k=i;try{t.call(this,this.__data__,e,n)}finally{k=r}}}function G(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function j(t,e,n){var i=R.hasOwnProperty(t.type)?I:N;return function(r,o,a){var s,l=this.__on,u=i(e,o,a);if(l)for(var c=0,h=l.length;c<h;++c)if((s=l[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function V(t,e,n){var i=_(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}var z=[null];function B(t,e){this._groups=t,this._parents=e}function U(){return new B([[document.documentElement]],z)}B.prototype=U.prototype={constructor:B,select:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],u=s.length,c=i[r]=new Array(u),h=0;h<u;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),c[h]=a);return new B(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?u:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),r.push(a));return new B(i,r)},filter:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new B(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),u=-1,this.each(function(t){d[++u]=t}),d;var n=e?y:m,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=i[u],h=r[u],p=h.length,d=t.call(c,c&&c.__data__,u,i),f=d.length,v=s[u]=new Array(f),g=a[u]=new Array(f);n(c,h,v,g,l[u]=new Array(p),d,e);for(var x,_,A=0,b=0;A<f;++A)if(x=v[A]){for(A>=b&&(b=A+1);!(_=g[b])&&++b<f;);x._next=_||null}}return(a=new B(a,i))._enter=s,a._exit=l,a},enter:function(){return new B(this._enter||this._groups.map(f),this._parents)},exit:function(){return new B(this._exit||this._groups.map(f),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,u=e[s],c=n[s],h=u.length,p=a[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(p[d]=l);for(;s<i;++s)a[s]=e[s];return new B(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=x);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,u=r[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(e)}return new B(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=o(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||_(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=A(t+"");if(arguments.length<2){for(var i=b(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?O:S)(this,t)}}:e?function(t){return function(){O(this,t)}}:function(t){return function(){S(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?M:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?T:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(D)},lower:function(){return this.each(C)},append:function(t){var e="function"==typeof t?t:a(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:a(t),i=null==e?F:"function"==typeof e?e:l(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(E)},clone:function(t){return this.select(t?L:P)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?j:G,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(i=0,l=s[u];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return V(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return V(this,t,e)}})(t,e))}};var H=function(t){return"string"==typeof t?new B([[document.querySelector(t)]],[document.documentElement]):new B([[t]],z)},q=0;function X(){this._="@"+(++q).toString(36)}X.prototype=function(){return new X}.prototype={constructor:X,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var W=n(0),Y=n.n(W),K=n(3),Q=n.n(K),Z=(n(6),n(4)),J=n.n(Z),$=n(1);function tt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}document.write(J()());var et=Y.a.map({node:"#map",center:{x:-72.583333,y:49.833333}});et.createLayer("osm");var nt=et.createLayer("feature",{features:["point"]}).createFeature("point",{primitiveShape:"sprite",selectionAPI:!0}),it=function(t){var e=[];return Object.keys(t).forEach(function(n){var i={x:t[n].airport.lon,y:t[n].airport.lat,name:t[n].airport["Airport Name"],code:t[n].airport["Airport Code"],total:t[n].total,data:t[n]};delete i.data.airport,delete i.data.total,e.push(i)}),e}($);nt.style({radius:function(t,e){return 5+Math.sqrt(t.total)}}),nt.data(it),nt.geoOn(Y.a.event.feature.mouseclick,function(t){t.top&&(t.idx,console.log(t.data),function(t,e){var n=H(rt.canvas());n.selectAll("*").remove();var i=Object.keys(t).sort(function(t,e){return t<e?-1:t>e?1:0}),r=i.map(function(e){return t[e].values["Approve in Full"]||0}),o=i.map(function(e){return t[e].values.Deny||0}),a=i.map(function(e){return t[e].values.Settle||0});i=i.map(function(t){return t.replace(/\//g,"-")+"-01"}),Q.a.generate({bindto:n.node(),data:{x:"x",columns:[["x"].concat(tt(i)),["Approve"].concat(tt(r)),["Deny"].concat(tt(o)),["Settle"].concat(tt(a))]},axis:{x:{type:"timeseries",tick:{format:"%Y-%m",rotate:45}},y:{label:{text:"US Dollars",position:"outer-middle"}}}}),n.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",600).attr("height",400).style("fill","white").style("opacity",.8),n.append("text").attr("x",300).attr("y",50).style("text-anchor","middle").text(e)}($[t.data.code],t.data.code))}),nt.draw();var rt=et.createLayer("ui").createWidget("svg");H(rt.canvas()).style("width","600px").style("height","400px")}]);